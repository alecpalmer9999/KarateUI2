/*! For license information please see background.js.LICENSE.txt */
(()=>{var t={8699:(t,e)=>{"use strict";function n(t){let e=0;if(0==t.length)return e;for(let n=0;n<t.length;n++)e=(e<<5)-e+t.charCodeAt(n),e&=e;return e}Object.defineProperty(e,"__esModule",{value:!0}),e.generatePercentageHash=e.generateHash=void 0,e.generateHash=function(t,e){if(t&&e)return n(t+e).toString()},e.generatePercentageHash=function(t){return Math.abs(n(t))%100/100}},2186:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.hashEmail=void 0;const r=n(8699);e.hashEmail=function(t,e){return(t=t.toLowerCase()).split("@").map((t=>(0,r.generateHash)(t,e))).join(",")}},2840:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.generatePercentageHash=e.generateHash=e.hashEmail=e.obfuscate=void 0;var r=n(2041);Object.defineProperty(e,"obfuscate",{enumerable:!0,get:function(){return r.obfuscate}});var i=n(2186);Object.defineProperty(e,"hashEmail",{enumerable:!0,get:function(){return i.hashEmail}});var o=n(8699);Object.defineProperty(e,"generateHash",{enumerable:!0,get:function(){return o.generateHash}}),Object.defineProperty(e,"generatePercentageHash",{enumerable:!0,get:function(){return o.generatePercentageHash}})},2041:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.obfuscate=void 0,e.obfuscate=function(t){const e=[];for(let n=t.length-1;n>=0;n--){const r=t.charCodeAt(n);e.push(31&~(31&r)|-32&r)}return String.fromCharCode.apply(null,e)}},9742:(t,e)=>{"use strict";e.byteLength=function(t){var e=a(t),n=e[0],r=e[1];return 3*(n+r)/4-r},e.toByteArray=function(t){var e,n,o=a(t),s=o[0],c=o[1],u=new i(function(t,e,n){return 3*(e+n)/4-n}(0,s,c)),l=0,h=c>0?s-4:s;for(n=0;n<h;n+=4)e=r[t.charCodeAt(n)]<<18|r[t.charCodeAt(n+1)]<<12|r[t.charCodeAt(n+2)]<<6|r[t.charCodeAt(n+3)],u[l++]=e>>16&255,u[l++]=e>>8&255,u[l++]=255&e;return 2===c&&(e=r[t.charCodeAt(n)]<<2|r[t.charCodeAt(n+1)]>>4,u[l++]=255&e),1===c&&(e=r[t.charCodeAt(n)]<<10|r[t.charCodeAt(n+1)]<<4|r[t.charCodeAt(n+2)]>>2,u[l++]=e>>8&255,u[l++]=255&e),u},e.fromByteArray=function(t){for(var e,r=t.length,i=r%3,o=[],s=16383,a=0,u=r-i;a<u;a+=s)o.push(c(t,a,a+s>u?u:a+s));return 1===i?(e=t[r-1],o.push(n[e>>2]+n[e<<4&63]+"==")):2===i&&(e=(t[r-2]<<8)+t[r-1],o.push(n[e>>10]+n[e>>4&63]+n[e<<2&63]+"=")),o.join("")};for(var n=[],r=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0;s<64;++s)n[s]=o[s],r[o.charCodeAt(s)]=s;function a(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function c(t,e,r){for(var i,o,s=[],a=e;a<r;a+=3)i=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(255&t[a+2]),s.push(n[(o=i)>>18&63]+n[o>>12&63]+n[o>>6&63]+n[63&o]);return s.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},8764:(t,e,n)=>{"use strict";const r=n(9742),i=n(645),o="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;e.lW=c,e.h2=50;const s=2147483647;function a(t){if(t>s)throw new RangeError('The value "'+t+'" is invalid for option "size"');const e=new Uint8Array(t);return Object.setPrototypeOf(e,c.prototype),e}function c(t,e,n){if("number"==typeof t){if("string"==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return h(t)}return u(t,e,n)}function u(t,e,n){if("string"==typeof t)return function(t,e){if("string"==typeof e&&""!==e||(e="utf8"),!c.isEncoding(e))throw new TypeError("Unknown encoding: "+e);const n=0|g(t,e);let r=a(n);const i=r.write(t,e);return i!==n&&(r=r.slice(0,i)),r}(t,e);if(ArrayBuffer.isView(t))return function(t){if(J(t,Uint8Array)){const e=new Uint8Array(t);return f(e.buffer,e.byteOffset,e.byteLength)}return d(t)}(t);if(null==t)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(J(t,ArrayBuffer)||t&&J(t.buffer,ArrayBuffer))return f(t,e,n);if("undefined"!=typeof SharedArrayBuffer&&(J(t,SharedArrayBuffer)||t&&J(t.buffer,SharedArrayBuffer)))return f(t,e,n);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');const r=t.valueOf&&t.valueOf();if(null!=r&&r!==t)return c.from(r,e,n);const i=function(t){if(c.isBuffer(t)){const e=0|p(t.length),n=a(e);return 0===n.length||t.copy(n,0,0,e),n}return void 0!==t.length?"number"!=typeof t.length||Y(t.length)?a(0):d(t):"Buffer"===t.type&&Array.isArray(t.data)?d(t.data):void 0}(t);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return c.from(t[Symbol.toPrimitive]("string"),e,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function l(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function h(t){return l(t),a(t<0?0:0|p(t))}function d(t){const e=t.length<0?0:0|p(t.length),n=a(e);for(let r=0;r<e;r+=1)n[r]=255&t[r];return n}function f(t,e,n){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(n||0))throw new RangeError('"length" is outside of buffer bounds');let r;return r=void 0===e&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,e):new Uint8Array(t,e,n),Object.setPrototypeOf(r,c.prototype),r}function p(t){if(t>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return 0|t}function g(t,e){if(c.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||J(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);const n=t.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;let i=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return z(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return K(t).length;default:if(i)return r?-1:z(t).length;e=(""+e).toLowerCase(),i=!0}}function v(t,e,n){let r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return k(this,e,n);case"utf8":case"utf-8":return C(this,e,n);case"ascii":return T(this,e,n);case"latin1":case"binary":return _(this,e,n);case"base64":return D(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function m(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function y(t,e,n,r,i){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),Y(n=+n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof e&&(e=c.from(e,r)),c.isBuffer(e))return 0===e.length?-1:w(t,e,n,r,i);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):w(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function w(t,e,n,r,i){let o,s=1,a=t.length,c=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;s=2,a/=2,c/=2,n/=2}function u(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(i){let r=-1;for(o=n;o<a;o++)if(u(t,o)===u(e,-1===r?0:o-r)){if(-1===r&&(r=o),o-r+1===c)return r*s}else-1!==r&&(o-=o-r),r=-1}else for(n+c>a&&(n=a-c),o=n;o>=0;o--){let n=!0;for(let r=0;r<c;r++)if(u(t,o+r)!==u(e,r)){n=!1;break}if(n)return o}return-1}function b(t,e,n,r){n=Number(n)||0;const i=t.length-n;r?(r=Number(r))>i&&(r=i):r=i;const o=e.length;let s;for(r>o/2&&(r=o/2),s=0;s<r;++s){const r=parseInt(e.substr(2*s,2),16);if(Y(r))return s;t[n+s]=r}return s}function x(t,e,n,r){return $(z(e,t.length-n),t,n,r)}function S(t,e,n,r){return $(function(t){const e=[];for(let n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function E(t,e,n,r){return $(K(e),t,n,r)}function A(t,e,n,r){return $(function(t,e){let n,r,i;const o=[];for(let s=0;s<t.length&&!((e-=2)<0);++s)n=t.charCodeAt(s),r=n>>8,i=n%256,o.push(i),o.push(r);return o}(e,t.length-n),t,n,r)}function D(t,e,n){return 0===e&&n===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,n))}function C(t,e,n){n=Math.min(t.length,n);const r=[];let i=e;for(;i<n;){const e=t[i];let o=null,s=e>239?4:e>223?3:e>191?2:1;if(i+s<=n){let n,r,a,c;switch(s){case 1:e<128&&(o=e);break;case 2:n=t[i+1],128==(192&n)&&(c=(31&e)<<6|63&n,c>127&&(o=c));break;case 3:n=t[i+1],r=t[i+2],128==(192&n)&&128==(192&r)&&(c=(15&e)<<12|(63&n)<<6|63&r,c>2047&&(c<55296||c>57343)&&(o=c));break;case 4:n=t[i+1],r=t[i+2],a=t[i+3],128==(192&n)&&128==(192&r)&&128==(192&a)&&(c=(15&e)<<18|(63&n)<<12|(63&r)<<6|63&a,c>65535&&c<1114112&&(o=c))}}null===o?(o=65533,s=1):o>65535&&(o-=65536,r.push(o>>>10&1023|55296),o=56320|1023&o),r.push(o),i+=s}return function(t){const e=t.length;if(e<=I)return String.fromCharCode.apply(String,t);let n="",r=0;for(;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=I));return n}(r)}c.TYPED_ARRAY_SUPPORT=function(){try{const t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(t){return!1}}(),c.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}}),c.poolSize=8192,c.from=function(t,e,n){return u(t,e,n)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array),c.alloc=function(t,e,n){return function(t,e,n){return l(t),t<=0?a(t):void 0!==e?"string"==typeof n?a(t).fill(e,n):a(t).fill(e):a(t)}(t,e,n)},c.allocUnsafe=function(t){return h(t)},c.allocUnsafeSlow=function(t){return h(t)},c.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==c.prototype},c.compare=function(t,e){if(J(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),J(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),!c.isBuffer(t)||!c.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;let n=t.length,r=e.length;for(let i=0,o=Math.min(n,r);i<o;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},c.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return c.alloc(0);let n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;const r=c.allocUnsafe(e);let i=0;for(n=0;n<t.length;++n){let e=t[n];if(J(e,Uint8Array))i+e.length>r.length?(c.isBuffer(e)||(e=c.from(e)),e.copy(r,i)):Uint8Array.prototype.set.call(r,e,i);else{if(!c.isBuffer(e))throw new TypeError('"list" argument must be an Array of Buffers');e.copy(r,i)}i+=e.length}return r},c.byteLength=g,c.prototype._isBuffer=!0,c.prototype.swap16=function(){const t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let e=0;e<t;e+=2)m(this,e,e+1);return this},c.prototype.swap32=function(){const t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let e=0;e<t;e+=4)m(this,e,e+3),m(this,e+1,e+2);return this},c.prototype.swap64=function(){const t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let e=0;e<t;e+=8)m(this,e,e+7),m(this,e+1,e+6),m(this,e+2,e+5),m(this,e+3,e+4);return this},c.prototype.toString=function(){const t=this.length;return 0===t?"":0===arguments.length?C(this,0,t):v.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(t){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===c.compare(this,t)},c.prototype.inspect=function(){let t="";const n=e.h2;return t=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(t+=" ... "),"<Buffer "+t+">"},o&&(c.prototype[o]=c.prototype.inspect),c.prototype.compare=function(t,e,n,r,i){if(J(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),!c.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),e<0||n>t.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&e>=n)return 0;if(r>=i)return-1;if(e>=n)return 1;if(this===t)return 0;let o=(i>>>=0)-(r>>>=0),s=(n>>>=0)-(e>>>=0);const a=Math.min(o,s),u=this.slice(r,i),l=t.slice(e,n);for(let t=0;t<a;++t)if(u[t]!==l[t]){o=u[t],s=l[t];break}return o<s?-1:s<o?1:0},c.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},c.prototype.indexOf=function(t,e,n){return y(this,t,e,n,!0)},c.prototype.lastIndexOf=function(t,e,n){return y(this,t,e,n,!1)},c.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}const i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");let o=!1;for(;;)switch(r){case"hex":return b(this,t,e,n);case"utf8":case"utf-8":return x(this,t,e,n);case"ascii":case"latin1":case"binary":return S(this,t,e,n);case"base64":return E(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const I=4096;function T(t,e,n){let r="";n=Math.min(t.length,n);for(let i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function _(t,e,n){let r="";n=Math.min(t.length,n);for(let i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function k(t,e,n){const r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);let i="";for(let r=e;r<n;++r)i+=Z[t[r]];return i}function R(t,e,n){const r=t.slice(e,n);let i="";for(let t=0;t<r.length-1;t+=2)i+=String.fromCharCode(r[t]+256*r[t+1]);return i}function L(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function P(t,e,n,r,i,o){if(!c.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function O(t,e,n,r,i){j(e,r,i,t,n,7);let o=Number(e&BigInt(4294967295));t[n++]=o,o>>=8,t[n++]=o,o>>=8,t[n++]=o,o>>=8,t[n++]=o;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[n++]=s,s>>=8,t[n++]=s,s>>=8,t[n++]=s,s>>=8,t[n++]=s,n}function N(t,e,n,r,i){j(e,r,i,t,n,7);let o=Number(e&BigInt(4294967295));t[n+7]=o,o>>=8,t[n+6]=o,o>>=8,t[n+5]=o,o>>=8,t[n+4]=o;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[n+3]=s,s>>=8,t[n+2]=s,s>>=8,t[n+1]=s,s>>=8,t[n]=s,n+8}function M(t,e,n,r,i,o){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function B(t,e,n,r,o){return e=+e,n>>>=0,o||M(t,0,n,4),i.write(t,e,n,r,23,4),n+4}function U(t,e,n,r,o){return e=+e,n>>>=0,o||M(t,0,n,8),i.write(t,e,n,r,52,8),n+8}c.prototype.slice=function(t,e){const n=this.length;(t=~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),(e=void 0===e?n:~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t);const r=this.subarray(t,e);return Object.setPrototypeOf(r,c.prototype),r},c.prototype.readUintLE=c.prototype.readUIntLE=function(t,e,n){t>>>=0,e>>>=0,n||L(t,e,this.length);let r=this[t],i=1,o=0;for(;++o<e&&(i*=256);)r+=this[t+o]*i;return r},c.prototype.readUintBE=c.prototype.readUIntBE=function(t,e,n){t>>>=0,e>>>=0,n||L(t,e,this.length);let r=this[t+--e],i=1;for(;e>0&&(i*=256);)r+=this[t+--e]*i;return r},c.prototype.readUint8=c.prototype.readUInt8=function(t,e){return t>>>=0,e||L(t,1,this.length),this[t]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(t,e){return t>>>=0,e||L(t,2,this.length),this[t]|this[t+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(t,e){return t>>>=0,e||L(t,2,this.length),this[t]<<8|this[t+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(t,e){return t>>>=0,e||L(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(t,e){return t>>>=0,e||L(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},c.prototype.readBigUInt64LE=X((function(t){V(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||G(t,this.length-8);const r=e+256*this[++t]+65536*this[++t]+this[++t]*2**24,i=this[++t]+256*this[++t]+65536*this[++t]+n*2**24;return BigInt(r)+(BigInt(i)<<BigInt(32))})),c.prototype.readBigUInt64BE=X((function(t){V(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||G(t,this.length-8);const r=e*2**24+65536*this[++t]+256*this[++t]+this[++t],i=this[++t]*2**24+65536*this[++t]+256*this[++t]+n;return(BigInt(r)<<BigInt(32))+BigInt(i)})),c.prototype.readIntLE=function(t,e,n){t>>>=0,e>>>=0,n||L(t,e,this.length);let r=this[t],i=1,o=0;for(;++o<e&&(i*=256);)r+=this[t+o]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*e)),r},c.prototype.readIntBE=function(t,e,n){t>>>=0,e>>>=0,n||L(t,e,this.length);let r=e,i=1,o=this[t+--r];for(;r>0&&(i*=256);)o+=this[t+--r]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*e)),o},c.prototype.readInt8=function(t,e){return t>>>=0,e||L(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},c.prototype.readInt16LE=function(t,e){t>>>=0,e||L(t,2,this.length);const n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(t,e){t>>>=0,e||L(t,2,this.length);const n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(t,e){return t>>>=0,e||L(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},c.prototype.readInt32BE=function(t,e){return t>>>=0,e||L(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},c.prototype.readBigInt64LE=X((function(t){V(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||G(t,this.length-8);const r=this[t+4]+256*this[t+5]+65536*this[t+6]+(n<<24);return(BigInt(r)<<BigInt(32))+BigInt(e+256*this[++t]+65536*this[++t]+this[++t]*2**24)})),c.prototype.readBigInt64BE=X((function(t){V(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||G(t,this.length-8);const r=(e<<24)+65536*this[++t]+256*this[++t]+this[++t];return(BigInt(r)<<BigInt(32))+BigInt(this[++t]*2**24+65536*this[++t]+256*this[++t]+n)})),c.prototype.readFloatLE=function(t,e){return t>>>=0,e||L(t,4,this.length),i.read(this,t,!0,23,4)},c.prototype.readFloatBE=function(t,e){return t>>>=0,e||L(t,4,this.length),i.read(this,t,!1,23,4)},c.prototype.readDoubleLE=function(t,e){return t>>>=0,e||L(t,8,this.length),i.read(this,t,!0,52,8)},c.prototype.readDoubleBE=function(t,e){return t>>>=0,e||L(t,8,this.length),i.read(this,t,!1,52,8)},c.prototype.writeUintLE=c.prototype.writeUIntLE=function(t,e,n,r){t=+t,e>>>=0,n>>>=0,r||P(this,t,e,n,Math.pow(2,8*n)-1,0);let i=1,o=0;for(this[e]=255&t;++o<n&&(i*=256);)this[e+o]=t/i&255;return e+n},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(t,e,n,r){t=+t,e>>>=0,n>>>=0,r||P(this,t,e,n,Math.pow(2,8*n)-1,0);let i=n-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+n},c.prototype.writeUint8=c.prototype.writeUInt8=function(t,e,n){return t=+t,e>>>=0,n||P(this,t,e,1,255,0),this[e]=255&t,e+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(t,e,n){return t=+t,e>>>=0,n||P(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(t,e,n){return t=+t,e>>>=0,n||P(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(t,e,n){return t=+t,e>>>=0,n||P(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(t,e,n){return t=+t,e>>>=0,n||P(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},c.prototype.writeBigUInt64LE=X((function(t,e=0){return O(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),c.prototype.writeBigUInt64BE=X((function(t,e=0){return N(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),c.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e>>>=0,!r){const r=Math.pow(2,8*n-1);P(this,t,e,n,r-1,-r)}let i=0,o=1,s=0;for(this[e]=255&t;++i<n&&(o*=256);)t<0&&0===s&&0!==this[e+i-1]&&(s=1),this[e+i]=(t/o>>0)-s&255;return e+n},c.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e>>>=0,!r){const r=Math.pow(2,8*n-1);P(this,t,e,n,r-1,-r)}let i=n-1,o=1,s=0;for(this[e+i]=255&t;--i>=0&&(o*=256);)t<0&&0===s&&0!==this[e+i+1]&&(s=1),this[e+i]=(t/o>>0)-s&255;return e+n},c.prototype.writeInt8=function(t,e,n){return t=+t,e>>>=0,n||P(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},c.prototype.writeInt16LE=function(t,e,n){return t=+t,e>>>=0,n||P(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},c.prototype.writeInt16BE=function(t,e,n){return t=+t,e>>>=0,n||P(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},c.prototype.writeInt32LE=function(t,e,n){return t=+t,e>>>=0,n||P(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},c.prototype.writeInt32BE=function(t,e,n){return t=+t,e>>>=0,n||P(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},c.prototype.writeBigInt64LE=X((function(t,e=0){return O(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),c.prototype.writeBigInt64BE=X((function(t,e=0){return N(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),c.prototype.writeFloatLE=function(t,e,n){return B(this,t,e,!0,n)},c.prototype.writeFloatBE=function(t,e,n){return B(this,t,e,!1,n)},c.prototype.writeDoubleLE=function(t,e,n){return U(this,t,e,!0,n)},c.prototype.writeDoubleBE=function(t,e,n){return U(this,t,e,!1,n)},c.prototype.copy=function(t,e,n,r){if(!c.isBuffer(t))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);const i=r-n;return this===t&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(e,n,r):Uint8Array.prototype.set.call(t,this.subarray(n,r),e),i},c.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!c.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===t.length){const e=t.charCodeAt(0);("utf8"===r&&e<128||"latin1"===r)&&(t=e)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;let i;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(i=e;i<n;++i)this[i]=t;else{const o=c.isBuffer(t)?t:c.from(t,r),s=o.length;if(0===s)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(i=0;i<n-e;++i)this[i+e]=o[i%s]}return this};const F={};function q(t,e,n){F[t]=class extends n{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(t){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:t,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}function H(t){let e="",n=t.length;const r="-"===t[0]?1:0;for(;n>=r+4;n-=3)e=`_${t.slice(n-3,n)}${e}`;return`${t.slice(0,n)}${e}`}function j(t,e,n,r,i,o){if(t>n||t<e){const r="bigint"==typeof e?"n":"";let i;throw i=o>3?0===e||e===BigInt(0)?`>= 0${r} and < 2${r} ** ${8*(o+1)}${r}`:`>= -(2${r} ** ${8*(o+1)-1}${r}) and < 2 ** ${8*(o+1)-1}${r}`:`>= ${e}${r} and <= ${n}${r}`,new F.ERR_OUT_OF_RANGE("value",i,t)}!function(t,e,n){V(e,"offset"),void 0!==t[e]&&void 0!==t[e+n]||G(e,t.length-(n+1))}(r,i,o)}function V(t,e){if("number"!=typeof t)throw new F.ERR_INVALID_ARG_TYPE(e,"number",t)}function G(t,e,n){if(Math.floor(t)!==t)throw V(t,n),new F.ERR_OUT_OF_RANGE(n||"offset","an integer",t);if(e<0)throw new F.ERR_BUFFER_OUT_OF_BOUNDS;throw new F.ERR_OUT_OF_RANGE(n||"offset",`>= ${n?1:0} and <= ${e}`,t)}q("ERR_BUFFER_OUT_OF_BOUNDS",(function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),q("ERR_INVALID_ARG_TYPE",(function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`}),TypeError),q("ERR_OUT_OF_RANGE",(function(t,e,n){let r=`The value of "${t}" is out of range.`,i=n;return Number.isInteger(n)&&Math.abs(n)>2**32?i=H(String(n)):"bigint"==typeof n&&(i=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(i=H(i)),i+="n"),r+=` It must be ${e}. Received ${i}`,r}),RangeError);const W=/[^+/0-9A-Za-z-_]/g;function z(t,e){let n;e=e||1/0;const r=t.length;let i=null;const o=[];for(let s=0;s<r;++s){if(n=t.charCodeAt(s),n>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function K(t){return r.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(W,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function $(t,e,n,r){let i;for(i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}function J(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function Y(t){return t!=t}const Z=function(){const t="0123456789abcdef",e=new Array(256);for(let n=0;n<16;++n){const r=16*n;for(let i=0;i<16;++i)e[r+i]=t[n]+t[i]}return e}();function X(t){return"undefined"==typeof BigInt?Q:t}function Q(){throw new Error("BigInt not supported")}},452:function(t,e,n){var r;t.exports=(r=n(8249),n(8269),n(8214),n(888),n(5109),function(){var t=r,e=t.lib.BlockCipher,n=t.algo,i=[],o=[],s=[],a=[],c=[],u=[],l=[],h=[],d=[],f=[];!function(){for(var t=[],e=0;e<256;e++)t[e]=e<128?e<<1:e<<1^283;var n=0,r=0;for(e=0;e<256;e++){var p=r^r<<1^r<<2^r<<3^r<<4;p=p>>>8^255&p^99,i[n]=p,o[p]=n;var g=t[n],v=t[g],m=t[v],y=257*t[p]^16843008*p;s[n]=y<<24|y>>>8,a[n]=y<<16|y>>>16,c[n]=y<<8|y>>>24,u[n]=y,y=16843009*m^65537*v^257*g^16843008*n,l[p]=y<<24|y>>>8,h[p]=y<<16|y>>>16,d[p]=y<<8|y>>>24,f[p]=y,n?(n=g^t[t[t[m^g]]],r^=t[t[r]]):n=r=1}}();var p=[0,1,2,4,8,16,32,64,128,27,54],g=n.AES=e.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var t=this._keyPriorReset=this._key,e=t.words,n=t.sigBytes/4,r=4*((this._nRounds=n+6)+1),o=this._keySchedule=[],s=0;s<r;s++)s<n?o[s]=e[s]:(u=o[s-1],s%n?n>6&&s%n==4&&(u=i[u>>>24]<<24|i[u>>>16&255]<<16|i[u>>>8&255]<<8|i[255&u]):(u=i[(u=u<<8|u>>>24)>>>24]<<24|i[u>>>16&255]<<16|i[u>>>8&255]<<8|i[255&u],u^=p[s/n|0]<<24),o[s]=o[s-n]^u);for(var a=this._invKeySchedule=[],c=0;c<r;c++){if(s=r-c,c%4)var u=o[s];else u=o[s-4];a[c]=c<4||s<=4?u:l[i[u>>>24]]^h[i[u>>>16&255]]^d[i[u>>>8&255]]^f[i[255&u]]}}},encryptBlock:function(t,e){this._doCryptBlock(t,e,this._keySchedule,s,a,c,u,i)},decryptBlock:function(t,e){var n=t[e+1];t[e+1]=t[e+3],t[e+3]=n,this._doCryptBlock(t,e,this._invKeySchedule,l,h,d,f,o),n=t[e+1],t[e+1]=t[e+3],t[e+3]=n},_doCryptBlock:function(t,e,n,r,i,o,s,a){for(var c=this._nRounds,u=t[e]^n[0],l=t[e+1]^n[1],h=t[e+2]^n[2],d=t[e+3]^n[3],f=4,p=1;p<c;p++){var g=r[u>>>24]^i[l>>>16&255]^o[h>>>8&255]^s[255&d]^n[f++],v=r[l>>>24]^i[h>>>16&255]^o[d>>>8&255]^s[255&u]^n[f++],m=r[h>>>24]^i[d>>>16&255]^o[u>>>8&255]^s[255&l]^n[f++],y=r[d>>>24]^i[u>>>16&255]^o[l>>>8&255]^s[255&h]^n[f++];u=g,l=v,h=m,d=y}g=(a[u>>>24]<<24|a[l>>>16&255]<<16|a[h>>>8&255]<<8|a[255&d])^n[f++],v=(a[l>>>24]<<24|a[h>>>16&255]<<16|a[d>>>8&255]<<8|a[255&u])^n[f++],m=(a[h>>>24]<<24|a[d>>>16&255]<<16|a[u>>>8&255]<<8|a[255&l])^n[f++],y=(a[d>>>24]<<24|a[u>>>16&255]<<16|a[l>>>8&255]<<8|a[255&h])^n[f++],t[e]=g,t[e+1]=v,t[e+2]=m,t[e+3]=y},keySize:8});t.AES=e._createHelper(g)}(),r.AES)},5109:function(t,e,n){var r,i,o,s,a,c,u,l,h,d,f,p,g,v,m,y,w,b,x;t.exports=(r=n(8249),n(888),void(r.lib.Cipher||(i=r,o=i.lib,s=o.Base,a=o.WordArray,c=o.BufferedBlockAlgorithm,u=i.enc,u.Utf8,l=u.Base64,h=i.algo.EvpKDF,d=o.Cipher=c.extend({cfg:s.extend(),createEncryptor:function(t,e){return this.create(this._ENC_XFORM_MODE,t,e)},createDecryptor:function(t,e){return this.create(this._DEC_XFORM_MODE,t,e)},init:function(t,e,n){this.cfg=this.cfg.extend(n),this._xformMode=t,this._key=e,this.reset()},reset:function(){c.reset.call(this),this._doReset()},process:function(t){return this._append(t),this._process()},finalize:function(t){return t&&this._append(t),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function t(t){return"string"==typeof t?x:w}return function(e){return{encrypt:function(n,r,i){return t(r).encrypt(e,n,r,i)},decrypt:function(n,r,i){return t(r).decrypt(e,n,r,i)}}}}()}),o.StreamCipher=d.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),f=i.mode={},p=o.BlockCipherMode=s.extend({createEncryptor:function(t,e){return this.Encryptor.create(t,e)},createDecryptor:function(t,e){return this.Decryptor.create(t,e)},init:function(t,e){this._cipher=t,this._iv=e}}),g=f.CBC=function(){var t=p.extend();function e(t,e,n){var r,i=this._iv;i?(r=i,this._iv=void 0):r=this._prevBlock;for(var o=0;o<n;o++)t[e+o]^=r[o]}return t.Encryptor=t.extend({processBlock:function(t,n){var r=this._cipher,i=r.blockSize;e.call(this,t,n,i),r.encryptBlock(t,n),this._prevBlock=t.slice(n,n+i)}}),t.Decryptor=t.extend({processBlock:function(t,n){var r=this._cipher,i=r.blockSize,o=t.slice(n,n+i);r.decryptBlock(t,n),e.call(this,t,n,i),this._prevBlock=o}}),t}(),v=(i.pad={}).Pkcs7={pad:function(t,e){for(var n=4*e,r=n-t.sigBytes%n,i=r<<24|r<<16|r<<8|r,o=[],s=0;s<r;s+=4)o.push(i);var c=a.create(o,r);t.concat(c)},unpad:function(t){var e=255&t.words[t.sigBytes-1>>>2];t.sigBytes-=e}},o.BlockCipher=d.extend({cfg:d.cfg.extend({mode:g,padding:v}),reset:function(){var t;d.reset.call(this);var e=this.cfg,n=e.iv,r=e.mode;this._xformMode==this._ENC_XFORM_MODE?t=r.createEncryptor:(t=r.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==t?this._mode.init(this,n&&n.words):(this._mode=t.call(r,this,n&&n.words),this._mode.__creator=t)},_doProcessBlock:function(t,e){this._mode.processBlock(t,e)},_doFinalize:function(){var t,e=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(e.pad(this._data,this.blockSize),t=this._process(!0)):(t=this._process(!0),e.unpad(t)),t},blockSize:4}),m=o.CipherParams=s.extend({init:function(t){this.mixIn(t)},toString:function(t){return(t||this.formatter).stringify(this)}}),y=(i.format={}).OpenSSL={stringify:function(t){var e=t.ciphertext,n=t.salt;return(n?a.create([1398893684,1701076831]).concat(n).concat(e):e).toString(l)},parse:function(t){var e,n=l.parse(t),r=n.words;return 1398893684==r[0]&&1701076831==r[1]&&(e=a.create(r.slice(2,4)),r.splice(0,4),n.sigBytes-=16),m.create({ciphertext:n,salt:e})}},w=o.SerializableCipher=s.extend({cfg:s.extend({format:y}),encrypt:function(t,e,n,r){r=this.cfg.extend(r);var i=t.createEncryptor(n,r),o=i.finalize(e),s=i.cfg;return m.create({ciphertext:o,key:n,iv:s.iv,algorithm:t,mode:s.mode,padding:s.padding,blockSize:t.blockSize,formatter:r.format})},decrypt:function(t,e,n,r){return r=this.cfg.extend(r),e=this._parse(e,r.format),t.createDecryptor(n,r).finalize(e.ciphertext)},_parse:function(t,e){return"string"==typeof t?e.parse(t,this):t}}),b=(i.kdf={}).OpenSSL={execute:function(t,e,n,r){r||(r=a.random(8));var i=h.create({keySize:e+n}).compute(t,r),o=a.create(i.words.slice(e),4*n);return i.sigBytes=4*e,m.create({key:i,iv:o,salt:r})}},x=o.PasswordBasedCipher=w.extend({cfg:w.cfg.extend({kdf:b}),encrypt:function(t,e,n,r){var i=(r=this.cfg.extend(r)).kdf.execute(n,t.keySize,t.ivSize);r.iv=i.iv;var o=w.encrypt.call(this,t,e,i.key,r);return o.mixIn(i),o},decrypt:function(t,e,n,r){r=this.cfg.extend(r),e=this._parse(e,r.format);var i=r.kdf.execute(n,t.keySize,t.ivSize,e.salt);return r.iv=i.iv,w.decrypt.call(this,t,e,i.key,r)}}))))},8249:function(t,e,n){var r;t.exports=(r=r||function(t,e){var r;if("undefined"!=typeof window&&window.crypto&&(r=window.crypto),"undefined"!=typeof self&&self.crypto&&(r=self.crypto),"undefined"!=typeof globalThis&&globalThis.crypto&&(r=globalThis.crypto),!r&&"undefined"!=typeof window&&window.msCrypto&&(r=window.msCrypto),!r&&void 0!==n.g&&n.g.crypto&&(r=n.g.crypto),!r)try{r=n(2480)}catch(t){}var i=function(){if(r){if("function"==typeof r.getRandomValues)try{return r.getRandomValues(new Uint32Array(1))[0]}catch(t){}if("function"==typeof r.randomBytes)try{return r.randomBytes(4).readInt32LE()}catch(t){}}throw new Error("Native crypto module could not be used to get secure random number.")},o=Object.create||function(){function t(){}return function(e){var n;return t.prototype=e,n=new t,t.prototype=null,n}}(),s={},a=s.lib={},c=a.Base={extend:function(t){var e=o(this);return t&&e.mixIn(t),e.hasOwnProperty("init")&&this.init!==e.init||(e.init=function(){e.$super.init.apply(this,arguments)}),e.init.prototype=e,e.$super=this,e},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},u=a.WordArray=c.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=null!=e?e:4*t.length},toString:function(t){return(t||h).stringify(this)},concat:function(t){var e=this.words,n=t.words,r=this.sigBytes,i=t.sigBytes;if(this.clamp(),r%4)for(var o=0;o<i;o++){var s=n[o>>>2]>>>24-o%4*8&255;e[r+o>>>2]|=s<<24-(r+o)%4*8}else for(var a=0;a<i;a+=4)e[r+a>>>2]=n[a>>>2];return this.sigBytes+=i,this},clamp:function(){var e=this.words,n=this.sigBytes;e[n>>>2]&=4294967295<<32-n%4*8,e.length=t.ceil(n/4)},clone:function(){var t=c.clone.call(this);return t.words=this.words.slice(0),t},random:function(t){for(var e=[],n=0;n<t;n+=4)e.push(i());return new u.init(e,t)}}),l=s.enc={},h=l.Hex={stringify:function(t){for(var e=t.words,n=t.sigBytes,r=[],i=0;i<n;i++){var o=e[i>>>2]>>>24-i%4*8&255;r.push((o>>>4).toString(16)),r.push((15&o).toString(16))}return r.join("")},parse:function(t){for(var e=t.length,n=[],r=0;r<e;r+=2)n[r>>>3]|=parseInt(t.substr(r,2),16)<<24-r%8*4;return new u.init(n,e/2)}},d=l.Latin1={stringify:function(t){for(var e=t.words,n=t.sigBytes,r=[],i=0;i<n;i++){var o=e[i>>>2]>>>24-i%4*8&255;r.push(String.fromCharCode(o))}return r.join("")},parse:function(t){for(var e=t.length,n=[],r=0;r<e;r++)n[r>>>2]|=(255&t.charCodeAt(r))<<24-r%4*8;return new u.init(n,e)}},f=l.Utf8={stringify:function(t){try{return decodeURIComponent(escape(d.stringify(t)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(t){return d.parse(unescape(encodeURIComponent(t)))}},p=a.BufferedBlockAlgorithm=c.extend({reset:function(){this._data=new u.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=f.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(e){var n,r=this._data,i=r.words,o=r.sigBytes,s=this.blockSize,a=o/(4*s),c=(a=e?t.ceil(a):t.max((0|a)-this._minBufferSize,0))*s,l=t.min(4*c,o);if(c){for(var h=0;h<c;h+=s)this._doProcessBlock(i,h);n=i.splice(0,c),r.sigBytes-=l}return new u.init(n,l)},clone:function(){var t=c.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0}),g=(a.Hasher=p.extend({cfg:c.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){p.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(t){return function(e,n){return new t.init(n).finalize(e)}},_createHmacHelper:function(t){return function(e,n){return new g.HMAC.init(t,n).finalize(e)}}}),s.algo={});return s}(Math),r)},8269:function(t,e,n){var r,i,o;t.exports=(r=n(8249),o=(i=r).lib.WordArray,i.enc.Base64={stringify:function(t){var e=t.words,n=t.sigBytes,r=this._map;t.clamp();for(var i=[],o=0;o<n;o+=3)for(var s=(e[o>>>2]>>>24-o%4*8&255)<<16|(e[o+1>>>2]>>>24-(o+1)%4*8&255)<<8|e[o+2>>>2]>>>24-(o+2)%4*8&255,a=0;a<4&&o+.75*a<n;a++)i.push(r.charAt(s>>>6*(3-a)&63));var c=r.charAt(64);if(c)for(;i.length%4;)i.push(c);return i.join("")},parse:function(t){var e=t.length,n=this._map,r=this._reverseMap;if(!r){r=this._reverseMap=[];for(var i=0;i<n.length;i++)r[n.charCodeAt(i)]=i}var s=n.charAt(64);if(s){var a=t.indexOf(s);-1!==a&&(e=a)}return function(t,e,n){for(var r=[],i=0,s=0;s<e;s++)if(s%4){var a=n[t.charCodeAt(s-1)]<<s%4*2|n[t.charCodeAt(s)]>>>6-s%4*2;r[i>>>2]|=a<<24-i%4*8,i++}return o.create(r,i)}(t,e,r)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},r.enc.Base64)},3786:function(t,e,n){var r,i,o;t.exports=(r=n(8249),o=(i=r).lib.WordArray,i.enc.Base64url={stringify:function(t,e=!0){var n=t.words,r=t.sigBytes,i=e?this._safe_map:this._map;t.clamp();for(var o=[],s=0;s<r;s+=3)for(var a=(n[s>>>2]>>>24-s%4*8&255)<<16|(n[s+1>>>2]>>>24-(s+1)%4*8&255)<<8|n[s+2>>>2]>>>24-(s+2)%4*8&255,c=0;c<4&&s+.75*c<r;c++)o.push(i.charAt(a>>>6*(3-c)&63));var u=i.charAt(64);if(u)for(;o.length%4;)o.push(u);return o.join("")},parse:function(t,e=!0){var n=t.length,r=e?this._safe_map:this._map,i=this._reverseMap;if(!i){i=this._reverseMap=[];for(var s=0;s<r.length;s++)i[r.charCodeAt(s)]=s}var a=r.charAt(64);if(a){var c=t.indexOf(a);-1!==c&&(n=c)}return function(t,e,n){for(var r=[],i=0,s=0;s<e;s++)if(s%4){var a=n[t.charCodeAt(s-1)]<<s%4*2|n[t.charCodeAt(s)]>>>6-s%4*2;r[i>>>2]|=a<<24-i%4*8,i++}return o.create(r,i)}(t,n,i)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"},r.enc.Base64url)},298:function(t,e,n){var r;t.exports=(r=n(8249),function(){var t=r,e=t.lib.WordArray,n=t.enc;function i(t){return t<<8&4278255360|t>>>8&16711935}n.Utf16=n.Utf16BE={stringify:function(t){for(var e=t.words,n=t.sigBytes,r=[],i=0;i<n;i+=2){var o=e[i>>>2]>>>16-i%4*8&65535;r.push(String.fromCharCode(o))}return r.join("")},parse:function(t){for(var n=t.length,r=[],i=0;i<n;i++)r[i>>>1]|=t.charCodeAt(i)<<16-i%2*16;return e.create(r,2*n)}},n.Utf16LE={stringify:function(t){for(var e=t.words,n=t.sigBytes,r=[],o=0;o<n;o+=2){var s=i(e[o>>>2]>>>16-o%4*8&65535);r.push(String.fromCharCode(s))}return r.join("")},parse:function(t){for(var n=t.length,r=[],o=0;o<n;o++)r[o>>>1]|=i(t.charCodeAt(o)<<16-o%2*16);return e.create(r,2*n)}}}(),r.enc.Utf16)},888:function(t,e,n){var r,i,o,s,a,c,u,l;t.exports=(l=n(8249),n(2783),n(9824),o=(i=(r=l).lib).Base,s=i.WordArray,c=(a=r.algo).MD5,u=a.EvpKDF=o.extend({cfg:o.extend({keySize:4,hasher:c,iterations:1}),init:function(t){this.cfg=this.cfg.extend(t)},compute:function(t,e){for(var n,r=this.cfg,i=r.hasher.create(),o=s.create(),a=o.words,c=r.keySize,u=r.iterations;a.length<c;){n&&i.update(n),n=i.update(t).finalize(e),i.reset();for(var l=1;l<u;l++)n=i.finalize(n),i.reset();o.concat(n)}return o.sigBytes=4*c,o}}),r.EvpKDF=function(t,e,n){return u.create(n).compute(t,e)},l.EvpKDF)},2209:function(t,e,n){var r,i,o,s;t.exports=(s=n(8249),n(5109),i=(r=s).lib.CipherParams,o=r.enc.Hex,r.format.Hex={stringify:function(t){return t.ciphertext.toString(o)},parse:function(t){var e=o.parse(t);return i.create({ciphertext:e})}},s.format.Hex)},9824:function(t,e,n){var r,i,o;t.exports=(i=(r=n(8249)).lib.Base,o=r.enc.Utf8,void(r.algo.HMAC=i.extend({init:function(t,e){t=this._hasher=new t.init,"string"==typeof e&&(e=o.parse(e));var n=t.blockSize,r=4*n;e.sigBytes>r&&(e=t.finalize(e)),e.clamp();for(var i=this._oKey=e.clone(),s=this._iKey=e.clone(),a=i.words,c=s.words,u=0;u<n;u++)a[u]^=1549556828,c[u]^=909522486;i.sigBytes=s.sigBytes=r,this.reset()},reset:function(){var t=this._hasher;t.reset(),t.update(this._iKey)},update:function(t){return this._hasher.update(t),this},finalize:function(t){var e=this._hasher,n=e.finalize(t);return e.reset(),e.finalize(this._oKey.clone().concat(n))}})))},1354:function(t,e,n){var r;t.exports=(r=n(8249),n(4938),n(4433),n(298),n(8269),n(3786),n(8214),n(2783),n(2153),n(7792),n(34),n(7460),n(3327),n(706),n(9824),n(2112),n(888),n(5109),n(8568),n(4242),n(9968),n(7660),n(1148),n(3615),n(2807),n(1077),n(6475),n(6991),n(2209),n(452),n(4253),n(1857),n(4454),n(3974),r)},4433:function(t,e,n){var r;t.exports=(r=n(8249),function(){if("function"==typeof ArrayBuffer){var t=r.lib.WordArray,e=t.init,n=t.init=function(t){if(t instanceof ArrayBuffer&&(t=new Uint8Array(t)),(t instanceof Int8Array||"undefined"!=typeof Uint8ClampedArray&&t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float32Array||t instanceof Float64Array)&&(t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength)),t instanceof Uint8Array){for(var n=t.byteLength,r=[],i=0;i<n;i++)r[i>>>2]|=t[i]<<24-i%4*8;e.call(this,r,n)}else e.apply(this,arguments)};n.prototype=t}}(),r.lib.WordArray)},8214:function(t,e,n){var r;t.exports=(r=n(8249),function(t){var e=r,n=e.lib,i=n.WordArray,o=n.Hasher,s=e.algo,a=[];!function(){for(var e=0;e<64;e++)a[e]=4294967296*t.abs(t.sin(e+1))|0}();var c=s.MD5=o.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(t,e){for(var n=0;n<16;n++){var r=e+n,i=t[r];t[r]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}var o=this._hash.words,s=t[e+0],c=t[e+1],f=t[e+2],p=t[e+3],g=t[e+4],v=t[e+5],m=t[e+6],y=t[e+7],w=t[e+8],b=t[e+9],x=t[e+10],S=t[e+11],E=t[e+12],A=t[e+13],D=t[e+14],C=t[e+15],I=o[0],T=o[1],_=o[2],k=o[3];I=u(I,T,_,k,s,7,a[0]),k=u(k,I,T,_,c,12,a[1]),_=u(_,k,I,T,f,17,a[2]),T=u(T,_,k,I,p,22,a[3]),I=u(I,T,_,k,g,7,a[4]),k=u(k,I,T,_,v,12,a[5]),_=u(_,k,I,T,m,17,a[6]),T=u(T,_,k,I,y,22,a[7]),I=u(I,T,_,k,w,7,a[8]),k=u(k,I,T,_,b,12,a[9]),_=u(_,k,I,T,x,17,a[10]),T=u(T,_,k,I,S,22,a[11]),I=u(I,T,_,k,E,7,a[12]),k=u(k,I,T,_,A,12,a[13]),_=u(_,k,I,T,D,17,a[14]),I=l(I,T=u(T,_,k,I,C,22,a[15]),_,k,c,5,a[16]),k=l(k,I,T,_,m,9,a[17]),_=l(_,k,I,T,S,14,a[18]),T=l(T,_,k,I,s,20,a[19]),I=l(I,T,_,k,v,5,a[20]),k=l(k,I,T,_,x,9,a[21]),_=l(_,k,I,T,C,14,a[22]),T=l(T,_,k,I,g,20,a[23]),I=l(I,T,_,k,b,5,a[24]),k=l(k,I,T,_,D,9,a[25]),_=l(_,k,I,T,p,14,a[26]),T=l(T,_,k,I,w,20,a[27]),I=l(I,T,_,k,A,5,a[28]),k=l(k,I,T,_,f,9,a[29]),_=l(_,k,I,T,y,14,a[30]),I=h(I,T=l(T,_,k,I,E,20,a[31]),_,k,v,4,a[32]),k=h(k,I,T,_,w,11,a[33]),_=h(_,k,I,T,S,16,a[34]),T=h(T,_,k,I,D,23,a[35]),I=h(I,T,_,k,c,4,a[36]),k=h(k,I,T,_,g,11,a[37]),_=h(_,k,I,T,y,16,a[38]),T=h(T,_,k,I,x,23,a[39]),I=h(I,T,_,k,A,4,a[40]),k=h(k,I,T,_,s,11,a[41]),_=h(_,k,I,T,p,16,a[42]),T=h(T,_,k,I,m,23,a[43]),I=h(I,T,_,k,b,4,a[44]),k=h(k,I,T,_,E,11,a[45]),_=h(_,k,I,T,C,16,a[46]),I=d(I,T=h(T,_,k,I,f,23,a[47]),_,k,s,6,a[48]),k=d(k,I,T,_,y,10,a[49]),_=d(_,k,I,T,D,15,a[50]),T=d(T,_,k,I,v,21,a[51]),I=d(I,T,_,k,E,6,a[52]),k=d(k,I,T,_,p,10,a[53]),_=d(_,k,I,T,x,15,a[54]),T=d(T,_,k,I,c,21,a[55]),I=d(I,T,_,k,w,6,a[56]),k=d(k,I,T,_,C,10,a[57]),_=d(_,k,I,T,m,15,a[58]),T=d(T,_,k,I,A,21,a[59]),I=d(I,T,_,k,g,6,a[60]),k=d(k,I,T,_,S,10,a[61]),_=d(_,k,I,T,f,15,a[62]),T=d(T,_,k,I,b,21,a[63]),o[0]=o[0]+I|0,o[1]=o[1]+T|0,o[2]=o[2]+_|0,o[3]=o[3]+k|0},_doFinalize:function(){var e=this._data,n=e.words,r=8*this._nDataBytes,i=8*e.sigBytes;n[i>>>5]|=128<<24-i%32;var o=t.floor(r/4294967296),s=r;n[15+(i+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),n[14+(i+64>>>9<<4)]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),e.sigBytes=4*(n.length+1),this._process();for(var a=this._hash,c=a.words,u=0;u<4;u++){var l=c[u];c[u]=16711935&(l<<8|l>>>24)|4278255360&(l<<24|l>>>8)}return a},clone:function(){var t=o.clone.call(this);return t._hash=this._hash.clone(),t}});function u(t,e,n,r,i,o,s){var a=t+(e&n|~e&r)+i+s;return(a<<o|a>>>32-o)+e}function l(t,e,n,r,i,o,s){var a=t+(e&r|n&~r)+i+s;return(a<<o|a>>>32-o)+e}function h(t,e,n,r,i,o,s){var a=t+(e^n^r)+i+s;return(a<<o|a>>>32-o)+e}function d(t,e,n,r,i,o,s){var a=t+(n^(e|~r))+i+s;return(a<<o|a>>>32-o)+e}e.MD5=o._createHelper(c),e.HmacMD5=o._createHmacHelper(c)}(Math),r.MD5)},8568:function(t,e,n){var r;t.exports=(r=n(8249),n(5109),r.mode.CFB=function(){var t=r.lib.BlockCipherMode.extend();function e(t,e,n,r){var i,o=this._iv;o?(i=o.slice(0),this._iv=void 0):i=this._prevBlock,r.encryptBlock(i,0);for(var s=0;s<n;s++)t[e+s]^=i[s]}return t.Encryptor=t.extend({processBlock:function(t,n){var r=this._cipher,i=r.blockSize;e.call(this,t,n,i,r),this._prevBlock=t.slice(n,n+i)}}),t.Decryptor=t.extend({processBlock:function(t,n){var r=this._cipher,i=r.blockSize,o=t.slice(n,n+i);e.call(this,t,n,i,r),this._prevBlock=o}}),t}(),r.mode.CFB)},9968:function(t,e,n){var r;t.exports=(r=n(8249),n(5109),r.mode.CTRGladman=function(){var t=r.lib.BlockCipherMode.extend();function e(t){if(255==(t>>24&255)){var e=t>>16&255,n=t>>8&255,r=255&t;255===e?(e=0,255===n?(n=0,255===r?r=0:++r):++n):++e,t=0,t+=e<<16,t+=n<<8,t+=r}else t+=1<<24;return t}var n=t.Encryptor=t.extend({processBlock:function(t,n){var r=this._cipher,i=r.blockSize,o=this._iv,s=this._counter;o&&(s=this._counter=o.slice(0),this._iv=void 0),function(t){0===(t[0]=e(t[0]))&&(t[1]=e(t[1]))}(s);var a=s.slice(0);r.encryptBlock(a,0);for(var c=0;c<i;c++)t[n+c]^=a[c]}});return t.Decryptor=n,t}(),r.mode.CTRGladman)},4242:function(t,e,n){var r,i,o;t.exports=(o=n(8249),n(5109),o.mode.CTR=(i=(r=o.lib.BlockCipherMode.extend()).Encryptor=r.extend({processBlock:function(t,e){var n=this._cipher,r=n.blockSize,i=this._iv,o=this._counter;i&&(o=this._counter=i.slice(0),this._iv=void 0);var s=o.slice(0);n.encryptBlock(s,0),o[r-1]=o[r-1]+1|0;for(var a=0;a<r;a++)t[e+a]^=s[a]}}),r.Decryptor=i,r),o.mode.CTR)},1148:function(t,e,n){var r,i;t.exports=(i=n(8249),n(5109),i.mode.ECB=((r=i.lib.BlockCipherMode.extend()).Encryptor=r.extend({processBlock:function(t,e){this._cipher.encryptBlock(t,e)}}),r.Decryptor=r.extend({processBlock:function(t,e){this._cipher.decryptBlock(t,e)}}),r),i.mode.ECB)},7660:function(t,e,n){var r,i,o;t.exports=(o=n(8249),n(5109),o.mode.OFB=(i=(r=o.lib.BlockCipherMode.extend()).Encryptor=r.extend({processBlock:function(t,e){var n=this._cipher,r=n.blockSize,i=this._iv,o=this._keystream;i&&(o=this._keystream=i.slice(0),this._iv=void 0),n.encryptBlock(o,0);for(var s=0;s<r;s++)t[e+s]^=o[s]}}),r.Decryptor=i,r),o.mode.OFB)},3615:function(t,e,n){var r;t.exports=(r=n(8249),n(5109),r.pad.AnsiX923={pad:function(t,e){var n=t.sigBytes,r=4*e,i=r-n%r,o=n+i-1;t.clamp(),t.words[o>>>2]|=i<<24-o%4*8,t.sigBytes+=i},unpad:function(t){var e=255&t.words[t.sigBytes-1>>>2];t.sigBytes-=e}},r.pad.Ansix923)},2807:function(t,e,n){var r;t.exports=(r=n(8249),n(5109),r.pad.Iso10126={pad:function(t,e){var n=4*e,i=n-t.sigBytes%n;t.concat(r.lib.WordArray.random(i-1)).concat(r.lib.WordArray.create([i<<24],1))},unpad:function(t){var e=255&t.words[t.sigBytes-1>>>2];t.sigBytes-=e}},r.pad.Iso10126)},1077:function(t,e,n){var r;t.exports=(r=n(8249),n(5109),r.pad.Iso97971={pad:function(t,e){t.concat(r.lib.WordArray.create([2147483648],1)),r.pad.ZeroPadding.pad(t,e)},unpad:function(t){r.pad.ZeroPadding.unpad(t),t.sigBytes--}},r.pad.Iso97971)},6991:function(t,e,n){var r;t.exports=(r=n(8249),n(5109),r.pad.NoPadding={pad:function(){},unpad:function(){}},r.pad.NoPadding)},6475:function(t,e,n){var r;t.exports=(r=n(8249),n(5109),r.pad.ZeroPadding={pad:function(t,e){var n=4*e;t.clamp(),t.sigBytes+=n-(t.sigBytes%n||n)},unpad:function(t){var e=t.words,n=t.sigBytes-1;for(n=t.sigBytes-1;n>=0;n--)if(e[n>>>2]>>>24-n%4*8&255){t.sigBytes=n+1;break}}},r.pad.ZeroPadding)},2112:function(t,e,n){var r,i,o,s,a,c,u,l,h;t.exports=(h=n(8249),n(2783),n(9824),o=(i=(r=h).lib).Base,s=i.WordArray,c=(a=r.algo).SHA1,u=a.HMAC,l=a.PBKDF2=o.extend({cfg:o.extend({keySize:4,hasher:c,iterations:1}),init:function(t){this.cfg=this.cfg.extend(t)},compute:function(t,e){for(var n=this.cfg,r=u.create(n.hasher,t),i=s.create(),o=s.create([1]),a=i.words,c=o.words,l=n.keySize,h=n.iterations;a.length<l;){var d=r.update(e).finalize(o);r.reset();for(var f=d.words,p=f.length,g=d,v=1;v<h;v++){g=r.finalize(g),r.reset();for(var m=g.words,y=0;y<p;y++)f[y]^=m[y]}i.concat(d),c[0]++}return i.sigBytes=4*l,i}}),r.PBKDF2=function(t,e,n){return l.create(n).compute(t,e)},h.PBKDF2)},3974:function(t,e,n){var r;t.exports=(r=n(8249),n(8269),n(8214),n(888),n(5109),function(){var t=r,e=t.lib.StreamCipher,n=t.algo,i=[],o=[],s=[],a=n.RabbitLegacy=e.extend({_doReset:function(){var t=this._key.words,e=this.cfg.iv,n=this._X=[t[0],t[3]<<16|t[2]>>>16,t[1],t[0]<<16|t[3]>>>16,t[2],t[1]<<16|t[0]>>>16,t[3],t[2]<<16|t[1]>>>16],r=this._C=[t[2]<<16|t[2]>>>16,4294901760&t[0]|65535&t[1],t[3]<<16|t[3]>>>16,4294901760&t[1]|65535&t[2],t[0]<<16|t[0]>>>16,4294901760&t[2]|65535&t[3],t[1]<<16|t[1]>>>16,4294901760&t[3]|65535&t[0]];this._b=0;for(var i=0;i<4;i++)c.call(this);for(i=0;i<8;i++)r[i]^=n[i+4&7];if(e){var o=e.words,s=o[0],a=o[1],u=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),l=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),h=u>>>16|4294901760&l,d=l<<16|65535&u;for(r[0]^=u,r[1]^=h,r[2]^=l,r[3]^=d,r[4]^=u,r[5]^=h,r[6]^=l,r[7]^=d,i=0;i<4;i++)c.call(this)}},_doProcessBlock:function(t,e){var n=this._X;c.call(this),i[0]=n[0]^n[5]>>>16^n[3]<<16,i[1]=n[2]^n[7]>>>16^n[5]<<16,i[2]=n[4]^n[1]>>>16^n[7]<<16,i[3]=n[6]^n[3]>>>16^n[1]<<16;for(var r=0;r<4;r++)i[r]=16711935&(i[r]<<8|i[r]>>>24)|4278255360&(i[r]<<24|i[r]>>>8),t[e+r]^=i[r]},blockSize:4,ivSize:2});function c(){for(var t=this._X,e=this._C,n=0;n<8;n++)o[n]=e[n];for(e[0]=e[0]+1295307597+this._b|0,e[1]=e[1]+3545052371+(e[0]>>>0<o[0]>>>0?1:0)|0,e[2]=e[2]+886263092+(e[1]>>>0<o[1]>>>0?1:0)|0,e[3]=e[3]+1295307597+(e[2]>>>0<o[2]>>>0?1:0)|0,e[4]=e[4]+3545052371+(e[3]>>>0<o[3]>>>0?1:0)|0,e[5]=e[5]+886263092+(e[4]>>>0<o[4]>>>0?1:0)|0,e[6]=e[6]+1295307597+(e[5]>>>0<o[5]>>>0?1:0)|0,e[7]=e[7]+3545052371+(e[6]>>>0<o[6]>>>0?1:0)|0,this._b=e[7]>>>0<o[7]>>>0?1:0,n=0;n<8;n++){var r=t[n]+e[n],i=65535&r,a=r>>>16,c=((i*i>>>17)+i*a>>>15)+a*a,u=((4294901760&r)*r|0)+((65535&r)*r|0);s[n]=c^u}t[0]=s[0]+(s[7]<<16|s[7]>>>16)+(s[6]<<16|s[6]>>>16)|0,t[1]=s[1]+(s[0]<<8|s[0]>>>24)+s[7]|0,t[2]=s[2]+(s[1]<<16|s[1]>>>16)+(s[0]<<16|s[0]>>>16)|0,t[3]=s[3]+(s[2]<<8|s[2]>>>24)+s[1]|0,t[4]=s[4]+(s[3]<<16|s[3]>>>16)+(s[2]<<16|s[2]>>>16)|0,t[5]=s[5]+(s[4]<<8|s[4]>>>24)+s[3]|0,t[6]=s[6]+(s[5]<<16|s[5]>>>16)+(s[4]<<16|s[4]>>>16)|0,t[7]=s[7]+(s[6]<<8|s[6]>>>24)+s[5]|0}t.RabbitLegacy=e._createHelper(a)}(),r.RabbitLegacy)},4454:function(t,e,n){var r;t.exports=(r=n(8249),n(8269),n(8214),n(888),n(5109),function(){var t=r,e=t.lib.StreamCipher,n=t.algo,i=[],o=[],s=[],a=n.Rabbit=e.extend({_doReset:function(){for(var t=this._key.words,e=this.cfg.iv,n=0;n<4;n++)t[n]=16711935&(t[n]<<8|t[n]>>>24)|4278255360&(t[n]<<24|t[n]>>>8);var r=this._X=[t[0],t[3]<<16|t[2]>>>16,t[1],t[0]<<16|t[3]>>>16,t[2],t[1]<<16|t[0]>>>16,t[3],t[2]<<16|t[1]>>>16],i=this._C=[t[2]<<16|t[2]>>>16,4294901760&t[0]|65535&t[1],t[3]<<16|t[3]>>>16,4294901760&t[1]|65535&t[2],t[0]<<16|t[0]>>>16,4294901760&t[2]|65535&t[3],t[1]<<16|t[1]>>>16,4294901760&t[3]|65535&t[0]];for(this._b=0,n=0;n<4;n++)c.call(this);for(n=0;n<8;n++)i[n]^=r[n+4&7];if(e){var o=e.words,s=o[0],a=o[1],u=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),l=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),h=u>>>16|4294901760&l,d=l<<16|65535&u;for(i[0]^=u,i[1]^=h,i[2]^=l,i[3]^=d,i[4]^=u,i[5]^=h,i[6]^=l,i[7]^=d,n=0;n<4;n++)c.call(this)}},_doProcessBlock:function(t,e){var n=this._X;c.call(this),i[0]=n[0]^n[5]>>>16^n[3]<<16,i[1]=n[2]^n[7]>>>16^n[5]<<16,i[2]=n[4]^n[1]>>>16^n[7]<<16,i[3]=n[6]^n[3]>>>16^n[1]<<16;for(var r=0;r<4;r++)i[r]=16711935&(i[r]<<8|i[r]>>>24)|4278255360&(i[r]<<24|i[r]>>>8),t[e+r]^=i[r]},blockSize:4,ivSize:2});function c(){for(var t=this._X,e=this._C,n=0;n<8;n++)o[n]=e[n];for(e[0]=e[0]+1295307597+this._b|0,e[1]=e[1]+3545052371+(e[0]>>>0<o[0]>>>0?1:0)|0,e[2]=e[2]+886263092+(e[1]>>>0<o[1]>>>0?1:0)|0,e[3]=e[3]+1295307597+(e[2]>>>0<o[2]>>>0?1:0)|0,e[4]=e[4]+3545052371+(e[3]>>>0<o[3]>>>0?1:0)|0,e[5]=e[5]+886263092+(e[4]>>>0<o[4]>>>0?1:0)|0,e[6]=e[6]+1295307597+(e[5]>>>0<o[5]>>>0?1:0)|0,e[7]=e[7]+3545052371+(e[6]>>>0<o[6]>>>0?1:0)|0,this._b=e[7]>>>0<o[7]>>>0?1:0,n=0;n<8;n++){var r=t[n]+e[n],i=65535&r,a=r>>>16,c=((i*i>>>17)+i*a>>>15)+a*a,u=((4294901760&r)*r|0)+((65535&r)*r|0);s[n]=c^u}t[0]=s[0]+(s[7]<<16|s[7]>>>16)+(s[6]<<16|s[6]>>>16)|0,t[1]=s[1]+(s[0]<<8|s[0]>>>24)+s[7]|0,t[2]=s[2]+(s[1]<<16|s[1]>>>16)+(s[0]<<16|s[0]>>>16)|0,t[3]=s[3]+(s[2]<<8|s[2]>>>24)+s[1]|0,t[4]=s[4]+(s[3]<<16|s[3]>>>16)+(s[2]<<16|s[2]>>>16)|0,t[5]=s[5]+(s[4]<<8|s[4]>>>24)+s[3]|0,t[6]=s[6]+(s[5]<<16|s[5]>>>16)+(s[4]<<16|s[4]>>>16)|0,t[7]=s[7]+(s[6]<<8|s[6]>>>24)+s[5]|0}t.Rabbit=e._createHelper(a)}(),r.Rabbit)},1857:function(t,e,n){var r;t.exports=(r=n(8249),n(8269),n(8214),n(888),n(5109),function(){var t=r,e=t.lib.StreamCipher,n=t.algo,i=n.RC4=e.extend({_doReset:function(){for(var t=this._key,e=t.words,n=t.sigBytes,r=this._S=[],i=0;i<256;i++)r[i]=i;i=0;for(var o=0;i<256;i++){var s=i%n,a=e[s>>>2]>>>24-s%4*8&255;o=(o+r[i]+a)%256;var c=r[i];r[i]=r[o],r[o]=c}this._i=this._j=0},_doProcessBlock:function(t,e){t[e]^=o.call(this)},keySize:8,ivSize:0});function o(){for(var t=this._S,e=this._i,n=this._j,r=0,i=0;i<4;i++){n=(n+t[e=(e+1)%256])%256;var o=t[e];t[e]=t[n],t[n]=o,r|=t[(t[e]+t[n])%256]<<24-8*i}return this._i=e,this._j=n,r}t.RC4=e._createHelper(i);var s=n.RC4Drop=i.extend({cfg:i.cfg.extend({drop:192}),_doReset:function(){i._doReset.call(this);for(var t=this.cfg.drop;t>0;t--)o.call(this)}});t.RC4Drop=e._createHelper(s)}(),r.RC4)},706:function(t,e,n){var r;t.exports=(r=n(8249),function(t){var e=r,n=e.lib,i=n.WordArray,o=n.Hasher,s=e.algo,a=i.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),c=i.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),u=i.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),l=i.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),h=i.create([0,1518500249,1859775393,2400959708,2840853838]),d=i.create([1352829926,1548603684,1836072691,2053994217,0]),f=s.RIPEMD160=o.extend({_doReset:function(){this._hash=i.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(t,e){for(var n=0;n<16;n++){var r=e+n,i=t[r];t[r]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}var o,s,f,b,x,S,E,A,D,C,I,T=this._hash.words,_=h.words,k=d.words,R=a.words,L=c.words,P=u.words,O=l.words;for(S=o=T[0],E=s=T[1],A=f=T[2],D=b=T[3],C=x=T[4],n=0;n<80;n+=1)I=o+t[e+R[n]]|0,I+=n<16?p(s,f,b)+_[0]:n<32?g(s,f,b)+_[1]:n<48?v(s,f,b)+_[2]:n<64?m(s,f,b)+_[3]:y(s,f,b)+_[4],I=(I=w(I|=0,P[n]))+x|0,o=x,x=b,b=w(f,10),f=s,s=I,I=S+t[e+L[n]]|0,I+=n<16?y(E,A,D)+k[0]:n<32?m(E,A,D)+k[1]:n<48?v(E,A,D)+k[2]:n<64?g(E,A,D)+k[3]:p(E,A,D)+k[4],I=(I=w(I|=0,O[n]))+C|0,S=C,C=D,D=w(A,10),A=E,E=I;I=T[1]+f+D|0,T[1]=T[2]+b+C|0,T[2]=T[3]+x+S|0,T[3]=T[4]+o+E|0,T[4]=T[0]+s+A|0,T[0]=I},_doFinalize:function(){var t=this._data,e=t.words,n=8*this._nDataBytes,r=8*t.sigBytes;e[r>>>5]|=128<<24-r%32,e[14+(r+64>>>9<<4)]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),t.sigBytes=4*(e.length+1),this._process();for(var i=this._hash,o=i.words,s=0;s<5;s++){var a=o[s];o[s]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8)}return i},clone:function(){var t=o.clone.call(this);return t._hash=this._hash.clone(),t}});function p(t,e,n){return t^e^n}function g(t,e,n){return t&e|~t&n}function v(t,e,n){return(t|~e)^n}function m(t,e,n){return t&n|e&~n}function y(t,e,n){return t^(e|~n)}function w(t,e){return t<<e|t>>>32-e}e.RIPEMD160=o._createHelper(f),e.HmacRIPEMD160=o._createHmacHelper(f)}(Math),r.RIPEMD160)},2783:function(t,e,n){var r,i,o,s,a,c,u,l;t.exports=(i=(r=l=n(8249)).lib,o=i.WordArray,s=i.Hasher,a=r.algo,c=[],u=a.SHA1=s.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(t,e){for(var n=this._hash.words,r=n[0],i=n[1],o=n[2],s=n[3],a=n[4],u=0;u<80;u++){if(u<16)c[u]=0|t[e+u];else{var l=c[u-3]^c[u-8]^c[u-14]^c[u-16];c[u]=l<<1|l>>>31}var h=(r<<5|r>>>27)+a+c[u];h+=u<20?1518500249+(i&o|~i&s):u<40?1859775393+(i^o^s):u<60?(i&o|i&s|o&s)-1894007588:(i^o^s)-899497514,a=s,s=o,o=i<<30|i>>>2,i=r,r=h}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+o|0,n[3]=n[3]+s|0,n[4]=n[4]+a|0},_doFinalize:function(){var t=this._data,e=t.words,n=8*this._nDataBytes,r=8*t.sigBytes;return e[r>>>5]|=128<<24-r%32,e[14+(r+64>>>9<<4)]=Math.floor(n/4294967296),e[15+(r+64>>>9<<4)]=n,t.sigBytes=4*e.length,this._process(),this._hash},clone:function(){var t=s.clone.call(this);return t._hash=this._hash.clone(),t}}),r.SHA1=s._createHelper(u),r.HmacSHA1=s._createHmacHelper(u),l.SHA1)},7792:function(t,e,n){var r,i,o,s,a,c;t.exports=(c=n(8249),n(2153),i=(r=c).lib.WordArray,o=r.algo,s=o.SHA256,a=o.SHA224=s.extend({_doReset:function(){this._hash=new i.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var t=s._doFinalize.call(this);return t.sigBytes-=4,t}}),r.SHA224=s._createHelper(a),r.HmacSHA224=s._createHmacHelper(a),c.SHA224)},2153:function(t,e,n){var r;t.exports=(r=n(8249),function(t){var e=r,n=e.lib,i=n.WordArray,o=n.Hasher,s=e.algo,a=[],c=[];!function(){function e(e){for(var n=t.sqrt(e),r=2;r<=n;r++)if(!(e%r))return!1;return!0}function n(t){return 4294967296*(t-(0|t))|0}for(var r=2,i=0;i<64;)e(r)&&(i<8&&(a[i]=n(t.pow(r,.5))),c[i]=n(t.pow(r,1/3)),i++),r++}();var u=[],l=s.SHA256=o.extend({_doReset:function(){this._hash=new i.init(a.slice(0))},_doProcessBlock:function(t,e){for(var n=this._hash.words,r=n[0],i=n[1],o=n[2],s=n[3],a=n[4],l=n[5],h=n[6],d=n[7],f=0;f<64;f++){if(f<16)u[f]=0|t[e+f];else{var p=u[f-15],g=(p<<25|p>>>7)^(p<<14|p>>>18)^p>>>3,v=u[f-2],m=(v<<15|v>>>17)^(v<<13|v>>>19)^v>>>10;u[f]=g+u[f-7]+m+u[f-16]}var y=r&i^r&o^i&o,w=(r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22),b=d+((a<<26|a>>>6)^(a<<21|a>>>11)^(a<<7|a>>>25))+(a&l^~a&h)+c[f]+u[f];d=h,h=l,l=a,a=s+b|0,s=o,o=i,i=r,r=b+(w+y)|0}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+o|0,n[3]=n[3]+s|0,n[4]=n[4]+a|0,n[5]=n[5]+l|0,n[6]=n[6]+h|0,n[7]=n[7]+d|0},_doFinalize:function(){var e=this._data,n=e.words,r=8*this._nDataBytes,i=8*e.sigBytes;return n[i>>>5]|=128<<24-i%32,n[14+(i+64>>>9<<4)]=t.floor(r/4294967296),n[15+(i+64>>>9<<4)]=r,e.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var t=o.clone.call(this);return t._hash=this._hash.clone(),t}});e.SHA256=o._createHelper(l),e.HmacSHA256=o._createHmacHelper(l)}(Math),r.SHA256)},3327:function(t,e,n){var r;t.exports=(r=n(8249),n(4938),function(t){var e=r,n=e.lib,i=n.WordArray,o=n.Hasher,s=e.x64.Word,a=e.algo,c=[],u=[],l=[];!function(){for(var t=1,e=0,n=0;n<24;n++){c[t+5*e]=(n+1)*(n+2)/2%64;var r=(2*t+3*e)%5;t=e%5,e=r}for(t=0;t<5;t++)for(e=0;e<5;e++)u[t+5*e]=e+(2*t+3*e)%5*5;for(var i=1,o=0;o<24;o++){for(var a=0,h=0,d=0;d<7;d++){if(1&i){var f=(1<<d)-1;f<32?h^=1<<f:a^=1<<f-32}128&i?i=i<<1^113:i<<=1}l[o]=s.create(a,h)}}();var h=[];!function(){for(var t=0;t<25;t++)h[t]=s.create()}();var d=a.SHA3=o.extend({cfg:o.cfg.extend({outputLength:512}),_doReset:function(){for(var t=this._state=[],e=0;e<25;e++)t[e]=new s.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(t,e){for(var n=this._state,r=this.blockSize/2,i=0;i<r;i++){var o=t[e+2*i],s=t[e+2*i+1];o=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),s=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),(T=n[i]).high^=s,T.low^=o}for(var a=0;a<24;a++){for(var d=0;d<5;d++){for(var f=0,p=0,g=0;g<5;g++)f^=(T=n[d+5*g]).high,p^=T.low;var v=h[d];v.high=f,v.low=p}for(d=0;d<5;d++){var m=h[(d+4)%5],y=h[(d+1)%5],w=y.high,b=y.low;for(f=m.high^(w<<1|b>>>31),p=m.low^(b<<1|w>>>31),g=0;g<5;g++)(T=n[d+5*g]).high^=f,T.low^=p}for(var x=1;x<25;x++){var S=(T=n[x]).high,E=T.low,A=c[x];A<32?(f=S<<A|E>>>32-A,p=E<<A|S>>>32-A):(f=E<<A-32|S>>>64-A,p=S<<A-32|E>>>64-A);var D=h[u[x]];D.high=f,D.low=p}var C=h[0],I=n[0];for(C.high=I.high,C.low=I.low,d=0;d<5;d++)for(g=0;g<5;g++){var T=n[x=d+5*g],_=h[x],k=h[(d+1)%5+5*g],R=h[(d+2)%5+5*g];T.high=_.high^~k.high&R.high,T.low=_.low^~k.low&R.low}T=n[0];var L=l[a];T.high^=L.high,T.low^=L.low}},_doFinalize:function(){var e=this._data,n=e.words,r=(this._nDataBytes,8*e.sigBytes),o=32*this.blockSize;n[r>>>5]|=1<<24-r%32,n[(t.ceil((r+1)/o)*o>>>5)-1]|=128,e.sigBytes=4*n.length,this._process();for(var s=this._state,a=this.cfg.outputLength/8,c=a/8,u=[],l=0;l<c;l++){var h=s[l],d=h.high,f=h.low;d=16711935&(d<<8|d>>>24)|4278255360&(d<<24|d>>>8),f=16711935&(f<<8|f>>>24)|4278255360&(f<<24|f>>>8),u.push(f),u.push(d)}return new i.init(u,a)},clone:function(){for(var t=o.clone.call(this),e=t._state=this._state.slice(0),n=0;n<25;n++)e[n]=e[n].clone();return t}});e.SHA3=o._createHelper(d),e.HmacSHA3=o._createHmacHelper(d)}(Math),r.SHA3)},7460:function(t,e,n){var r,i,o,s,a,c,u,l;t.exports=(l=n(8249),n(4938),n(34),i=(r=l).x64,o=i.Word,s=i.WordArray,a=r.algo,c=a.SHA512,u=a.SHA384=c.extend({_doReset:function(){this._hash=new s.init([new o.init(3418070365,3238371032),new o.init(1654270250,914150663),new o.init(2438529370,812702999),new o.init(355462360,4144912697),new o.init(1731405415,4290775857),new o.init(2394180231,1750603025),new o.init(3675008525,1694076839),new o.init(1203062813,3204075428)])},_doFinalize:function(){var t=c._doFinalize.call(this);return t.sigBytes-=16,t}}),r.SHA384=c._createHelper(u),r.HmacSHA384=c._createHmacHelper(u),l.SHA384)},34:function(t,e,n){var r;t.exports=(r=n(8249),n(4938),function(){var t=r,e=t.lib.Hasher,n=t.x64,i=n.Word,o=n.WordArray,s=t.algo;function a(){return i.create.apply(i,arguments)}var c=[a(1116352408,3609767458),a(1899447441,602891725),a(3049323471,3964484399),a(3921009573,2173295548),a(961987163,4081628472),a(1508970993,3053834265),a(2453635748,2937671579),a(2870763221,3664609560),a(3624381080,2734883394),a(310598401,1164996542),a(607225278,1323610764),a(1426881987,3590304994),a(1925078388,4068182383),a(2162078206,991336113),a(2614888103,633803317),a(3248222580,3479774868),a(3835390401,2666613458),a(4022224774,944711139),a(264347078,2341262773),a(604807628,2007800933),a(770255983,1495990901),a(1249150122,1856431235),a(1555081692,3175218132),a(1996064986,2198950837),a(2554220882,3999719339),a(2821834349,766784016),a(2952996808,2566594879),a(3210313671,3203337956),a(3336571891,1034457026),a(3584528711,2466948901),a(113926993,3758326383),a(338241895,168717936),a(666307205,1188179964),a(773529912,1546045734),a(1294757372,1522805485),a(1396182291,2643833823),a(1695183700,2343527390),a(1986661051,1014477480),a(2177026350,1206759142),a(2456956037,344077627),a(2730485921,1290863460),a(2820302411,3158454273),a(3259730800,3505952657),a(3345764771,106217008),a(3516065817,3606008344),a(3600352804,1432725776),a(4094571909,1467031594),a(275423344,851169720),a(430227734,3100823752),a(506948616,1363258195),a(659060556,3750685593),a(883997877,3785050280),a(958139571,3318307427),a(1322822218,3812723403),a(1537002063,2003034995),a(1747873779,3602036899),a(1955562222,1575990012),a(2024104815,1125592928),a(2227730452,2716904306),a(2361852424,442776044),a(2428436474,593698344),a(2756734187,3733110249),a(3204031479,2999351573),a(3329325298,3815920427),a(3391569614,3928383900),a(3515267271,566280711),a(3940187606,3454069534),a(4118630271,4000239992),a(116418474,1914138554),a(174292421,2731055270),a(289380356,3203993006),a(460393269,320620315),a(685471733,587496836),a(852142971,1086792851),a(1017036298,365543100),a(1126000580,2618297676),a(1288033470,3409855158),a(1501505948,4234509866),a(1607167915,987167468),a(1816402316,1246189591)],u=[];!function(){for(var t=0;t<80;t++)u[t]=a()}();var l=s.SHA512=e.extend({_doReset:function(){this._hash=new o.init([new i.init(1779033703,4089235720),new i.init(3144134277,2227873595),new i.init(1013904242,4271175723),new i.init(2773480762,1595750129),new i.init(1359893119,2917565137),new i.init(2600822924,725511199),new i.init(528734635,4215389547),new i.init(1541459225,327033209)])},_doProcessBlock:function(t,e){for(var n=this._hash.words,r=n[0],i=n[1],o=n[2],s=n[3],a=n[4],l=n[5],h=n[6],d=n[7],f=r.high,p=r.low,g=i.high,v=i.low,m=o.high,y=o.low,w=s.high,b=s.low,x=a.high,S=a.low,E=l.high,A=l.low,D=h.high,C=h.low,I=d.high,T=d.low,_=f,k=p,R=g,L=v,P=m,O=y,N=w,M=b,B=x,U=S,F=E,q=A,H=D,j=C,V=I,G=T,W=0;W<80;W++){var z,K,$=u[W];if(W<16)K=$.high=0|t[e+2*W],z=$.low=0|t[e+2*W+1];else{var J=u[W-15],Y=J.high,Z=J.low,X=(Y>>>1|Z<<31)^(Y>>>8|Z<<24)^Y>>>7,Q=(Z>>>1|Y<<31)^(Z>>>8|Y<<24)^(Z>>>7|Y<<25),tt=u[W-2],et=tt.high,nt=tt.low,rt=(et>>>19|nt<<13)^(et<<3|nt>>>29)^et>>>6,it=(nt>>>19|et<<13)^(nt<<3|et>>>29)^(nt>>>6|et<<26),ot=u[W-7],st=ot.high,at=ot.low,ct=u[W-16],ut=ct.high,lt=ct.low;K=(K=(K=X+st+((z=Q+at)>>>0<Q>>>0?1:0))+rt+((z+=it)>>>0<it>>>0?1:0))+ut+((z+=lt)>>>0<lt>>>0?1:0),$.high=K,$.low=z}var ht,dt=B&F^~B&H,ft=U&q^~U&j,pt=_&R^_&P^R&P,gt=k&L^k&O^L&O,vt=(_>>>28|k<<4)^(_<<30|k>>>2)^(_<<25|k>>>7),mt=(k>>>28|_<<4)^(k<<30|_>>>2)^(k<<25|_>>>7),yt=(B>>>14|U<<18)^(B>>>18|U<<14)^(B<<23|U>>>9),wt=(U>>>14|B<<18)^(U>>>18|B<<14)^(U<<23|B>>>9),bt=c[W],xt=bt.high,St=bt.low,Et=V+yt+((ht=G+wt)>>>0<G>>>0?1:0),At=mt+gt;V=H,G=j,H=F,j=q,F=B,q=U,B=N+(Et=(Et=(Et=Et+dt+((ht+=ft)>>>0<ft>>>0?1:0))+xt+((ht+=St)>>>0<St>>>0?1:0))+K+((ht+=z)>>>0<z>>>0?1:0))+((U=M+ht|0)>>>0<M>>>0?1:0)|0,N=P,M=O,P=R,O=L,R=_,L=k,_=Et+(vt+pt+(At>>>0<mt>>>0?1:0))+((k=ht+At|0)>>>0<ht>>>0?1:0)|0}p=r.low=p+k,r.high=f+_+(p>>>0<k>>>0?1:0),v=i.low=v+L,i.high=g+R+(v>>>0<L>>>0?1:0),y=o.low=y+O,o.high=m+P+(y>>>0<O>>>0?1:0),b=s.low=b+M,s.high=w+N+(b>>>0<M>>>0?1:0),S=a.low=S+U,a.high=x+B+(S>>>0<U>>>0?1:0),A=l.low=A+q,l.high=E+F+(A>>>0<q>>>0?1:0),C=h.low=C+j,h.high=D+H+(C>>>0<j>>>0?1:0),T=d.low=T+G,d.high=I+V+(T>>>0<G>>>0?1:0)},_doFinalize:function(){var t=this._data,e=t.words,n=8*this._nDataBytes,r=8*t.sigBytes;return e[r>>>5]|=128<<24-r%32,e[30+(r+128>>>10<<5)]=Math.floor(n/4294967296),e[31+(r+128>>>10<<5)]=n,t.sigBytes=4*e.length,this._process(),this._hash.toX32()},clone:function(){var t=e.clone.call(this);return t._hash=this._hash.clone(),t},blockSize:32});t.SHA512=e._createHelper(l),t.HmacSHA512=e._createHmacHelper(l)}(),r.SHA512)},4253:function(t,e,n){var r;t.exports=(r=n(8249),n(8269),n(8214),n(888),n(5109),function(){var t=r,e=t.lib,n=e.WordArray,i=e.BlockCipher,o=t.algo,s=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],a=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],c=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],u=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],l=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],h=o.DES=i.extend({_doReset:function(){for(var t=this._key.words,e=[],n=0;n<56;n++){var r=s[n]-1;e[n]=t[r>>>5]>>>31-r%32&1}for(var i=this._subKeys=[],o=0;o<16;o++){var u=i[o]=[],l=c[o];for(n=0;n<24;n++)u[n/6|0]|=e[(a[n]-1+l)%28]<<31-n%6,u[4+(n/6|0)]|=e[28+(a[n+24]-1+l)%28]<<31-n%6;for(u[0]=u[0]<<1|u[0]>>>31,n=1;n<7;n++)u[n]=u[n]>>>4*(n-1)+3;u[7]=u[7]<<5|u[7]>>>27}var h=this._invSubKeys=[];for(n=0;n<16;n++)h[n]=i[15-n]},encryptBlock:function(t,e){this._doCryptBlock(t,e,this._subKeys)},decryptBlock:function(t,e){this._doCryptBlock(t,e,this._invSubKeys)},_doCryptBlock:function(t,e,n){this._lBlock=t[e],this._rBlock=t[e+1],d.call(this,4,252645135),d.call(this,16,65535),f.call(this,2,858993459),f.call(this,8,16711935),d.call(this,1,1431655765);for(var r=0;r<16;r++){for(var i=n[r],o=this._lBlock,s=this._rBlock,a=0,c=0;c<8;c++)a|=u[c][((s^i[c])&l[c])>>>0];this._lBlock=s,this._rBlock=o^a}var h=this._lBlock;this._lBlock=this._rBlock,this._rBlock=h,d.call(this,1,1431655765),f.call(this,8,16711935),f.call(this,2,858993459),d.call(this,16,65535),d.call(this,4,252645135),t[e]=this._lBlock,t[e+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});function d(t,e){var n=(this._lBlock>>>t^this._rBlock)&e;this._rBlock^=n,this._lBlock^=n<<t}function f(t,e){var n=(this._rBlock>>>t^this._lBlock)&e;this._lBlock^=n,this._rBlock^=n<<t}t.DES=i._createHelper(h);var p=o.TripleDES=i.extend({_doReset:function(){var t=this._key.words;if(2!==t.length&&4!==t.length&&t.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var e=t.slice(0,2),r=t.length<4?t.slice(0,2):t.slice(2,4),i=t.length<6?t.slice(0,2):t.slice(4,6);this._des1=h.createEncryptor(n.create(e)),this._des2=h.createEncryptor(n.create(r)),this._des3=h.createEncryptor(n.create(i))},encryptBlock:function(t,e){this._des1.encryptBlock(t,e),this._des2.decryptBlock(t,e),this._des3.encryptBlock(t,e)},decryptBlock:function(t,e){this._des3.decryptBlock(t,e),this._des2.encryptBlock(t,e),this._des1.decryptBlock(t,e)},keySize:6,ivSize:2,blockSize:2});t.TripleDES=i._createHelper(p)}(),r.TripleDES)},4938:function(t,e,n){var r,i,o,s,a,c;t.exports=(r=n(8249),o=(i=r).lib,s=o.Base,a=o.WordArray,(c=i.x64={}).Word=s.extend({init:function(t,e){this.high=t,this.low=e}}),c.WordArray=s.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=null!=e?e:8*t.length},toX32:function(){for(var t=this.words,e=t.length,n=[],r=0;r<e;r++){var i=t[r];n.push(i.high),n.push(i.low)}return a.create(n,this.sigBytes)},clone:function(){for(var t=s.clone.call(this),e=t.words=this.words.slice(0),n=e.length,r=0;r<n;r++)e[r]=e[r].clone();return t}}),r)},9622:(t,e,n)=>{var r=n(3363);t.exports=r},2113:(t,e,n)=>{var r=/(<\/?[a-z][a-z0-9]*(?::[a-z][a-z0-9]*)?\s*(?:\s+[a-z0-9-_]+=(?:(?:'[\s\S]*?')|(?:"[\s\S]*?")))*\s*\/?>)|([^<]|<(?![a-z\/]))*/gi,i=/\s[a-z0-9-_]+\b(\s*=\s*('|")[\s\S]*?\2)?/gi,o=/(\s[a-z0-9-_]+\b\s*)(?:=(\s*('|")[\s\S]*?\3))?/gi,s=/^<[a-z]/,a=/\/>$/,c=/^<\//,u=/<\/?([a-z][a-z0-9]*)(?::([a-z][a-z0-9]*))?/i,l=/^('|")|('|")$/g,h=/^(?:area|base|br|col|command|embed|hr|img|input|link|meta|param|source)/i,d=n(8598);function f(t,e,n){for(var f,p,g,v,m,y,w,b,x=[],S=0,E=t.match(r),A=!1,D=null,C=0,I=E.length;C<I;C++)if(p=(b=E[C]).match(u),(f=e.test(b))&&!A&&(A=!0),A){if(s.test(b)){g=a.test(b)||h.test(p[1]),v=[];for(var T=0,_=(y=b.match(i)||[]).length;T<_;T++)o.lastIndex=0,m=o.exec(y[T]),v.push({name:m[1].trim(),value:(m[2]||"").trim().replace(l,"")});(D&&D.childNodes||x).push(w=new d({nodeType:1,nodeName:p[1],namespace:p[2],attributes:v,childNodes:[],parentNode:D,startTag:b,selfCloseTag:g})),S++,!n&&f&&D&&x.push(w),g?S--:D=w}else c.test(b)?D.nodeName==p[1]&&(D=D.parentNode,S--):D.childNodes.push(new d({nodeType:3,text:b,parentNode:D}));if(0==S&&(A=!1,D=null,n))break}return n?x[0]||null:x}function p(t){this.rawHTML=t}p.prototype.getElementsByClassName=function(t){var e=new RegExp("class=('|\")(.*?\\s)?"+t+"(\\s.*?)?\\1");return f(this.rawHTML,e)},p.prototype.getElementsByTagName=function(t){var e=new RegExp("^<"+t,"i");return f(this.rawHTML,e)},p.prototype.getElementById=function(t){var e=new RegExp("id=('|\")"+t+"\\1");return f(this.rawHTML,e,!0)},p.prototype.getElementsByName=function(t){return this.getElementsByAttribute("name",t)},p.prototype.getElementsByAttribute=function(t,e){var n=new RegExp("\\s"+t+"=('|\")"+e+"\\1");return f(this.rawHTML,n)},t.exports=p},3363:(t,e,n)=>{var r=n(2113);function i(){}i.prototype.parseFromString=function(t){return new r(t)},t.exports=i},8598:t=>{function e(t){this.namespace=t.namespace||null,this.text=t.text,this._selfCloseTag=t.selfCloseTag,Object.defineProperties(this,{nodeType:{value:t.nodeType},nodeName:{value:1==t.nodeType?t.nodeName:"#text"},childNodes:{value:t.childNodes},firstChild:{get:function(){return this.childNodes[0]||null}},lastChild:{get:function(){return this.childNodes[this.childNodes.length-1]||null}},parentNode:{value:t.parentNode||null},attributes:{value:t.attributes||[]},innerHTML:{get:function(){for(var t,e="",n=0,r=this.childNodes.length;n<r;n++)e+=3===(t=this.childNodes[n]).nodeType?t.text:t.outerHTML;return e}},outerHTML:{get:function(){if(3!=this.nodeType){var t,e=(this.attributes.map((function(t){return t.name+(t.value?'="'+t.value+'"':"")}))||[]).join(" ");t="<"+this.nodeName+(e?" "+e:"")+(this._selfCloseTag?"/":"")+">",this._selfCloseTag||(t+=(this._selfCloseTag?"":this.childNodes.map((function(t){return t.outerHTML}))||[]).join(""),t+="</"+this.nodeName+">")}else t=this.textContent;return t}},textContent:{get:function(){return this.nodeType==e.TEXT_NODE?this.text:this.childNodes.map((function(t){return t.textContent})).join("").replace(/\x20+/g," ")}}})}function n(t,e,r){var i=[];if(r=!!r,3!==t.nodeType)for(var o=0,s=t.childNodes.length;o<s&&(3===t.childNodes[o].nodeType||!e(t.childNodes[o])||(i.push(t.childNodes[o]),!r));o++)i=i.concat(n(t.childNodes[o],e));return r?i[0]:i}e.prototype.getAttribute=function(t){for(var e=0,n=this.attributes.length;e<n;e++)if(this.attributes[e].name==t)return this.attributes[e].value;return null},e.prototype.getElementsByTagName=function(t){return n(this,(function(e){return e.nodeName==t}))},e.prototype.getElementsByClassName=function(t){var e=new RegExp("^(.*?\\s)?"+t+"(\\s.*?)?$");return n(this,(function(t){return t.attributes.length&&e.test(t.getAttribute("class"))}))},e.prototype.getElementById=function(t){return n(this,(function(e){return e.attributes.length&&e.getAttribute("id")==t}),!0)},e.prototype.getElementsByName=function(t){return n(this,(function(e){return e.attributes.length&&e.getAttribute("name")==t}))},e.ELEMENT_NODE=1,e.TEXT_NODE=3,t.exports=e},3446:(t,e)=>{"use strict";function n(){return(65536*(1+Math.random())|0).toString(16).substring(1)}e.new=function(t){return 16===t?n()+n()+n()+n():n()+n()+n()+n()+n()+n()+n()+n()}},6492:function(t,e,n){var r;t=n.nmd(t),function(i){var o=(t&&t.exports,"object"==typeof n.g&&n.g);o.global!==o&&o.window;var s=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,a=/[\x01-\x7F]/g,c=/[\x01-\t\x0B\f\x0E-\x1F\x7F\x81\x8D\x8F\x90\x9D\xA0-\uFFFF]/g,u=/<\u20D2|=\u20E5|>\u20D2|\u205F\u200A|\u219D\u0338|\u2202\u0338|\u2220\u20D2|\u2229\uFE00|\u222A\uFE00|\u223C\u20D2|\u223D\u0331|\u223E\u0333|\u2242\u0338|\u224B\u0338|\u224D\u20D2|\u224E\u0338|\u224F\u0338|\u2250\u0338|\u2261\u20E5|\u2264\u20D2|\u2265\u20D2|\u2266\u0338|\u2267\u0338|\u2268\uFE00|\u2269\uFE00|\u226A\u0338|\u226A\u20D2|\u226B\u0338|\u226B\u20D2|\u227F\u0338|\u2282\u20D2|\u2283\u20D2|\u228A\uFE00|\u228B\uFE00|\u228F\u0338|\u2290\u0338|\u2293\uFE00|\u2294\uFE00|\u22B4\u20D2|\u22B5\u20D2|\u22D8\u0338|\u22D9\u0338|\u22DA\uFE00|\u22DB\uFE00|\u22F5\u0338|\u22F9\u0338|\u2933\u0338|\u29CF\u0338|\u29D0\u0338|\u2A6D\u0338|\u2A70\u0338|\u2A7D\u0338|\u2A7E\u0338|\u2AA1\u0338|\u2AA2\u0338|\u2AAC\uFE00|\u2AAD\uFE00|\u2AAF\u0338|\u2AB0\u0338|\u2AC5\u0338|\u2AC6\u0338|\u2ACB\uFE00|\u2ACC\uFE00|\u2AFD\u20E5|[\xA0-\u0113\u0116-\u0122\u0124-\u012B\u012E-\u014D\u0150-\u017E\u0192\u01B5\u01F5\u0237\u02C6\u02C7\u02D8-\u02DD\u0311\u0391-\u03A1\u03A3-\u03A9\u03B1-\u03C9\u03D1\u03D2\u03D5\u03D6\u03DC\u03DD\u03F0\u03F1\u03F5\u03F6\u0401-\u040C\u040E-\u044F\u0451-\u045C\u045E\u045F\u2002-\u2005\u2007-\u2010\u2013-\u2016\u2018-\u201A\u201C-\u201E\u2020-\u2022\u2025\u2026\u2030-\u2035\u2039\u203A\u203E\u2041\u2043\u2044\u204F\u2057\u205F-\u2063\u20AC\u20DB\u20DC\u2102\u2105\u210A-\u2113\u2115-\u211E\u2122\u2124\u2127-\u2129\u212C\u212D\u212F-\u2131\u2133-\u2138\u2145-\u2148\u2153-\u215E\u2190-\u219B\u219D-\u21A7\u21A9-\u21AE\u21B0-\u21B3\u21B5-\u21B7\u21BA-\u21DB\u21DD\u21E4\u21E5\u21F5\u21FD-\u2205\u2207-\u2209\u220B\u220C\u220F-\u2214\u2216-\u2218\u221A\u221D-\u2238\u223A-\u2257\u2259\u225A\u225C\u225F-\u2262\u2264-\u228B\u228D-\u229B\u229D-\u22A5\u22A7-\u22B0\u22B2-\u22BB\u22BD-\u22DB\u22DE-\u22E3\u22E6-\u22F7\u22F9-\u22FE\u2305\u2306\u2308-\u2310\u2312\u2313\u2315\u2316\u231C-\u231F\u2322\u2323\u232D\u232E\u2336\u233D\u233F\u237C\u23B0\u23B1\u23B4-\u23B6\u23DC-\u23DF\u23E2\u23E7\u2423\u24C8\u2500\u2502\u250C\u2510\u2514\u2518\u251C\u2524\u252C\u2534\u253C\u2550-\u256C\u2580\u2584\u2588\u2591-\u2593\u25A1\u25AA\u25AB\u25AD\u25AE\u25B1\u25B3-\u25B5\u25B8\u25B9\u25BD-\u25BF\u25C2\u25C3\u25CA\u25CB\u25EC\u25EF\u25F8-\u25FC\u2605\u2606\u260E\u2640\u2642\u2660\u2663\u2665\u2666\u266A\u266D-\u266F\u2713\u2717\u2720\u2736\u2758\u2772\u2773\u27C8\u27C9\u27E6-\u27ED\u27F5-\u27FA\u27FC\u27FF\u2902-\u2905\u290C-\u2913\u2916\u2919-\u2920\u2923-\u292A\u2933\u2935-\u2939\u293C\u293D\u2945\u2948-\u294B\u294E-\u2976\u2978\u2979\u297B-\u297F\u2985\u2986\u298B-\u2996\u299A\u299C\u299D\u29A4-\u29B7\u29B9\u29BB\u29BC\u29BE-\u29C5\u29C9\u29CD-\u29D0\u29DC-\u29DE\u29E3-\u29E5\u29EB\u29F4\u29F6\u2A00-\u2A02\u2A04\u2A06\u2A0C\u2A0D\u2A10-\u2A17\u2A22-\u2A27\u2A29\u2A2A\u2A2D-\u2A31\u2A33-\u2A3C\u2A3F\u2A40\u2A42-\u2A4D\u2A50\u2A53-\u2A58\u2A5A-\u2A5D\u2A5F\u2A66\u2A6A\u2A6D-\u2A75\u2A77-\u2A9A\u2A9D-\u2AA2\u2AA4-\u2AB0\u2AB3-\u2AC8\u2ACB\u2ACC\u2ACF-\u2ADB\u2AE4\u2AE6-\u2AE9\u2AEB-\u2AF3\u2AFD\uFB00-\uFB04]|\uD835[\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDCCF\uDD04\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDD6B]/g,l={"":"shy","":"zwnj","":"zwj","":"lrm","":"ic","":"it","":"af","":"rlm","":"ZeroWidthSpace","":"NoBreak","":"DownBreve","":"tdot","":"DotDot","\t":"Tab","\n":"NewLine","":"puncsp","":"MediumSpace","":"thinsp","":"hairsp","":"emsp13","":"ensp","":"emsp14","":"emsp","":"numsp","":"nbsp","":"ThickSpace","":"oline",_:"lowbar","":"dash","":"ndash","":"mdash","":"horbar",",":"comma",";":"semi","":"bsemi",":":"colon","":"Colone","!":"excl","":"iexcl","?":"quest","":"iquest",".":"period","":"nldr","":"mldr","":"middot","'":"apos","":"lsquo","":"rsquo","":"sbquo","":"lsaquo","":"rsaquo",'"':"quot","":"ldquo","":"rdquo","":"bdquo","":"laquo","":"raquo","(":"lpar",")":"rpar","[":"lsqb","]":"rsqb","{":"lcub","}":"rcub","":"lceil","":"rceil","":"lfloor","":"rfloor","":"lopar","":"ropar","":"lbrke","":"rbrke","":"lbrkslu","":"rbrksld","":"lbrksld","":"rbrkslu","":"langd","":"rangd","":"lparlt","":"rpargt","":"gtlPar","":"ltrPar","":"lobrk","":"robrk","":"lang","":"rang","":"Lang","":"Rang","":"loang","":"roang","":"lbbrk","":"rbbrk","":"Vert","":"sect","":"para","@":"commat","*":"ast","/":"sol",undefined:null,"&":"amp","#":"num","%":"percnt","":"permil","":"pertenk","":"dagger","":"Dagger","":"bull","":"hybull","":"prime","":"Prime","":"tprime","":"qprime","":"bprime","":"caret","`":"grave","":"acute","":"tilde","^":"Hat","":"macr","":"breve","":"dot","":"die","":"ring","":"dblac","":"cedil","":"ogon",:"circ",:"caron","":"deg","":"copy","":"reg","":"copysr",:"wp","":"rx","":"mho","":"iiota","":"larr","":"nlarr","":"rarr","":"nrarr","":"uarr","":"darr","":"harr","":"nharr","":"varr","":"nwarr","":"nearr","":"searr","":"swarr","":"rarrw","":"nrarrw","":"Larr","":"Uarr","":"Rarr","":"Darr","":"larrtl","":"rarrtl","":"mapstoleft","":"mapstoup","":"map","":"mapstodown","":"larrhk","":"rarrhk","":"larrlp","":"rarrlp","":"harrw","":"lsh","":"rsh","":"ldsh","":"rdsh","":"crarr","":"cularr","":"curarr","":"olarr","":"orarr","":"lharu","":"lhard","":"uharr","":"uharl","":"rharu","":"rhard","":"dharr","":"dharl","":"rlarr","":"udarr","":"lrarr","":"llarr","":"uuarr","":"rrarr","":"ddarr","":"lrhar","":"rlhar","":"lArr","":"nlArr","":"uArr","":"rArr","":"nrArr","":"dArr","":"iff","":"nhArr","":"vArr","":"nwArr","":"neArr","":"seArr","":"swArr","":"lAarr","":"rAarr","":"zigrarr","":"larrb","":"rarrb","":"duarr","":"loarr","":"roarr","":"hoarr","":"forall","":"comp","":"part","":"npart","":"exist","":"nexist","":"empty","":"Del","":"in","":"notin","":"ni","":"notni","":"bepsi","":"prod","":"coprod","":"sum","+":"plus","":"pm","":"div","":"times","<":"lt","":"nlt","<":"nvlt","=":"equals","":"ne","=":"bne","":"Equal",">":"gt","":"ngt",">":"nvgt","":"not","|":"vert","":"brvbar","":"minus","":"mp","":"plusdo","":"frasl","":"setmn","":"lowast","":"compfn","":"Sqrt","":"prop","":"infin","":"angrt","":"ang","":"nang","":"angmsd","":"angsph","":"mid","":"nmid","":"par","":"npar","":"and","":"or","":"cap","":"caps","":"cup","":"cups","":"int","":"Int","":"tint","":"qint","":"oint","":"Conint","":"Cconint","":"cwint","":"cwconint","":"awconint","":"there4","":"becaus","":"ratio","":"Colon","":"minusd","":"mDDot","":"homtht","":"sim","":"nsim","":"nvsim","":"bsim","":"race","":"ac","":"acE","":"acd","":"wr","":"esim","":"nesim","":"sime","":"nsime","":"cong","":"ncong","":"simne","":"ap","":"nap","":"ape","":"apid","":"napid","":"bcong","":"CupCap","":"NotCupCap","":"nvap","":"bump","":"nbump","":"bumpe","":"nbumpe","":"doteq","":"nedot","":"eDot","":"efDot","":"erDot","":"colone","":"ecolon","":"ecir","":"cire","":"wedgeq","":"veeeq","":"trie","":"equest","":"equiv","":"nequiv","":"bnequiv","":"le","":"nle","":"nvle","":"ge","":"nge","":"nvge","":"lE","":"nlE","":"gE","":"ngE","":"lvnE","":"lnE","":"gnE","":"gvnE","":"ll","":"nLtv","":"nLt","":"gg","":"nGtv","":"nGt","":"twixt","":"lsim","":"nlsim","":"gsim","":"ngsim","":"lg","":"ntlg","":"gl","":"ntgl","":"pr","":"npr","":"sc","":"nsc","":"prcue","":"nprcue","":"sccue","":"nsccue","":"prsim","":"scsim","":"NotSucceedsTilde","":"sub","":"nsub","":"vnsub","":"sup","":"nsup","":"vnsup","":"sube","":"nsube","":"supe","":"nsupe","":"vsubne","":"subne","":"vsupne","":"supne","":"cupdot","":"uplus","":"sqsub","":"NotSquareSubset","":"sqsup","":"NotSquareSuperset","":"sqsube","":"nsqsube","":"sqsupe","":"nsqsupe","":"sqcap","":"sqcaps","":"sqcup","":"sqcups","":"oplus","":"ominus","":"otimes","":"osol","":"odot","":"ocir","":"oast","":"odash","":"plusb","":"minusb","":"timesb","":"sdotb","":"vdash","":"nvdash","":"dashv","":"top","":"bot","":"models","":"vDash","":"nvDash","":"Vdash","":"nVdash","":"Vvdash","":"VDash","":"nVDash","":"prurel","":"vltri","":"nltri","":"vrtri","":"nrtri","":"ltrie","":"nltrie","":"nvltrie","":"rtrie","":"nrtrie","":"nvrtrie","":"origof","":"imof","":"mumap","":"hercon","":"intcal","":"veebar","":"barvee","":"angrtvb","":"lrtri","":"Wedge","":"Vee","":"xcap","":"xcup","":"diam","":"sdot","":"Star","":"divonx","":"bowtie","":"ltimes","":"rtimes","":"lthree","":"rthree","":"bsime","":"cuvee","":"cuwed","":"Sub","":"Sup","":"Cap","":"Cup","":"fork","":"epar","":"ltdot","":"gtdot","":"Ll","":"nLl","":"Gg","":"nGg","":"lesg","":"leg","":"gel","":"gesl","":"cuepr","":"cuesc","":"lnsim","":"gnsim","":"prnsim","":"scnsim","":"vellip","":"ctdot","":"utdot","":"dtdot","":"disin","":"isinsv","":"isins","":"isindot","":"notindot","":"notinvc","":"notinvb","":"isinE","":"notinE","":"nisd","":"xnis","":"nis","":"notnivc","":"notnivb","":"barwed","":"Barwed","":"drcrop","":"dlcrop","":"urcrop","":"ulcrop","":"bnot","":"profline","":"profsurf","":"telrec","":"target","":"ulcorn","":"urcorn","":"dlcorn","":"drcorn","":"frown","":"smile","":"cylcty","":"profalar","":"topbot","":"ovbar","":"solbar","":"angzarr","":"lmoust","":"rmoust","":"tbrk","":"bbrk","":"bbrktbrk","":"OverParenthesis","":"UnderParenthesis","":"OverBrace","":"UnderBrace","":"trpezium","":"elinters","":"blank","":"boxh","":"boxv","":"boxdr","":"boxdl","":"boxur","":"boxul","":"boxvr","":"boxvl","":"boxhd","":"boxhu","":"boxvh","":"boxH","":"boxV","":"boxdR","":"boxDr","":"boxDR","":"boxdL","":"boxDl","":"boxDL","":"boxuR","":"boxUr","":"boxUR","":"boxuL","":"boxUl","":"boxUL","":"boxvR","":"boxVr","":"boxVR","":"boxvL","":"boxVl","":"boxVL","":"boxHd","":"boxhD","":"boxHD","":"boxHu","":"boxhU","":"boxHU","":"boxvH","":"boxVh","":"boxVH","":"uhblk","":"lhblk","":"block","":"blk14","":"blk12","":"blk34","":"squ","":"squf","":"EmptyVerySmallSquare","":"rect","":"marker","":"fltns","":"xutri","":"utrif","":"utri","":"rtrif","":"rtri","":"xdtri","":"dtrif","":"dtri","":"ltrif","":"ltri","":"loz","":"cir","":"tridot","":"xcirc","":"ultri","":"urtri","":"lltri","":"EmptySmallSquare","":"FilledSmallSquare","":"starf","":"star","":"phone","":"female","":"male","":"spades","":"clubs","":"hearts","":"diams","":"sung","":"check","":"cross","":"malt","":"sext","":"VerticalSeparator","":"bsolhsub","":"suphsol","":"xlarr","":"xrarr","":"xharr","":"xlArr","":"xrArr","":"xhArr","":"xmap","":"dzigrarr","":"nvlArr","":"nvrArr","":"nvHarr","":"Map","":"lbarr","":"rbarr","":"lBarr","":"rBarr","":"RBarr","":"DDotrahd","":"UpArrowBar","":"DownArrowBar","":"Rarrtl","":"latail","":"ratail","":"lAtail","":"rAtail","":"larrfs","":"rarrfs","":"larrbfs","":"rarrbfs","":"nwarhk","":"nearhk","":"searhk","":"swarhk","":"nwnear","":"toea","":"tosa","":"swnwar","":"rarrc","":"nrarrc","":"cudarrr","":"ldca","":"rdca","":"cudarrl","":"larrpl","":"curarrm","":"cularrp","":"rarrpl","":"harrcir","":"Uarrocir","":"lurdshar","":"ldrushar","":"LeftRightVector","":"RightUpDownVector","":"DownLeftRightVector","":"LeftUpDownVector","":"LeftVectorBar","":"RightVectorBar","":"RightUpVectorBar","":"RightDownVectorBar","":"DownLeftVectorBar","":"DownRightVectorBar","":"LeftUpVectorBar","":"LeftDownVectorBar","":"LeftTeeVector","":"RightTeeVector","":"RightUpTeeVector","":"RightDownTeeVector","":"DownLeftTeeVector","":"DownRightTeeVector","":"LeftUpTeeVector","":"LeftDownTeeVector","":"lHar","":"uHar","":"rHar","":"dHar","":"luruhar","":"ldrdhar","":"ruluhar","":"rdldhar","":"lharul","":"llhard","":"rharul","":"lrhard","":"udhar","":"duhar","":"RoundImplies","":"erarr","":"simrarr","":"larrsim","":"rarrsim","":"rarrap","":"ltlarr","":"gtrarr","":"subrarr","":"suplarr","":"lfisht","":"rfisht","":"ufisht","":"dfisht","":"vzigzag","":"vangrt","":"angrtvbd","":"ange","":"range","":"dwangle","":"uwangle","":"angmsdaa","":"angmsdab","":"angmsdac","":"angmsdad","":"angmsdae","":"angmsdaf","":"angmsdag","":"angmsdah","":"bemptyv","":"demptyv","":"cemptyv","":"raemptyv","":"laemptyv","":"ohbar","":"omid","":"opar","":"operp","":"olcross","":"odsold","":"olcir","":"ofcir","":"olt","":"ogt","":"cirscir","":"cirE","":"solb","":"bsolb","":"boxbox","":"trisb","":"rtriltri","":"LeftTriangleBar","":"NotLeftTriangleBar","":"RightTriangleBar","":"NotRightTriangleBar","":"iinfin","":"infintie","":"nvinfin","":"eparsl","":"smeparsl","":"eqvparsl","":"lozf","":"RuleDelayed","":"dsol","":"xodot","":"xoplus","":"xotime","":"xuplus","":"xsqcup","":"fpartint","":"cirfnint","":"awint","":"rppolint","":"scpolint","":"npolint","":"pointint","":"quatint","":"intlarhk","":"pluscir","":"plusacir","":"simplus","":"plusdu","":"plussim","":"plustwo","":"mcomma","":"minusdu","":"loplus","":"roplus","":"Cross","":"timesd","":"timesbar","":"smashp","":"lotimes","":"rotimes","":"otimesas","":"Otimes","":"odiv","":"triplus","":"triminus","":"tritime","":"iprod","":"amalg","":"capdot","":"ncup","":"ncap","":"capand","":"cupor","":"cupcap","":"capcup","":"cupbrcap","":"capbrcup","":"cupcup","":"capcap","":"ccups","":"ccaps","":"ccupssm","":"And","":"Or","":"andand","":"oror","":"orslope","":"andslope","":"andv","":"orv","":"andd","":"ord","":"wedbar","":"sdote","":"simdot","":"congdot","":"ncongdot","":"easter","":"apacir","":"apE","":"napE","":"eplus","":"pluse","":"Esim","":"eDDot","":"equivDD","":"ltcir","":"gtcir","":"ltquest","":"gtquest","":"les","":"nles","":"ges","":"nges","":"lesdot","":"gesdot","":"lesdoto","":"gesdoto","":"lesdotor","":"gesdotol","":"lap","":"gap","":"lne","":"gne","":"lnap","":"gnap","":"lEg","":"gEl","":"lsime","":"gsime","":"lsimg","":"gsiml","":"lgE","":"glE","":"lesges","":"gesles","":"els","":"egs","":"elsdot","":"egsdot","":"el","":"eg","":"siml","":"simg","":"simlE","":"simgE","":"LessLess","":"NotNestedLessLess","":"GreaterGreater","":"NotNestedGreaterGreater","":"glj","":"gla","":"ltcc","":"gtcc","":"lescc","":"gescc","":"smt","":"lat","":"smte","":"smtes","":"late","":"lates","":"bumpE","":"pre","":"npre","":"sce","":"nsce","":"prE","":"scE","":"prnE","":"scnE","":"prap","":"scap","":"prnap","":"scnap","":"Pr","":"Sc","":"subdot","":"supdot","":"subplus","":"supplus","":"submult","":"supmult","":"subedot","":"supedot","":"subE","":"nsubE","":"supE","":"nsupE","":"subsim","":"supsim","":"vsubnE","":"subnE","":"vsupnE","":"supnE","":"csub","":"csup","":"csube","":"csupe","":"subsup","":"supsub","":"subsub","":"supsup","":"suphsub","":"supdsub","":"forkv","":"topfork","":"mlcp","":"Dashv","":"Vdashl","":"Barv","":"vBar","":"vBarv","":"Vbar","":"Not","":"bNot","":"rnmid","":"cirmid","":"midcir","":"topcir","":"nhpar","":"parsim","":"parsl","":"nparsl","":"flat","":"natur","":"sharp","":"curren","":"cent",$:"dollar","":"pound","":"yen","":"euro","":"sup1","":"half","":"frac13","":"frac14","":"frac15","":"frac16","":"frac18","":"sup2","":"frac23","":"frac25","":"sup3","":"frac34","":"frac35","":"frac38","":"frac45","":"frac56","":"frac58","":"frac78",:"ascr",:"aopf",:"afr",:"Aopf",:"Afr",:"Ascr",:"ordf",:"aacute",:"Aacute",:"agrave",:"Agrave",:"abreve",:"Abreve",:"acirc",:"Acirc",:"aring",:"angst",:"auml",:"Auml",:"atilde",:"Atilde",:"aogon",:"Aogon",:"amacr",:"Amacr",:"aelig",:"AElig",:"bscr",:"bopf",:"bfr",:"Bopf",:"Bscr",:"Bfr",:"cfr",:"cscr",:"copf",:"Cfr",:"Cscr",:"Copf",:"cacute",:"Cacute",:"ccirc",:"Ccirc",:"ccaron",:"Ccaron",:"cdot",:"Cdot",:"ccedil",:"Ccedil","":"incare",:"dfr",:"dd",:"dopf",:"dscr",:"Dscr",:"Dfr",:"DD",:"Dopf",:"dcaron",:"Dcaron",:"dstrok",:"Dstrok",:"eth",:"ETH",:"ee",:"escr",:"efr",:"eopf",:"Escr",:"Efr",:"Eopf",:"eacute",:"Eacute",:"egrave",:"Egrave",:"ecirc",:"Ecirc",:"ecaron",:"Ecaron",:"euml",:"Euml",:"edot",:"Edot",:"eogon",:"Eogon",:"emacr",:"Emacr",:"ffr",:"fopf",:"fscr",:"Ffr",:"Fopf",:"Fscr",:"fflig",:"ffilig",:"ffllig",:"filig",fj:"fjlig",:"fllig",:"fnof",:"gscr",:"gopf",:"gfr",:"Gscr",:"Gopf",:"Gfr",:"gacute",:"gbreve",:"Gbreve",:"gcirc",:"Gcirc",:"gdot",:"Gdot",:"Gcedil",:"hfr",:"planckh",:"hscr",:"hopf",:"Hscr",:"Hfr",:"Hopf",:"hcirc",:"Hcirc",:"hbar",:"hstrok",:"Hstrok",:"iopf",:"ifr",:"iscr",:"ii",:"Iopf",:"Iscr",:"Im",:"iacute",:"Iacute",:"igrave",:"Igrave",:"icirc",:"Icirc",:"iuml",:"Iuml",:"itilde",:"Itilde",:"Idot",:"iogon",:"Iogon",:"imacr",:"Imacr",:"ijlig",:"IJlig",:"imath",:"jscr",:"jopf",:"jfr",:"Jscr",:"Jfr",:"Jopf",:"jcirc",:"Jcirc",:"jmath",:"kopf",:"kscr",:"kfr",:"Kscr",:"Kopf",:"Kfr",:"kcedil",:"Kcedil",:"lfr",:"lscr",:"ell",:"lopf",:"Lscr",:"Lfr",:"Lopf",:"lacute",:"Lacute",:"lcaron",:"Lcaron",:"lcedil",:"Lcedil",:"lstrok",:"Lstrok",:"lmidot",:"Lmidot",:"mfr",:"mopf",:"mscr",:"Mfr",:"Mopf",:"Mscr",:"nfr",:"nopf",:"nscr",:"Nopf",:"Nscr",:"Nfr",:"nacute",:"Nacute",:"ncaron",:"Ncaron",:"ntilde",:"Ntilde",:"ncedil",:"Ncedil","":"numero",:"eng",:"ENG",:"oopf",:"ofr",:"oscr",:"Oscr",:"Ofr",:"Oopf",:"ordm",:"oacute",:"Oacute",:"ograve",:"Ograve",:"ocirc",:"Ocirc",:"ouml",:"Ouml",:"odblac",:"Odblac",:"otilde",:"Otilde",:"oslash",:"Oslash",:"omacr",:"Omacr",:"oelig",:"OElig",:"pfr",:"pscr",:"popf",:"Popf",:"Pfr",:"Pscr",:"qopf",:"qfr",:"qscr",:"Qscr",:"Qfr",:"Qopf",:"kgreen",:"rfr",:"ropf",:"rscr",:"Rscr",:"Re",:"Ropf",:"racute",:"Racute",:"rcaron",:"Rcaron",:"rcedil",:"Rcedil",:"sopf",:"sscr",:"sfr",:"Sopf",:"Sfr",:"Sscr","":"oS",:"sacute",:"Sacute",:"scirc",:"Scirc",:"scaron",:"Scaron",:"scedil",:"Scedil",:"szlig",:"tfr",:"tscr",:"topf",:"Tscr",:"Tfr",:"Topf",:"tcaron",:"Tcaron",:"tcedil",:"Tcedil","":"trade",:"tstrok",:"Tstrok",:"uscr",:"uopf",:"ufr",:"Uopf",:"Ufr",:"Uscr",:"uacute",:"Uacute",:"ugrave",:"Ugrave",:"ubreve",:"Ubreve",:"ucirc",:"Ucirc",:"uring",:"Uring",:"uuml",:"Uuml",:"udblac",:"Udblac",:"utilde",:"Utilde",:"uogon",:"Uogon",:"umacr",:"Umacr",:"vfr",:"vopf",:"vscr",:"Vfr",:"Vopf",:"Vscr",:"wopf",:"wscr",:"wfr",:"Wscr",:"Wopf",:"Wfr",:"wcirc",:"Wcirc",:"xfr",:"xscr",:"xopf",:"Xopf",:"Xfr",:"Xscr",:"yfr",:"yscr",:"yopf",:"Yscr",:"Yfr",:"Yopf",:"yacute",:"Yacute",:"ycirc",:"Ycirc",:"yuml",:"Yuml",:"zscr",:"zfr",:"zopf",:"Zfr",:"Zopf",:"Zscr",:"zacute",:"Zacute",:"zcaron",:"Zcaron",:"zdot",:"Zdot",:"imped",:"thorn",:"THORN",:"napos",:"alpha",:"Alpha",:"beta",:"Beta",:"gamma",:"Gamma",:"delta",:"Delta",:"epsi",:"epsiv",:"Epsilon",:"gammad",:"Gammad",:"zeta",:"Zeta",:"eta",:"Eta",:"theta",:"thetav",:"Theta",:"iota",:"Iota",:"kappa",:"kappav",:"Kappa",:"lambda",:"Lambda",:"mu",:"micro",:"Mu",:"nu",:"Nu",:"xi",:"Xi",:"omicron",:"Omicron",:"pi",:"piv",:"Pi",:"rho",:"rhov",:"Rho",:"sigma",:"Sigma",:"sigmaf",:"tau",:"Tau",:"upsi",:"Upsilon",:"Upsi",:"phi",:"phiv",:"Phi",:"chi",:"Chi",:"psi",:"Psi",:"omega",:"ohm",:"acy",:"Acy",:"bcy",:"Bcy",:"vcy",:"Vcy",:"gcy",:"Gcy",:"gjcy",:"GJcy",:"dcy",:"Dcy",:"djcy",:"DJcy",:"iecy",:"IEcy",:"iocy",:"IOcy",:"jukcy",:"Jukcy",:"zhcy",:"ZHcy",:"zcy",:"Zcy",:"dscy",:"DScy",:"icy",:"Icy",:"iukcy",:"Iukcy",:"yicy",:"YIcy",:"jcy",:"Jcy",:"jsercy",:"Jsercy",:"kcy",:"Kcy",:"kjcy",:"KJcy",:"lcy",:"Lcy",:"ljcy",:"LJcy",:"mcy",:"Mcy",:"ncy",:"Ncy",:"njcy",:"NJcy",:"ocy",:"Ocy",:"pcy",:"Pcy",:"rcy",:"Rcy",:"scy",:"Scy",:"tcy",:"Tcy",:"tshcy",:"TSHcy",:"ucy",:"Ucy",:"ubrcy",:"Ubrcy",:"fcy",:"Fcy",:"khcy",:"KHcy",:"tscy",:"TScy",:"chcy",:"CHcy",:"dzcy",:"DZcy",:"shcy",:"SHcy",:"shchcy",:"SHCHcy",:"hardcy",:"HARDcy",:"ycy",:"Ycy",:"softcy",:"SOFTcy",:"ecy",:"Ecy",:"yucy",:"YUcy",:"yacy",:"YAcy",:"aleph",:"beth",:"gimel",:"daleth"},h=/["&'<>`]/g,d={'"':"&quot;","&":"&amp;","'":"&#x27;","<":"&lt;",">":"&gt;","`":"&#x60;"},f=/&#(?:[xX][^a-fA-F0-9]|[^0-9xX])/,p=/[\0-\x08\x0B\x0E-\x1F\x7F-\x9F\uFDD0-\uFDEF\uFFFE\uFFFF]|[\uD83F\uD87F\uD8BF\uD8FF\uD93F\uD97F\uD9BF\uD9FF\uDA3F\uDA7F\uDABF\uDAFF\uDB3F\uDB7F\uDBBF\uDBFF][\uDFFE\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,g=/&(CounterClockwiseContourIntegral|DoubleLongLeftRightArrow|ClockwiseContourIntegral|NotNestedGreaterGreater|NotSquareSupersetEqual|DiacriticalDoubleAcute|NotRightTriangleEqual|NotSucceedsSlantEqual|NotPrecedesSlantEqual|CloseCurlyDoubleQuote|NegativeVeryThinSpace|DoubleContourIntegral|FilledVerySmallSquare|CapitalDifferentialD|OpenCurlyDoubleQuote|EmptyVerySmallSquare|NestedGreaterGreater|DoubleLongRightArrow|NotLeftTriangleEqual|NotGreaterSlantEqual|ReverseUpEquilibrium|DoubleLeftRightArrow|NotSquareSubsetEqual|NotDoubleVerticalBar|RightArrowLeftArrow|NotGreaterFullEqual|NotRightTriangleBar|SquareSupersetEqual|DownLeftRightVector|DoubleLongLeftArrow|leftrightsquigarrow|LeftArrowRightArrow|NegativeMediumSpace|blacktriangleright|RightDownVectorBar|PrecedesSlantEqual|RightDoubleBracket|SucceedsSlantEqual|NotLeftTriangleBar|RightTriangleEqual|SquareIntersection|RightDownTeeVector|ReverseEquilibrium|NegativeThickSpace|longleftrightarrow|Longleftrightarrow|LongLeftRightArrow|DownRightTeeVector|DownRightVectorBar|GreaterSlantEqual|SquareSubsetEqual|LeftDownVectorBar|LeftDoubleBracket|VerticalSeparator|rightleftharpoons|NotGreaterGreater|NotSquareSuperset|blacktriangleleft|blacktriangledown|NegativeThinSpace|LeftDownTeeVector|NotLessSlantEqual|leftrightharpoons|DoubleUpDownArrow|DoubleVerticalBar|LeftTriangleEqual|FilledSmallSquare|twoheadrightarrow|NotNestedLessLess|DownLeftTeeVector|DownLeftVectorBar|RightAngleBracket|NotTildeFullEqual|NotReverseElement|RightUpDownVector|DiacriticalTilde|NotSucceedsTilde|circlearrowright|NotPrecedesEqual|rightharpoondown|DoubleRightArrow|NotSucceedsEqual|NonBreakingSpace|NotRightTriangle|LessEqualGreater|RightUpTeeVector|LeftAngleBracket|GreaterFullEqual|DownArrowUpArrow|RightUpVectorBar|twoheadleftarrow|GreaterEqualLess|downharpoonright|RightTriangleBar|ntrianglerighteq|NotSupersetEqual|LeftUpDownVector|DiacriticalAcute|rightrightarrows|vartriangleright|UpArrowDownArrow|DiacriticalGrave|UnderParenthesis|EmptySmallSquare|LeftUpVectorBar|leftrightarrows|DownRightVector|downharpoonleft|trianglerighteq|ShortRightArrow|OverParenthesis|DoubleLeftArrow|DoubleDownArrow|NotSquareSubset|bigtriangledown|ntrianglelefteq|UpperRightArrow|curvearrowright|vartriangleleft|NotLeftTriangle|nleftrightarrow|LowerRightArrow|NotHumpDownHump|NotGreaterTilde|rightthreetimes|LeftUpTeeVector|NotGreaterEqual|straightepsilon|LeftTriangleBar|rightsquigarrow|ContourIntegral|rightleftarrows|CloseCurlyQuote|RightDownVector|LeftRightVector|nLeftrightarrow|leftharpoondown|circlearrowleft|SquareSuperset|OpenCurlyQuote|hookrightarrow|HorizontalLine|DiacriticalDot|NotLessGreater|ntriangleright|DoubleRightTee|InvisibleComma|InvisibleTimes|LowerLeftArrow|DownLeftVector|NotSubsetEqual|curvearrowleft|trianglelefteq|NotVerticalBar|TildeFullEqual|downdownarrows|NotGreaterLess|RightTeeVector|ZeroWidthSpace|looparrowright|LongRightArrow|doublebarwedge|ShortLeftArrow|ShortDownArrow|RightVectorBar|GreaterGreater|ReverseElement|rightharpoonup|LessSlantEqual|leftthreetimes|upharpoonright|rightarrowtail|LeftDownVector|Longrightarrow|NestedLessLess|UpperLeftArrow|nshortparallel|leftleftarrows|leftrightarrow|Leftrightarrow|LeftRightArrow|longrightarrow|upharpoonleft|RightArrowBar|ApplyFunction|LeftTeeVector|leftarrowtail|NotEqualTilde|varsubsetneqq|varsupsetneqq|RightTeeArrow|SucceedsEqual|SucceedsTilde|LeftVectorBar|SupersetEqual|hookleftarrow|DifferentialD|VerticalTilde|VeryThinSpace|blacktriangle|bigtriangleup|LessFullEqual|divideontimes|leftharpoonup|UpEquilibrium|ntriangleleft|RightTriangle|measuredangle|shortparallel|longleftarrow|Longleftarrow|LongLeftArrow|DoubleLeftTee|Poincareplane|PrecedesEqual|triangleright|DoubleUpArrow|RightUpVector|fallingdotseq|looparrowleft|PrecedesTilde|NotTildeEqual|NotTildeTilde|smallsetminus|Proportional|triangleleft|triangledown|UnderBracket|NotHumpEqual|exponentiale|ExponentialE|NotLessTilde|HilbertSpace|RightCeiling|blacklozenge|varsupsetneq|HumpDownHump|GreaterEqual|VerticalLine|LeftTeeArrow|NotLessEqual|DownTeeArrow|LeftTriangle|varsubsetneq|Intersection|NotCongruent|DownArrowBar|LeftUpVector|LeftArrowBar|risingdotseq|GreaterTilde|RoundImplies|SquareSubset|ShortUpArrow|NotSuperset|quaternions|precnapprox|backepsilon|preccurlyeq|OverBracket|blacksquare|MediumSpace|VerticalBar|circledcirc|circleddash|CircleMinus|CircleTimes|LessGreater|curlyeqprec|curlyeqsucc|diamondsuit|UpDownArrow|Updownarrow|RuleDelayed|Rrightarrow|updownarrow|RightVector|nRightarrow|nrightarrow|eqslantless|LeftCeiling|Equilibrium|SmallCircle|expectation|NotSucceeds|thickapprox|GreaterLess|SquareUnion|NotPrecedes|NotLessLess|straightphi|succnapprox|succcurlyeq|SubsetEqual|sqsupseteq|Proportion|Laplacetrf|ImaginaryI|supsetneqq|NotGreater|gtreqqless|NotElement|ThickSpace|TildeEqual|TildeTilde|Fouriertrf|rmoustache|EqualTilde|eqslantgtr|UnderBrace|LeftVector|UpArrowBar|nLeftarrow|nsubseteqq|subsetneqq|nsupseteqq|nleftarrow|succapprox|lessapprox|UpTeeArrow|upuparrows|curlywedge|lesseqqgtr|varepsilon|varnothing|RightFloor|complement|CirclePlus|sqsubseteq|Lleftarrow|circledast|RightArrow|Rightarrow|rightarrow|lmoustache|Bernoullis|precapprox|mapstoleft|mapstodown|longmapsto|dotsquare|downarrow|DoubleDot|nsubseteq|supsetneq|leftarrow|nsupseteq|subsetneq|ThinSpace|ngeqslant|subseteqq|HumpEqual|NotSubset|triangleq|NotCupCap|lesseqgtr|heartsuit|TripleDot|Leftarrow|Coproduct|Congruent|varpropto|complexes|gvertneqq|LeftArrow|LessTilde|supseteqq|MinusPlus|CircleDot|nleqslant|NotExists|gtreqless|nparallel|UnionPlus|LeftFloor|checkmark|CenterDot|centerdot|Mellintrf|gtrapprox|bigotimes|OverBrace|spadesuit|therefore|pitchfork|rationals|PlusMinus|Backslash|Therefore|DownBreve|backsimeq|backprime|DownArrow|nshortmid|Downarrow|lvertneqq|eqvparsl|imagline|imagpart|infintie|integers|Integral|intercal|LessLess|Uarrocir|intlarhk|sqsupset|angmsdaf|sqsubset|llcorner|vartheta|cupbrcap|lnapprox|Superset|SuchThat|succnsim|succneqq|angmsdag|biguplus|curlyvee|trpezium|Succeeds|NotTilde|bigwedge|angmsdah|angrtvbd|triminus|cwconint|fpartint|lrcorner|smeparsl|subseteq|urcorner|lurdshar|laemptyv|DDotrahd|approxeq|ldrushar|awconint|mapstoup|backcong|shortmid|triangle|geqslant|gesdotol|timesbar|circledR|circledS|setminus|multimap|naturals|scpolint|ncongdot|RightTee|boxminus|gnapprox|boxtimes|andslope|thicksim|angmsdaa|varsigma|cirfnint|rtriltri|angmsdab|rppolint|angmsdac|barwedge|drbkarow|clubsuit|thetasym|bsolhsub|capbrcup|dzigrarr|doteqdot|DotEqual|dotminus|UnderBar|NotEqual|realpart|otimesas|ulcorner|hksearow|hkswarow|parallel|PartialD|elinters|emptyset|plusacir|bbrktbrk|angmsdad|pointint|bigoplus|angmsdae|Precedes|bigsqcup|varkappa|notindot|supseteq|precneqq|precnsim|profalar|profline|profsurf|leqslant|lesdotor|raemptyv|subplus|notnivb|notnivc|subrarr|zigrarr|vzigzag|submult|subedot|Element|between|cirscir|larrbfs|larrsim|lotimes|lbrksld|lbrkslu|lozenge|ldrdhar|dbkarow|bigcirc|epsilon|simrarr|simplus|ltquest|Epsilon|luruhar|gtquest|maltese|npolint|eqcolon|npreceq|bigodot|ddagger|gtrless|bnequiv|harrcir|ddotseq|equivDD|backsim|demptyv|nsqsube|nsqsupe|Upsilon|nsubset|upsilon|minusdu|nsucceq|swarrow|nsupset|coloneq|searrow|boxplus|napprox|natural|asympeq|alefsym|congdot|nearrow|bigstar|diamond|supplus|tritime|LeftTee|nvinfin|triplus|NewLine|nvltrie|nvrtrie|nwarrow|nexists|Diamond|ruluhar|Implies|supmult|angzarr|suplarr|suphsub|questeq|because|digamma|Because|olcross|bemptyv|omicron|Omicron|rotimes|NoBreak|intprod|angrtvb|orderof|uwangle|suphsol|lesdoto|orslope|DownTee|realine|cudarrl|rdldhar|OverBar|supedot|lessdot|supdsub|topfork|succsim|rbrkslu|rbrksld|pertenk|cudarrr|isindot|planckh|lessgtr|pluscir|gesdoto|plussim|plustwo|lesssim|cularrp|rarrsim|Cayleys|notinva|notinvb|notinvc|UpArrow|Uparrow|uparrow|NotLess|dwangle|precsim|Product|curarrm|Cconint|dotplus|rarrbfs|ccupssm|Cedilla|cemptyv|notniva|quatint|frac35|frac38|frac45|frac56|frac58|frac78|tridot|xoplus|gacute|gammad|Gammad|lfisht|lfloor|bigcup|sqsupe|gbreve|Gbreve|lharul|sqsube|sqcups|Gcedil|apacir|llhard|lmidot|Lmidot|lmoust|andand|sqcaps|approx|Abreve|spades|circeq|tprime|divide|topcir|Assign|topbot|gesdot|divonx|xuplus|timesd|gesles|atilde|solbar|SOFTcy|loplus|timesb|lowast|lowbar|dlcorn|dlcrop|softcy|dollar|lparlt|thksim|lrhard|Atilde|lsaquo|smashp|bigvee|thinsp|wreath|bkarow|lsquor|lstrok|Lstrok|lthree|ltimes|ltlarr|DotDot|simdot|ltrPar|weierp|xsqcup|angmsd|sigmav|sigmaf|zeetrf|Zcaron|zcaron|mapsto|vsupne|thetav|cirmid|marker|mcomma|Zacute|vsubnE|there4|gtlPar|vsubne|bottom|gtrarr|SHCHcy|shchcy|midast|midcir|middot|minusb|minusd|gtrdot|bowtie|sfrown|mnplus|models|colone|seswar|Colone|mstpos|searhk|gtrsim|nacute|Nacute|boxbox|telrec|hairsp|Tcedil|nbumpe|scnsim|ncaron|Ncaron|ncedil|Ncedil|hamilt|Scedil|nearhk|hardcy|HARDcy|tcedil|Tcaron|commat|nequiv|nesear|tcaron|target|hearts|nexist|varrho|scedil|Scaron|scaron|hellip|Sacute|sacute|hercon|swnwar|compfn|rtimes|rthree|rsquor|rsaquo|zacute|wedgeq|homtht|barvee|barwed|Barwed|rpargt|horbar|conint|swarhk|roplus|nltrie|hslash|hstrok|Hstrok|rmoust|Conint|bprime|hybull|hyphen|iacute|Iacute|supsup|supsub|supsim|varphi|coprod|brvbar|agrave|Supset|supset|igrave|Igrave|notinE|Agrave|iiiint|iinfin|copysr|wedbar|Verbar|vangrt|becaus|incare|verbar|inodot|bullet|drcorn|intcal|drcrop|cularr|vellip|Utilde|bumpeq|cupcap|dstrok|Dstrok|CupCap|cupcup|cupdot|eacute|Eacute|supdot|iquest|easter|ecaron|Ecaron|ecolon|isinsv|utilde|itilde|Itilde|curarr|succeq|Bumpeq|cacute|ulcrop|nparsl|Cacute|nprcue|egrave|Egrave|nrarrc|nrarrw|subsup|subsub|nrtrie|jsercy|nsccue|Jsercy|kappav|kcedil|Kcedil|subsim|ulcorn|nsimeq|egsdot|veebar|kgreen|capand|elsdot|Subset|subset|curren|aacute|lacute|Lacute|emptyv|ntilde|Ntilde|lagran|lambda|Lambda|capcap|Ugrave|langle|subdot|emsp13|numero|emsp14|nvdash|nvDash|nVdash|nVDash|ugrave|ufisht|nvHarr|larrfs|nvlArr|larrhk|larrlp|larrpl|nvrArr|Udblac|nwarhk|larrtl|nwnear|oacute|Oacute|latail|lAtail|sstarf|lbrace|odblac|Odblac|lbrack|udblac|odsold|eparsl|lcaron|Lcaron|ograve|Ograve|lcedil|Lcedil|Aacute|ssmile|ssetmn|squarf|ldquor|capcup|ominus|cylcty|rharul|eqcirc|dagger|rfloor|rfisht|Dagger|daleth|equals|origof|capdot|equest|dcaron|Dcaron|rdquor|oslash|Oslash|otilde|Otilde|otimes|Otimes|urcrop|Ubreve|ubreve|Yacute|Uacute|uacute|Rcedil|rcedil|urcorn|parsim|Rcaron|Vdashl|rcaron|Tstrok|percnt|period|permil|Exists|yacute|rbrack|rbrace|phmmat|ccaron|Ccaron|planck|ccedil|plankv|tstrok|female|plusdo|plusdu|ffilig|plusmn|ffllig|Ccedil|rAtail|dfisht|bernou|ratail|Rarrtl|rarrtl|angsph|rarrpl|rarrlp|rarrhk|xwedge|xotime|forall|ForAll|Vvdash|vsupnE|preceq|bigcap|frac12|frac13|frac14|primes|rarrfs|prnsim|frac15|Square|frac16|square|lesdot|frac18|frac23|propto|prurel|rarrap|rangle|puncsp|frac25|Racute|qprime|racute|lesges|frac34|abreve|AElig|eqsim|utdot|setmn|urtri|Equal|Uring|seArr|uring|searr|dashv|Dashv|mumap|nabla|iogon|Iogon|sdote|sdotb|scsim|napid|napos|equiv|natur|Acirc|dblac|erarr|nbump|iprod|erDot|ucirc|awint|esdot|angrt|ncong|isinE|scnap|Scirc|scirc|ndash|isins|Ubrcy|nearr|neArr|isinv|nedot|ubrcy|acute|Ycirc|iukcy|Iukcy|xutri|nesim|caret|jcirc|Jcirc|caron|twixt|ddarr|sccue|exist|jmath|sbquo|ngeqq|angst|ccaps|lceil|ngsim|UpTee|delta|Delta|rtrif|nharr|nhArr|nhpar|rtrie|jukcy|Jukcy|kappa|rsquo|Kappa|nlarr|nlArr|TSHcy|rrarr|aogon|Aogon|fflig|xrarr|tshcy|ccirc|nleqq|filig|upsih|nless|dharl|nlsim|fjlig|ropar|nltri|dharr|robrk|roarr|fllig|fltns|roang|rnmid|subnE|subne|lAarr|trisb|Ccirc|acirc|ccups|blank|VDash|forkv|Vdash|langd|cedil|blk12|blk14|laquo|strns|diams|notin|vDash|larrb|blk34|block|disin|uplus|vdash|vBarv|aelig|starf|Wedge|check|xrArr|lates|lbarr|lBarr|notni|lbbrk|bcong|frasl|lbrke|frown|vrtri|vprop|vnsup|gamma|Gamma|wedge|xodot|bdquo|srarr|doteq|ldquo|boxdl|boxdL|gcirc|Gcirc|boxDl|boxDL|boxdr|boxdR|boxDr|TRADE|trade|rlhar|boxDR|vnsub|npart|vltri|rlarr|boxhd|boxhD|nprec|gescc|nrarr|nrArr|boxHd|boxHD|boxhu|boxhU|nrtri|boxHu|clubs|boxHU|times|colon|Colon|gimel|xlArr|Tilde|nsime|tilde|nsmid|nspar|THORN|thorn|xlarr|nsube|nsubE|thkap|xhArr|comma|nsucc|boxul|boxuL|nsupe|nsupE|gneqq|gnsim|boxUl|boxUL|grave|boxur|boxuR|boxUr|boxUR|lescc|angle|bepsi|boxvh|varpi|boxvH|numsp|Theta|gsime|gsiml|theta|boxVh|boxVH|boxvl|gtcir|gtdot|boxvL|boxVl|boxVL|crarr|cross|Cross|nvsim|boxvr|nwarr|nwArr|sqsup|dtdot|Uogon|lhard|lharu|dtrif|ocirc|Ocirc|lhblk|duarr|odash|sqsub|Hacek|sqcup|llarr|duhar|oelig|OElig|ofcir|boxvR|uogon|lltri|boxVr|csube|uuarr|ohbar|csupe|ctdot|olarr|olcir|harrw|oline|sqcap|omacr|Omacr|omega|Omega|boxVR|aleph|lneqq|lnsim|loang|loarr|rharu|lobrk|hcirc|operp|oplus|rhard|Hcirc|orarr|Union|order|ecirc|Ecirc|cuepr|szlig|cuesc|breve|reals|eDDot|Breve|hoarr|lopar|utrif|rdquo|Umacr|umacr|efDot|swArr|ultri|alpha|rceil|ovbar|swarr|Wcirc|wcirc|smtes|smile|bsemi|lrarr|aring|parsl|lrhar|bsime|uhblk|lrtri|cupor|Aring|uharr|uharl|slarr|rbrke|bsolb|lsime|rbbrk|RBarr|lsimg|phone|rBarr|rbarr|icirc|lsquo|Icirc|emacr|Emacr|ratio|simne|plusb|simlE|simgE|simeq|pluse|ltcir|ltdot|empty|xharr|xdtri|iexcl|Alpha|ltrie|rarrw|pound|ltrif|xcirc|bumpe|prcue|bumpE|asymp|amacr|cuvee|Sigma|sigma|iiint|udhar|iiota|ijlig|IJlig|supnE|imacr|Imacr|prime|Prime|image|prnap|eogon|Eogon|rarrc|mdash|mDDot|cuwed|imath|supne|imped|Amacr|udarr|prsim|micro|rarrb|cwint|raquo|infin|eplus|range|rangd|Ucirc|radic|minus|amalg|veeeq|rAarr|epsiv|ycirc|quest|sharp|quot|zwnj|Qscr|race|qscr|Qopf|qopf|qint|rang|Rang|Zscr|zscr|Zopf|zopf|rarr|rArr|Rarr|Pscr|pscr|prop|prod|prnE|prec|ZHcy|zhcy|prap|Zeta|zeta|Popf|popf|Zdot|plus|zdot|Yuml|yuml|phiv|YUcy|yucy|Yscr|yscr|perp|Yopf|yopf|part|para|YIcy|Ouml|rcub|yicy|YAcy|rdca|ouml|osol|Oscr|rdsh|yacy|real|oscr|xvee|andd|rect|andv|Xscr|oror|ordm|ordf|xscr|ange|aopf|Aopf|rHar|Xopf|opar|Oopf|xopf|xnis|rhov|oopf|omid|xmap|oint|apid|apos|ogon|ascr|Ascr|odot|odiv|xcup|xcap|ocir|oast|nvlt|nvle|nvgt|nvge|nvap|Wscr|wscr|auml|ntlg|ntgl|nsup|nsub|nsim|Nscr|nscr|nsce|Wopf|ring|npre|wopf|npar|Auml|Barv|bbrk|Nopf|nopf|nmid|nLtv|beta|ropf|Ropf|Beta|beth|nles|rpar|nleq|bnot|bNot|nldr|NJcy|rscr|Rscr|Vscr|vscr|rsqb|njcy|bopf|nisd|Bopf|rtri|Vopf|nGtv|ngtr|vopf|boxh|boxH|boxv|nges|ngeq|boxV|bscr|scap|Bscr|bsim|Vert|vert|bsol|bull|bump|caps|cdot|ncup|scnE|ncap|nbsp|napE|Cdot|cent|sdot|Vbar|nang|vBar|chcy|Mscr|mscr|sect|semi|CHcy|Mopf|mopf|sext|circ|cire|mldr|mlcp|cirE|comp|shcy|SHcy|vArr|varr|cong|copf|Copf|copy|COPY|malt|male|macr|lvnE|cscr|ltri|sime|ltcc|simg|Cscr|siml|csub|Uuml|lsqb|lsim|uuml|csup|Lscr|lscr|utri|smid|lpar|cups|smte|lozf|darr|Lopf|Uscr|solb|lopf|sopf|Sopf|lneq|uscr|spar|dArr|lnap|Darr|dash|Sqrt|LJcy|ljcy|lHar|dHar|Upsi|upsi|diam|lesg|djcy|DJcy|leqq|dopf|Dopf|dscr|Dscr|dscy|ldsh|ldca|squf|DScy|sscr|Sscr|dsol|lcub|late|star|Star|Uopf|Larr|lArr|larr|uopf|dtri|dzcy|sube|subE|Lang|lang|Kscr|kscr|Kopf|kopf|KJcy|kjcy|KHcy|khcy|DZcy|ecir|edot|eDot|Jscr|jscr|succ|Jopf|jopf|Edot|uHar|emsp|ensp|Iuml|iuml|eopf|isin|Iscr|iscr|Eopf|epar|sung|epsi|escr|sup1|sup2|sup3|Iota|iota|supe|supE|Iopf|iopf|IOcy|iocy|Escr|esim|Esim|imof|Uarr|QUOT|uArr|uarr|euml|IEcy|iecy|Idot|Euml|euro|excl|Hscr|hscr|Hopf|hopf|TScy|tscy|Tscr|hbar|tscr|flat|tbrk|fnof|hArr|harr|half|fopf|Fopf|tdot|gvnE|fork|trie|gtcc|fscr|Fscr|gdot|gsim|Gscr|gscr|Gopf|gopf|gneq|Gdot|tosa|gnap|Topf|topf|geqq|toea|GJcy|gjcy|tint|gesl|mid|Sfr|ggg|top|ges|gla|glE|glj|geq|gne|gEl|gel|gnE|Gcy|gcy|gap|Tfr|tfr|Tcy|tcy|Hat|Tau|Ffr|tau|Tab|hfr|Hfr|ffr|Fcy|fcy|icy|Icy|iff|ETH|eth|ifr|Ifr|Eta|eta|int|Int|Sup|sup|ucy|Ucy|Sum|sum|jcy|ENG|ufr|Ufr|eng|Jcy|jfr|els|ell|egs|Efr|efr|Jfr|uml|kcy|Kcy|Ecy|ecy|kfr|Kfr|lap|Sub|sub|lat|lcy|Lcy|leg|Dot|dot|lEg|leq|les|squ|div|die|lfr|Lfr|lgE|Dfr|dfr|Del|deg|Dcy|dcy|lne|lnE|sol|loz|smt|Cup|lrm|cup|lsh|Lsh|sim|shy|map|Map|mcy|Mcy|mfr|Mfr|mho|gfr|Gfr|sfr|cir|Chi|chi|nap|Cfr|vcy|Vcy|cfr|Scy|scy|ncy|Ncy|vee|Vee|Cap|cap|nfr|scE|sce|Nfr|nge|ngE|nGg|vfr|Vfr|ngt|bot|nGt|nis|niv|Rsh|rsh|nle|nlE|bne|Bfr|bfr|nLl|nlt|nLt|Bcy|bcy|not|Not|rlm|wfr|Wfr|npr|nsc|num|ocy|ast|Ocy|ofr|xfr|Xfr|Ofr|ogt|ohm|apE|olt|Rho|ape|rho|Rfr|rfr|ord|REG|ang|reg|orv|And|and|AMP|Rcy|amp|Afr|ycy|Ycy|yen|yfr|Yfr|rcy|par|pcy|Pcy|pfr|Pfr|phi|Phi|afr|Acy|acy|zcy|Zcy|piv|acE|acd|zfr|Zfr|pre|prE|psi|Psi|qfr|Qfr|zwj|Or|ge|Gg|gt|gg|el|oS|lt|Lt|LT|Re|lg|gl|eg|ne|Im|it|le|DD|wp|wr|nu|Nu|dd|lE|Sc|sc|pi|Pi|ee|af|ll|Ll|rx|gE|xi|pm|Xi|ic|pr|Pr|in|ni|mp|mu|ac|Mu|or|ap|Gt|GT|ii);|&(Aacute|Agrave|Atilde|Ccedil|Eacute|Egrave|Iacute|Igrave|Ntilde|Oacute|Ograve|Oslash|Otilde|Uacute|Ugrave|Yacute|aacute|agrave|atilde|brvbar|ccedil|curren|divide|eacute|egrave|frac12|frac14|frac34|iacute|igrave|iquest|middot|ntilde|oacute|ograve|oslash|otilde|plusmn|uacute|ugrave|yacute|AElig|Acirc|Aring|Ecirc|Icirc|Ocirc|THORN|Ucirc|acirc|acute|aelig|aring|cedil|ecirc|icirc|iexcl|laquo|micro|ocirc|pound|raquo|szlig|thorn|times|ucirc|Auml|COPY|Euml|Iuml|Ouml|QUOT|Uuml|auml|cent|copy|euml|iuml|macr|nbsp|ordf|ordm|ouml|para|quot|sect|sup1|sup2|sup3|uuml|yuml|AMP|ETH|REG|amp|deg|eth|not|reg|shy|uml|yen|GT|LT|gt|lt)(?!;)([=a-zA-Z0-9]?)|&#([0-9]+)(;?)|&#[xX]([a-fA-F0-9]+)(;?)|&([0-9a-zA-Z]+)/g,v={aacute:"",Aacute:"",abreve:"",Abreve:"",ac:"",acd:"",acE:"",acirc:"",Acirc:"",acute:"",acy:"",Acy:"",aelig:"",AElig:"",af:"",afr:"",Afr:"",agrave:"",Agrave:"",alefsym:"",aleph:"",alpha:"",Alpha:"",amacr:"",Amacr:"",amalg:"",amp:"&",AMP:"&",and:"",And:"",andand:"",andd:"",andslope:"",andv:"",ang:"",ange:"",angle:"",angmsd:"",angmsdaa:"",angmsdab:"",angmsdac:"",angmsdad:"",angmsdae:"",angmsdaf:"",angmsdag:"",angmsdah:"",angrt:"",angrtvb:"",angrtvbd:"",angsph:"",angst:"",angzarr:"",aogon:"",Aogon:"",aopf:"",Aopf:"",ap:"",apacir:"",ape:"",apE:"",apid:"",apos:"'",ApplyFunction:"",approx:"",approxeq:"",aring:"",Aring:"",ascr:"",Ascr:"",Assign:"",ast:"*",asymp:"",asympeq:"",atilde:"",Atilde:"",auml:"",Auml:"",awconint:"",awint:"",backcong:"",backepsilon:"",backprime:"",backsim:"",backsimeq:"",Backslash:"",Barv:"",barvee:"",barwed:"",Barwed:"",barwedge:"",bbrk:"",bbrktbrk:"",bcong:"",bcy:"",Bcy:"",bdquo:"",becaus:"",because:"",Because:"",bemptyv:"",bepsi:"",bernou:"",Bernoullis:"",beta:"",Beta:"",beth:"",between:"",bfr:"",Bfr:"",bigcap:"",bigcirc:"",bigcup:"",bigodot:"",bigoplus:"",bigotimes:"",bigsqcup:"",bigstar:"",bigtriangledown:"",bigtriangleup:"",biguplus:"",bigvee:"",bigwedge:"",bkarow:"",blacklozenge:"",blacksquare:"",blacktriangle:"",blacktriangledown:"",blacktriangleleft:"",blacktriangleright:"",blank:"",blk12:"",blk14:"",blk34:"",block:"",bne:"=",bnequiv:"",bnot:"",bNot:"",bopf:"",Bopf:"",bot:"",bottom:"",bowtie:"",boxbox:"",boxdl:"",boxdL:"",boxDl:"",boxDL:"",boxdr:"",boxdR:"",boxDr:"",boxDR:"",boxh:"",boxH:"",boxhd:"",boxhD:"",boxHd:"",boxHD:"",boxhu:"",boxhU:"",boxHu:"",boxHU:"",boxminus:"",boxplus:"",boxtimes:"",boxul:"",boxuL:"",boxUl:"",boxUL:"",boxur:"",boxuR:"",boxUr:"",boxUR:"",boxv:"",boxV:"",boxvh:"",boxvH:"",boxVh:"",boxVH:"",boxvl:"",boxvL:"",boxVl:"",boxVL:"",boxvr:"",boxvR:"",boxVr:"",boxVR:"",bprime:"",breve:"",Breve:"",brvbar:"",bscr:"",Bscr:"",bsemi:"",bsim:"",bsime:"",bsol:"\\",bsolb:"",bsolhsub:"",bull:"",bullet:"",bump:"",bumpe:"",bumpE:"",bumpeq:"",Bumpeq:"",cacute:"",Cacute:"",cap:"",Cap:"",capand:"",capbrcup:"",capcap:"",capcup:"",capdot:"",CapitalDifferentialD:"",caps:"",caret:"",caron:"",Cayleys:"",ccaps:"",ccaron:"",Ccaron:"",ccedil:"",Ccedil:"",ccirc:"",Ccirc:"",Cconint:"",ccups:"",ccupssm:"",cdot:"",Cdot:"",cedil:"",Cedilla:"",cemptyv:"",cent:"",centerdot:"",CenterDot:"",cfr:"",Cfr:"",chcy:"",CHcy:"",check:"",checkmark:"",chi:"",Chi:"",cir:"",circ:"",circeq:"",circlearrowleft:"",circlearrowright:"",circledast:"",circledcirc:"",circleddash:"",CircleDot:"",circledR:"",circledS:"",CircleMinus:"",CirclePlus:"",CircleTimes:"",cire:"",cirE:"",cirfnint:"",cirmid:"",cirscir:"",ClockwiseContourIntegral:"",CloseCurlyDoubleQuote:"",CloseCurlyQuote:"",clubs:"",clubsuit:"",colon:":",Colon:"",colone:"",Colone:"",coloneq:"",comma:",",commat:"@",comp:"",compfn:"",complement:"",complexes:"",cong:"",congdot:"",Congruent:"",conint:"",Conint:"",ContourIntegral:"",copf:"",Copf:"",coprod:"",Coproduct:"",copy:"",COPY:"",copysr:"",CounterClockwiseContourIntegral:"",crarr:"",cross:"",Cross:"",cscr:"",Cscr:"",csub:"",csube:"",csup:"",csupe:"",ctdot:"",cudarrl:"",cudarrr:"",cuepr:"",cuesc:"",cularr:"",cularrp:"",cup:"",Cup:"",cupbrcap:"",cupcap:"",CupCap:"",cupcup:"",cupdot:"",cupor:"",cups:"",curarr:"",curarrm:"",curlyeqprec:"",curlyeqsucc:"",curlyvee:"",curlywedge:"",curren:"",curvearrowleft:"",curvearrowright:"",cuvee:"",cuwed:"",cwconint:"",cwint:"",cylcty:"",dagger:"",Dagger:"",daleth:"",darr:"",dArr:"",Darr:"",dash:"",dashv:"",Dashv:"",dbkarow:"",dblac:"",dcaron:"",Dcaron:"",dcy:"",Dcy:"",dd:"",DD:"",ddagger:"",ddarr:"",DDotrahd:"",ddotseq:"",deg:"",Del:"",delta:"",Delta:"",demptyv:"",dfisht:"",dfr:"",Dfr:"",dHar:"",dharl:"",dharr:"",DiacriticalAcute:"",DiacriticalDot:"",DiacriticalDoubleAcute:"",DiacriticalGrave:"`",DiacriticalTilde:"",diam:"",diamond:"",Diamond:"",diamondsuit:"",diams:"",die:"",DifferentialD:"",digamma:"",disin:"",div:"",divide:"",divideontimes:"",divonx:"",djcy:"",DJcy:"",dlcorn:"",dlcrop:"",dollar:"$",dopf:"",Dopf:"",dot:"",Dot:"",DotDot:"",doteq:"",doteqdot:"",DotEqual:"",dotminus:"",dotplus:"",dotsquare:"",doublebarwedge:"",DoubleContourIntegral:"",DoubleDot:"",DoubleDownArrow:"",DoubleLeftArrow:"",DoubleLeftRightArrow:"",DoubleLeftTee:"",DoubleLongLeftArrow:"",DoubleLongLeftRightArrow:"",DoubleLongRightArrow:"",DoubleRightArrow:"",DoubleRightTee:"",DoubleUpArrow:"",DoubleUpDownArrow:"",DoubleVerticalBar:"",downarrow:"",Downarrow:"",DownArrow:"",DownArrowBar:"",DownArrowUpArrow:"",DownBreve:"",downdownarrows:"",downharpoonleft:"",downharpoonright:"",DownLeftRightVector:"",DownLeftTeeVector:"",DownLeftVector:"",DownLeftVectorBar:"",DownRightTeeVector:"",DownRightVector:"",DownRightVectorBar:"",DownTee:"",DownTeeArrow:"",drbkarow:"",drcorn:"",drcrop:"",dscr:"",Dscr:"",dscy:"",DScy:"",dsol:"",dstrok:"",Dstrok:"",dtdot:"",dtri:"",dtrif:"",duarr:"",duhar:"",dwangle:"",dzcy:"",DZcy:"",dzigrarr:"",eacute:"",Eacute:"",easter:"",ecaron:"",Ecaron:"",ecir:"",ecirc:"",Ecirc:"",ecolon:"",ecy:"",Ecy:"",eDDot:"",edot:"",eDot:"",Edot:"",ee:"",efDot:"",efr:"",Efr:"",eg:"",egrave:"",Egrave:"",egs:"",egsdot:"",el:"",Element:"",elinters:"",ell:"",els:"",elsdot:"",emacr:"",Emacr:"",empty:"",emptyset:"",EmptySmallSquare:"",emptyv:"",EmptyVerySmallSquare:"",emsp:"",emsp13:"",emsp14:"",eng:"",ENG:"",ensp:"",eogon:"",Eogon:"",eopf:"",Eopf:"",epar:"",eparsl:"",eplus:"",epsi:"",epsilon:"",Epsilon:"",epsiv:"",eqcirc:"",eqcolon:"",eqsim:"",eqslantgtr:"",eqslantless:"",Equal:"",equals:"=",EqualTilde:"",equest:"",Equilibrium:"",equiv:"",equivDD:"",eqvparsl:"",erarr:"",erDot:"",escr:"",Escr:"",esdot:"",esim:"",Esim:"",eta:"",Eta:"",eth:"",ETH:"",euml:"",Euml:"",euro:"",excl:"!",exist:"",Exists:"",expectation:"",exponentiale:"",ExponentialE:"",fallingdotseq:"",fcy:"",Fcy:"",female:"",ffilig:"",fflig:"",ffllig:"",ffr:"",Ffr:"",filig:"",FilledSmallSquare:"",FilledVerySmallSquare:"",fjlig:"fj",flat:"",fllig:"",fltns:"",fnof:"",fopf:"",Fopf:"",forall:"",ForAll:"",fork:"",forkv:"",Fouriertrf:"",fpartint:"",frac12:"",frac13:"",frac14:"",frac15:"",frac16:"",frac18:"",frac23:"",frac25:"",frac34:"",frac35:"",frac38:"",frac45:"",frac56:"",frac58:"",frac78:"",frasl:"",frown:"",fscr:"",Fscr:"",gacute:"",gamma:"",Gamma:"",gammad:"",Gammad:"",gap:"",gbreve:"",Gbreve:"",Gcedil:"",gcirc:"",Gcirc:"",gcy:"",Gcy:"",gdot:"",Gdot:"",ge:"",gE:"",gel:"",gEl:"",geq:"",geqq:"",geqslant:"",ges:"",gescc:"",gesdot:"",gesdoto:"",gesdotol:"",gesl:"",gesles:"",gfr:"",Gfr:"",gg:"",Gg:"",ggg:"",gimel:"",gjcy:"",GJcy:"",gl:"",gla:"",glE:"",glj:"",gnap:"",gnapprox:"",gne:"",gnE:"",gneq:"",gneqq:"",gnsim:"",gopf:"",Gopf:"",grave:"`",GreaterEqual:"",GreaterEqualLess:"",GreaterFullEqual:"",GreaterGreater:"",GreaterLess:"",GreaterSlantEqual:"",GreaterTilde:"",gscr:"",Gscr:"",gsim:"",gsime:"",gsiml:"",gt:">",Gt:"",GT:">",gtcc:"",gtcir:"",gtdot:"",gtlPar:"",gtquest:"",gtrapprox:"",gtrarr:"",gtrdot:"",gtreqless:"",gtreqqless:"",gtrless:"",gtrsim:"",gvertneqq:"",gvnE:"",Hacek:"",hairsp:"",half:"",hamilt:"",hardcy:"",HARDcy:"",harr:"",hArr:"",harrcir:"",harrw:"",Hat:"^",hbar:"",hcirc:"",Hcirc:"",hearts:"",heartsuit:"",hellip:"",hercon:"",hfr:"",Hfr:"",HilbertSpace:"",hksearow:"",hkswarow:"",hoarr:"",homtht:"",hookleftarrow:"",hookrightarrow:"",hopf:"",Hopf:"",horbar:"",HorizontalLine:"",hscr:"",Hscr:"",hslash:"",hstrok:"",Hstrok:"",HumpDownHump:"",HumpEqual:"",hybull:"",hyphen:"",iacute:"",Iacute:"",ic:"",icirc:"",Icirc:"",icy:"",Icy:"",Idot:"",iecy:"",IEcy:"",iexcl:"",iff:"",ifr:"",Ifr:"",igrave:"",Igrave:"",ii:"",iiiint:"",iiint:"",iinfin:"",iiota:"",ijlig:"",IJlig:"",Im:"",imacr:"",Imacr:"",image:"",ImaginaryI:"",imagline:"",imagpart:"",imath:"",imof:"",imped:"",Implies:"",in:"",incare:"",infin:"",infintie:"",inodot:"",int:"",Int:"",intcal:"",integers:"",Integral:"",intercal:"",Intersection:"",intlarhk:"",intprod:"",InvisibleComma:"",InvisibleTimes:"",iocy:"",IOcy:"",iogon:"",Iogon:"",iopf:"",Iopf:"",iota:"",Iota:"",iprod:"",iquest:"",iscr:"",Iscr:"",isin:"",isindot:"",isinE:"",isins:"",isinsv:"",isinv:"",it:"",itilde:"",Itilde:"",iukcy:"",Iukcy:"",iuml:"",Iuml:"",jcirc:"",Jcirc:"",jcy:"",Jcy:"",jfr:"",Jfr:"",jmath:"",jopf:"",Jopf:"",jscr:"",Jscr:"",jsercy:"",Jsercy:"",jukcy:"",Jukcy:"",kappa:"",Kappa:"",kappav:"",kcedil:"",Kcedil:"",kcy:"",Kcy:"",kfr:"",Kfr:"",kgreen:"",khcy:"",KHcy:"",kjcy:"",KJcy:"",kopf:"",Kopf:"",kscr:"",Kscr:"",lAarr:"",lacute:"",Lacute:"",laemptyv:"",lagran:"",lambda:"",Lambda:"",lang:"",Lang:"",langd:"",langle:"",lap:"",Laplacetrf:"",laquo:"",larr:"",lArr:"",Larr:"",larrb:"",larrbfs:"",larrfs:"",larrhk:"",larrlp:"",larrpl:"",larrsim:"",larrtl:"",lat:"",latail:"",lAtail:"",late:"",lates:"",lbarr:"",lBarr:"",lbbrk:"",lbrace:"{",lbrack:"[",lbrke:"",lbrksld:"",lbrkslu:"",lcaron:"",Lcaron:"",lcedil:"",Lcedil:"",lceil:"",lcub:"{",lcy:"",Lcy:"",ldca:"",ldquo:"",ldquor:"",ldrdhar:"",ldrushar:"",ldsh:"",le:"",lE:"",LeftAngleBracket:"",leftarrow:"",Leftarrow:"",LeftArrow:"",LeftArrowBar:"",LeftArrowRightArrow:"",leftarrowtail:"",LeftCeiling:"",LeftDoubleBracket:"",LeftDownTeeVector:"",LeftDownVector:"",LeftDownVectorBar:"",LeftFloor:"",leftharpoondown:"",leftharpoonup:"",leftleftarrows:"",leftrightarrow:"",Leftrightarrow:"",LeftRightArrow:"",leftrightarrows:"",leftrightharpoons:"",leftrightsquigarrow:"",LeftRightVector:"",LeftTee:"",LeftTeeArrow:"",LeftTeeVector:"",leftthreetimes:"",LeftTriangle:"",LeftTriangleBar:"",LeftTriangleEqual:"",LeftUpDownVector:"",LeftUpTeeVector:"",LeftUpVector:"",LeftUpVectorBar:"",LeftVector:"",LeftVectorBar:"",leg:"",lEg:"",leq:"",leqq:"",leqslant:"",les:"",lescc:"",lesdot:"",lesdoto:"",lesdotor:"",lesg:"",lesges:"",lessapprox:"",lessdot:"",lesseqgtr:"",lesseqqgtr:"",LessEqualGreater:"",LessFullEqual:"",LessGreater:"",lessgtr:"",LessLess:"",lesssim:"",LessSlantEqual:"",LessTilde:"",lfisht:"",lfloor:"",lfr:"",Lfr:"",lg:"",lgE:"",lHar:"",lhard:"",lharu:"",lharul:"",lhblk:"",ljcy:"",LJcy:"",ll:"",Ll:"",llarr:"",llcorner:"",Lleftarrow:"",llhard:"",lltri:"",lmidot:"",Lmidot:"",lmoust:"",lmoustache:"",lnap:"",lnapprox:"",lne:"",lnE:"",lneq:"",lneqq:"",lnsim:"",loang:"",loarr:"",lobrk:"",longleftarrow:"",Longleftarrow:"",LongLeftArrow:"",longleftrightarrow:"",Longleftrightarrow:"",LongLeftRightArrow:"",longmapsto:"",longrightarrow:"",Longrightarrow:"",LongRightArrow:"",looparrowleft:"",looparrowright:"",lopar:"",lopf:"",Lopf:"",loplus:"",lotimes:"",lowast:"",lowbar:"_",LowerLeftArrow:"",LowerRightArrow:"",loz:"",lozenge:"",lozf:"",lpar:"(",lparlt:"",lrarr:"",lrcorner:"",lrhar:"",lrhard:"",lrm:"",lrtri:"",lsaquo:"",lscr:"",Lscr:"",lsh:"",Lsh:"",lsim:"",lsime:"",lsimg:"",lsqb:"[",lsquo:"",lsquor:"",lstrok:"",Lstrok:"",lt:"<",Lt:"",LT:"<",ltcc:"",ltcir:"",ltdot:"",lthree:"",ltimes:"",ltlarr:"",ltquest:"",ltri:"",ltrie:"",ltrif:"",ltrPar:"",lurdshar:"",luruhar:"",lvertneqq:"",lvnE:"",macr:"",male:"",malt:"",maltese:"",map:"",Map:"",mapsto:"",mapstodown:"",mapstoleft:"",mapstoup:"",marker:"",mcomma:"",mcy:"",Mcy:"",mdash:"",mDDot:"",measuredangle:"",MediumSpace:"",Mellintrf:"",mfr:"",Mfr:"",mho:"",micro:"",mid:"",midast:"*",midcir:"",middot:"",minus:"",minusb:"",minusd:"",minusdu:"",MinusPlus:"",mlcp:"",mldr:"",mnplus:"",models:"",mopf:"",Mopf:"",mp:"",mscr:"",Mscr:"",mstpos:"",mu:"",Mu:"",multimap:"",mumap:"",nabla:"",nacute:"",Nacute:"",nang:"",nap:"",napE:"",napid:"",napos:"",napprox:"",natur:"",natural:"",naturals:"",nbsp:"",nbump:"",nbumpe:"",ncap:"",ncaron:"",Ncaron:"",ncedil:"",Ncedil:"",ncong:"",ncongdot:"",ncup:"",ncy:"",Ncy:"",ndash:"",ne:"",nearhk:"",nearr:"",neArr:"",nearrow:"",nedot:"",NegativeMediumSpace:"",NegativeThickSpace:"",NegativeThinSpace:"",NegativeVeryThinSpace:"",nequiv:"",nesear:"",nesim:"",NestedGreaterGreater:"",NestedLessLess:"",NewLine:"\n",nexist:"",nexists:"",nfr:"",Nfr:"",nge:"",ngE:"",ngeq:"",ngeqq:"",ngeqslant:"",nges:"",nGg:"",ngsim:"",ngt:"",nGt:"",ngtr:"",nGtv:"",nharr:"",nhArr:"",nhpar:"",ni:"",nis:"",nisd:"",niv:"",njcy:"",NJcy:"",nlarr:"",nlArr:"",nldr:"",nle:"",nlE:"",nleftarrow:"",nLeftarrow:"",nleftrightarrow:"",nLeftrightarrow:"",nleq:"",nleqq:"",nleqslant:"",nles:"",nless:"",nLl:"",nlsim:"",nlt:"",nLt:"",nltri:"",nltrie:"",nLtv:"",nmid:"",NoBreak:"",NonBreakingSpace:"",nopf:"",Nopf:"",not:"",Not:"",NotCongruent:"",NotCupCap:"",NotDoubleVerticalBar:"",NotElement:"",NotEqual:"",NotEqualTilde:"",NotExists:"",NotGreater:"",NotGreaterEqual:"",NotGreaterFullEqual:"",NotGreaterGreater:"",NotGreaterLess:"",NotGreaterSlantEqual:"",NotGreaterTilde:"",NotHumpDownHump:"",NotHumpEqual:"",notin:"",notindot:"",notinE:"",notinva:"",notinvb:"",notinvc:"",NotLeftTriangle:"",NotLeftTriangleBar:"",NotLeftTriangleEqual:"",NotLess:"",NotLessEqual:"",NotLessGreater:"",NotLessLess:"",NotLessSlantEqual:"",NotLessTilde:"",NotNestedGreaterGreater:"",NotNestedLessLess:"",notni:"",notniva:"",notnivb:"",notnivc:"",NotPrecedes:"",NotPrecedesEqual:"",NotPrecedesSlantEqual:"",NotReverseElement:"",NotRightTriangle:"",NotRightTriangleBar:"",NotRightTriangleEqual:"",NotSquareSubset:"",NotSquareSubsetEqual:"",NotSquareSuperset:"",NotSquareSupersetEqual:"",NotSubset:"",NotSubsetEqual:"",NotSucceeds:"",NotSucceedsEqual:"",NotSucceedsSlantEqual:"",NotSucceedsTilde:"",NotSuperset:"",NotSupersetEqual:"",NotTilde:"",NotTildeEqual:"",NotTildeFullEqual:"",NotTildeTilde:"",NotVerticalBar:"",npar:"",nparallel:"",nparsl:"",npart:"",npolint:"",npr:"",nprcue:"",npre:"",nprec:"",npreceq:"",nrarr:"",nrArr:"",nrarrc:"",nrarrw:"",nrightarrow:"",nRightarrow:"",nrtri:"",nrtrie:"",nsc:"",nsccue:"",nsce:"",nscr:"",Nscr:"",nshortmid:"",nshortparallel:"",nsim:"",nsime:"",nsimeq:"",nsmid:"",nspar:"",nsqsube:"",nsqsupe:"",nsub:"",nsube:"",nsubE:"",nsubset:"",nsubseteq:"",nsubseteqq:"",nsucc:"",nsucceq:"",nsup:"",nsupe:"",nsupE:"",nsupset:"",nsupseteq:"",nsupseteqq:"",ntgl:"",ntilde:"",Ntilde:"",ntlg:"",ntriangleleft:"",ntrianglelefteq:"",ntriangleright:"",ntrianglerighteq:"",nu:"",Nu:"",num:"#",numero:"",numsp:"",nvap:"",nvdash:"",nvDash:"",nVdash:"",nVDash:"",nvge:"",nvgt:">",nvHarr:"",nvinfin:"",nvlArr:"",nvle:"",nvlt:"<",nvltrie:"",nvrArr:"",nvrtrie:"",nvsim:"",nwarhk:"",nwarr:"",nwArr:"",nwarrow:"",nwnear:"",oacute:"",Oacute:"",oast:"",ocir:"",ocirc:"",Ocirc:"",ocy:"",Ocy:"",odash:"",odblac:"",Odblac:"",odiv:"",odot:"",odsold:"",oelig:"",OElig:"",ofcir:"",ofr:"",Ofr:"",ogon:"",ograve:"",Ograve:"",ogt:"",ohbar:"",ohm:"",oint:"",olarr:"",olcir:"",olcross:"",oline:"",olt:"",omacr:"",Omacr:"",omega:"",Omega:"",omicron:"",Omicron:"",omid:"",ominus:"",oopf:"",Oopf:"",opar:"",OpenCurlyDoubleQuote:"",OpenCurlyQuote:"",operp:"",oplus:"",or:"",Or:"",orarr:"",ord:"",order:"",orderof:"",ordf:"",ordm:"",origof:"",oror:"",orslope:"",orv:"",oS:"",oscr:"",Oscr:"",oslash:"",Oslash:"",osol:"",otilde:"",Otilde:"",otimes:"",Otimes:"",otimesas:"",ouml:"",Ouml:"",ovbar:"",OverBar:"",OverBrace:"",OverBracket:"",OverParenthesis:"",par:"",para:"",parallel:"",parsim:"",parsl:"",part:"",PartialD:"",pcy:"",Pcy:"",percnt:"%",period:".",permil:"",perp:"",pertenk:"",pfr:"",Pfr:"",phi:"",Phi:"",phiv:"",phmmat:"",phone:"",pi:"",Pi:"",pitchfork:"",piv:"",planck:"",planckh:"",plankv:"",plus:"+",plusacir:"",plusb:"",pluscir:"",plusdo:"",plusdu:"",pluse:"",PlusMinus:"",plusmn:"",plussim:"",plustwo:"",pm:"",Poincareplane:"",pointint:"",popf:"",Popf:"",pound:"",pr:"",Pr:"",prap:"",prcue:"",pre:"",prE:"",prec:"",precapprox:"",preccurlyeq:"",Precedes:"",PrecedesEqual:"",PrecedesSlantEqual:"",PrecedesTilde:"",preceq:"",precnapprox:"",precneqq:"",precnsim:"",precsim:"",prime:"",Prime:"",primes:"",prnap:"",prnE:"",prnsim:"",prod:"",Product:"",profalar:"",profline:"",profsurf:"",prop:"",Proportion:"",Proportional:"",propto:"",prsim:"",prurel:"",pscr:"",Pscr:"",psi:"",Psi:"",puncsp:"",qfr:"",Qfr:"",qint:"",qopf:"",Qopf:"",qprime:"",qscr:"",Qscr:"",quaternions:"",quatint:"",quest:"?",questeq:"",quot:'"',QUOT:'"',rAarr:"",race:"",racute:"",Racute:"",radic:"",raemptyv:"",rang:"",Rang:"",rangd:"",range:"",rangle:"",raquo:"",rarr:"",rArr:"",Rarr:"",rarrap:"",rarrb:"",rarrbfs:"",rarrc:"",rarrfs:"",rarrhk:"",rarrlp:"",rarrpl:"",rarrsim:"",rarrtl:"",Rarrtl:"",rarrw:"",ratail:"",rAtail:"",ratio:"",rationals:"",rbarr:"",rBarr:"",RBarr:"",rbbrk:"",rbrace:"}",rbrack:"]",rbrke:"",rbrksld:"",rbrkslu:"",rcaron:"",Rcaron:"",rcedil:"",Rcedil:"",rceil:"",rcub:"}",rcy:"",Rcy:"",rdca:"",rdldhar:"",rdquo:"",rdquor:"",rdsh:"",Re:"",real:"",realine:"",realpart:"",reals:"",rect:"",reg:"",REG:"",ReverseElement:"",ReverseEquilibrium:"",ReverseUpEquilibrium:"",rfisht:"",rfloor:"",rfr:"",Rfr:"",rHar:"",rhard:"",rharu:"",rharul:"",rho:"",Rho:"",rhov:"",RightAngleBracket:"",rightarrow:"",Rightarrow:"",RightArrow:"",RightArrowBar:"",RightArrowLeftArrow:"",rightarrowtail:"",RightCeiling:"",RightDoubleBracket:"",RightDownTeeVector:"",RightDownVector:"",RightDownVectorBar:"",RightFloor:"",rightharpoondown:"",rightharpoonup:"",rightleftarrows:"",rightleftharpoons:"",rightrightarrows:"",rightsquigarrow:"",RightTee:"",RightTeeArrow:"",RightTeeVector:"",rightthreetimes:"",RightTriangle:"",RightTriangleBar:"",RightTriangleEqual:"",RightUpDownVector:"",RightUpTeeVector:"",RightUpVector:"",RightUpVectorBar:"",RightVector:"",RightVectorBar:"",ring:"",risingdotseq:"",rlarr:"",rlhar:"",rlm:"",rmoust:"",rmoustache:"",rnmid:"",roang:"",roarr:"",robrk:"",ropar:"",ropf:"",Ropf:"",roplus:"",rotimes:"",RoundImplies:"",rpar:")",rpargt:"",rppolint:"",rrarr:"",Rrightarrow:"",rsaquo:"",rscr:"",Rscr:"",rsh:"",Rsh:"",rsqb:"]",rsquo:"",rsquor:"",rthree:"",rtimes:"",rtri:"",rtrie:"",rtrif:"",rtriltri:"",RuleDelayed:"",ruluhar:"",rx:"",sacute:"",Sacute:"",sbquo:"",sc:"",Sc:"",scap:"",scaron:"",Scaron:"",sccue:"",sce:"",scE:"",scedil:"",Scedil:"",scirc:"",Scirc:"",scnap:"",scnE:"",scnsim:"",scpolint:"",scsim:"",scy:"",Scy:"",sdot:"",sdotb:"",sdote:"",searhk:"",searr:"",seArr:"",searrow:"",sect:"",semi:";",seswar:"",setminus:"",setmn:"",sext:"",sfr:"",Sfr:"",sfrown:"",sharp:"",shchcy:"",SHCHcy:"",shcy:"",SHcy:"",ShortDownArrow:"",ShortLeftArrow:"",shortmid:"",shortparallel:"",ShortRightArrow:"",ShortUpArrow:"",shy:"",sigma:"",Sigma:"",sigmaf:"",sigmav:"",sim:"",simdot:"",sime:"",simeq:"",simg:"",simgE:"",siml:"",simlE:"",simne:"",simplus:"",simrarr:"",slarr:"",SmallCircle:"",smallsetminus:"",smashp:"",smeparsl:"",smid:"",smile:"",smt:"",smte:"",smtes:"",softcy:"",SOFTcy:"",sol:"/",solb:"",solbar:"",sopf:"",Sopf:"",spades:"",spadesuit:"",spar:"",sqcap:"",sqcaps:"",sqcup:"",sqcups:"",Sqrt:"",sqsub:"",sqsube:"",sqsubset:"",sqsubseteq:"",sqsup:"",sqsupe:"",sqsupset:"",sqsupseteq:"",squ:"",square:"",Square:"",SquareIntersection:"",SquareSubset:"",SquareSubsetEqual:"",SquareSuperset:"",SquareSupersetEqual:"",SquareUnion:"",squarf:"",squf:"",srarr:"",sscr:"",Sscr:"",ssetmn:"",ssmile:"",sstarf:"",star:"",Star:"",starf:"",straightepsilon:"",straightphi:"",strns:"",sub:"",Sub:"",subdot:"",sube:"",subE:"",subedot:"",submult:"",subne:"",subnE:"",subplus:"",subrarr:"",subset:"",Subset:"",subseteq:"",subseteqq:"",SubsetEqual:"",subsetneq:"",subsetneqq:"",subsim:"",subsub:"",subsup:"",succ:"",succapprox:"",succcurlyeq:"",Succeeds:"",SucceedsEqual:"",SucceedsSlantEqual:"",SucceedsTilde:"",succeq:"",succnapprox:"",succneqq:"",succnsim:"",succsim:"",SuchThat:"",sum:"",Sum:"",sung:"",sup:"",Sup:"",sup1:"",sup2:"",sup3:"",supdot:"",supdsub:"",supe:"",supE:"",supedot:"",Superset:"",SupersetEqual:"",suphsol:"",suphsub:"",suplarr:"",supmult:"",supne:"",supnE:"",supplus:"",supset:"",Supset:"",supseteq:"",supseteqq:"",supsetneq:"",supsetneqq:"",supsim:"",supsub:"",supsup:"",swarhk:"",swarr:"",swArr:"",swarrow:"",swnwar:"",szlig:"",Tab:"\t",target:"",tau:"",Tau:"",tbrk:"",tcaron:"",Tcaron:"",tcedil:"",Tcedil:"",tcy:"",Tcy:"",tdot:"",telrec:"",tfr:"",Tfr:"",there4:"",therefore:"",Therefore:"",theta:"",Theta:"",thetasym:"",thetav:"",thickapprox:"",thicksim:"",ThickSpace:"",thinsp:"",ThinSpace:"",thkap:"",thksim:"",thorn:"",THORN:"",tilde:"",Tilde:"",TildeEqual:"",TildeFullEqual:"",TildeTilde:"",times:"",timesb:"",timesbar:"",timesd:"",tint:"",toea:"",top:"",topbot:"",topcir:"",topf:"",Topf:"",topfork:"",tosa:"",tprime:"",trade:"",TRADE:"",triangle:"",triangledown:"",triangleleft:"",trianglelefteq:"",triangleq:"",triangleright:"",trianglerighteq:"",tridot:"",trie:"",triminus:"",TripleDot:"",triplus:"",trisb:"",tritime:"",trpezium:"",tscr:"",Tscr:"",tscy:"",TScy:"",tshcy:"",TSHcy:"",tstrok:"",Tstrok:"",twixt:"",twoheadleftarrow:"",twoheadrightarrow:"",uacute:"",Uacute:"",uarr:"",uArr:"",Uarr:"",Uarrocir:"",ubrcy:"",Ubrcy:"",ubreve:"",Ubreve:"",ucirc:"",Ucirc:"",ucy:"",Ucy:"",udarr:"",udblac:"",Udblac:"",udhar:"",ufisht:"",ufr:"",Ufr:"",ugrave:"",Ugrave:"",uHar:"",uharl:"",uharr:"",uhblk:"",ulcorn:"",ulcorner:"",ulcrop:"",ultri:"",umacr:"",Umacr:"",uml:"",UnderBar:"_",UnderBrace:"",UnderBracket:"",UnderParenthesis:"",Union:"",UnionPlus:"",uogon:"",Uogon:"",uopf:"",Uopf:"",uparrow:"",Uparrow:"",UpArrow:"",UpArrowBar:"",UpArrowDownArrow:"",updownarrow:"",Updownarrow:"",UpDownArrow:"",UpEquilibrium:"",upharpoonleft:"",upharpoonright:"",uplus:"",UpperLeftArrow:"",UpperRightArrow:"",upsi:"",Upsi:"",upsih:"",upsilon:"",Upsilon:"",UpTee:"",UpTeeArrow:"",upuparrows:"",urcorn:"",urcorner:"",urcrop:"",uring:"",Uring:"",urtri:"",uscr:"",Uscr:"",utdot:"",utilde:"",Utilde:"",utri:"",utrif:"",uuarr:"",uuml:"",Uuml:"",uwangle:"",vangrt:"",varepsilon:"",varkappa:"",varnothing:"",varphi:"",varpi:"",varpropto:"",varr:"",vArr:"",varrho:"",varsigma:"",varsubsetneq:"",varsubsetneqq:"",varsupsetneq:"",varsupsetneqq:"",vartheta:"",vartriangleleft:"",vartriangleright:"",vBar:"",Vbar:"",vBarv:"",vcy:"",Vcy:"",vdash:"",vDash:"",Vdash:"",VDash:"",Vdashl:"",vee:"",Vee:"",veebar:"",veeeq:"",vellip:"",verbar:"|",Verbar:"",vert:"|",Vert:"",VerticalBar:"",VerticalLine:"|",VerticalSeparator:"",VerticalTilde:"",VeryThinSpace:"",vfr:"",Vfr:"",vltri:"",vnsub:"",vnsup:"",vopf:"",Vopf:"",vprop:"",vrtri:"",vscr:"",Vscr:"",vsubne:"",vsubnE:"",vsupne:"",vsupnE:"",Vvdash:"",vzigzag:"",wcirc:"",Wcirc:"",wedbar:"",wedge:"",Wedge:"",wedgeq:"",weierp:"",wfr:"",Wfr:"",wopf:"",Wopf:"",wp:"",wr:"",wreath:"",wscr:"",Wscr:"",xcap:"",xcirc:"",xcup:"",xdtri:"",xfr:"",Xfr:"",xharr:"",xhArr:"",xi:"",Xi:"",xlarr:"",xlArr:"",xmap:"",xnis:"",xodot:"",xopf:"",Xopf:"",xoplus:"",xotime:"",xrarr:"",xrArr:"",xscr:"",Xscr:"",xsqcup:"",xuplus:"",xutri:"",xvee:"",xwedge:"",yacute:"",Yacute:"",yacy:"",YAcy:"",ycirc:"",Ycirc:"",ycy:"",Ycy:"",yen:"",yfr:"",Yfr:"",yicy:"",YIcy:"",yopf:"",Yopf:"",yscr:"",Yscr:"",yucy:"",YUcy:"",yuml:"",Yuml:"",zacute:"",Zacute:"",zcaron:"",Zcaron:"",zcy:"",Zcy:"",zdot:"",Zdot:"",zeetrf:"",ZeroWidthSpace:"",zeta:"",Zeta:"",zfr:"",Zfr:"",zhcy:"",ZHcy:"",zigrarr:"",zopf:"",Zopf:"",zscr:"",Zscr:"",zwj:"",zwnj:""},m={aacute:"",Aacute:"",acirc:"",Acirc:"",acute:"",aelig:"",AElig:"",agrave:"",Agrave:"",amp:"&",AMP:"&",aring:"",Aring:"",atilde:"",Atilde:"",auml:"",Auml:"",brvbar:"",ccedil:"",Ccedil:"",cedil:"",cent:"",copy:"",COPY:"",curren:"",deg:"",divide:"",eacute:"",Eacute:"",ecirc:"",Ecirc:"",egrave:"",Egrave:"",eth:"",ETH:"",euml:"",Euml:"",frac12:"",frac14:"",frac34:"",gt:">",GT:">",iacute:"",Iacute:"",icirc:"",Icirc:"",iexcl:"",igrave:"",Igrave:"",iquest:"",iuml:"",Iuml:"",laquo:"",lt:"<",LT:"<",macr:"",micro:"",middot:"",nbsp:"",not:"",ntilde:"",Ntilde:"",oacute:"",Oacute:"",ocirc:"",Ocirc:"",ograve:"",Ograve:"",ordf:"",ordm:"",oslash:"",Oslash:"",otilde:"",Otilde:"",ouml:"",Ouml:"",para:"",plusmn:"",pound:"",quot:'"',QUOT:'"',raquo:"",reg:"",REG:"",sect:"",shy:"",sup1:"",sup2:"",sup3:"",szlig:"",thorn:"",THORN:"",times:"",uacute:"",Uacute:"",ucirc:"",Ucirc:"",ugrave:"",Ugrave:"",uml:"",uuml:"",Uuml:"",yacute:"",Yacute:"",yen:"",yuml:""},y={0:"",128:"",130:"",131:"",132:"",133:"",134:"",135:"",136:"",137:"",138:"",139:"",140:"",142:"",145:"",146:"",147:"",148:"",149:"",150:"",151:"",152:"",153:"",154:"",155:"",156:"",158:"",159:""},w=[1,2,3,4,5,6,7,8,11,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,64976,64977,64978,64979,64980,64981,64982,64983,64984,64985,64986,64987,64988,64989,64990,64991,64992,64993,64994,64995,64996,64997,64998,64999,65e3,65001,65002,65003,65004,65005,65006,65007,65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111],b=String.fromCharCode,x={}.hasOwnProperty,S=function(t,e){return x.call(t,e)},E=function(t,e){if(!t)return e;var n,r={};for(n in e)r[n]=S(t,n)?t[n]:e[n];return r},A=function(t,e){var n="";return t>=55296&&t<=57343||t>1114111?(e&&I("character reference outside the permissible Unicode range"),""):S(y,t)?(e&&I("disallowed character reference"),y[t]):(e&&function(t,e){for(var n=-1,r=t.length;++n<r;)if(t[n]==e)return!0;return!1}(w,t)&&I("disallowed character reference"),t>65535&&(n+=b((t-=65536)>>>10&1023|55296),t=56320|1023&t),n+=b(t))},D=function(t){return"&#x"+t.toString(16).toUpperCase()+";"},C=function(t){return"&#"+t+";"},I=function(t){throw Error("Parse error: "+t)},T=function(t,e){(e=E(e,T.options)).strict&&p.test(t)&&I("forbidden code point");var n=e.encodeEverything,r=e.useNamedReferences,i=e.allowUnsafeSymbols,o=e.decimal?C:D,d=function(t){return o(t.charCodeAt(0))};return n?(t=t.replace(a,(function(t){return r&&S(l,t)?"&"+l[t]+";":d(t)})),r&&(t=t.replace(/&gt;\u20D2/g,"&nvgt;").replace(/&lt;\u20D2/g,"&nvlt;").replace(/&#x66;&#x6A;/g,"&fjlig;")),r&&(t=t.replace(u,(function(t){return"&"+l[t]+";"})))):r?(i||(t=t.replace(h,(function(t){return"&"+l[t]+";"}))),t=(t=t.replace(/&gt;\u20D2/g,"&nvgt;").replace(/&lt;\u20D2/g,"&nvlt;")).replace(u,(function(t){return"&"+l[t]+";"}))):i||(t=t.replace(h,d)),t.replace(s,(function(t){var e=t.charCodeAt(0),n=t.charCodeAt(1);return o(1024*(e-55296)+n-56320+65536)})).replace(c,d)};T.options={allowUnsafeSymbols:!1,encodeEverything:!1,strict:!1,useNamedReferences:!1,decimal:!1};var _=function(t,e){var n=(e=E(e,_.options)).strict;return n&&f.test(t)&&I("malformed character reference"),t.replace(g,(function(t,r,i,o,s,a,c,u,l){var h,d,f,p,g,y;return r?v[g=r]:i?(g=i,(y=o)&&e.isAttributeValue?(n&&"="==y&&I("`&` did not start a character reference"),t):(n&&I("named character reference was not terminated by a semicolon"),m[g]+(y||""))):s?(f=s,d=a,n&&!d&&I("character reference was not terminated by a semicolon"),h=parseInt(f,10),A(h,n)):c?(p=c,d=u,n&&!d&&I("character reference was not terminated by a semicolon"),h=parseInt(p,16),A(h,n)):(n&&I("named character reference was not terminated by a semicolon"),t)}))};_.options={isAttributeValue:!1,strict:!1};var k={version:"1.2.0",encode:T,decode:_,escape:function(t){return t.replace(h,(function(t){return d[t]}))},unescape:_};void 0===(r=function(){return k}.call(e,n,e,t))||(t.exports=r)}()},645:(t,e)=>{e.read=function(t,e,n,r,i){var o,s,a=8*i-r-1,c=(1<<a)-1,u=c>>1,l=-7,h=n?i-1:0,d=n?-1:1,f=t[e+h];for(h+=d,o=f&(1<<-l)-1,f>>=-l,l+=a;l>0;o=256*o+t[e+h],h+=d,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=r;l>0;s=256*s+t[e+h],h+=d,l-=8);if(0===o)o=1-u;else{if(o===c)return s?NaN:1/0*(f?-1:1);s+=Math.pow(2,r),o-=u}return(f?-1:1)*s*Math.pow(2,o-r)},e.write=function(t,e,n,r,i,o){var s,a,c,u=8*o-i-1,l=(1<<u)-1,h=l>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,f=r?0:o-1,p=r?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=l):(s=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-s))<1&&(s--,c*=2),(e+=s+h>=1?d/c:d*Math.pow(2,1-h))*c>=2&&(s++,c/=2),s+h>=l?(a=0,s=l):s+h>=1?(a=(e*c-1)*Math.pow(2,i),s+=h):(a=e*Math.pow(2,h-1)*Math.pow(2,i),s=0));i>=8;t[n+f]=255&a,f+=p,a/=256,i-=8);for(s=s<<i|a,u+=i;u>0;t[n+f]=255&s,f+=p,s/=256,u-=8);t[n+f-p]|=128*g}},6486:function(t,e,n){var r;t=n.nmd(t),function(){var i,o="Expected a function",s="__lodash_hash_undefined__",a="__lodash_placeholder__",c=32,u=128,l=1/0,h=9007199254740991,d=NaN,f=4294967295,p=[["ary",u],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",c],["partialRight",64],["rearg",256]],g="[object Arguments]",v="[object Array]",m="[object Boolean]",y="[object Date]",w="[object Error]",b="[object Function]",x="[object GeneratorFunction]",S="[object Map]",E="[object Number]",A="[object Object]",D="[object Promise]",C="[object RegExp]",I="[object Set]",T="[object String]",_="[object Symbol]",k="[object WeakMap]",R="[object ArrayBuffer]",L="[object DataView]",P="[object Float32Array]",O="[object Float64Array]",N="[object Int8Array]",M="[object Int16Array]",B="[object Int32Array]",U="[object Uint8Array]",F="[object Uint8ClampedArray]",q="[object Uint16Array]",H="[object Uint32Array]",j=/\b__p \+= '';/g,V=/\b(__p \+=) '' \+/g,G=/(__e\(.*?\)|\b__t\)) \+\n'';/g,W=/&(?:amp|lt|gt|quot|#39);/g,z=/[&<>"']/g,K=RegExp(W.source),$=RegExp(z.source),J=/<%-([\s\S]+?)%>/g,Y=/<%([\s\S]+?)%>/g,Z=/<%=([\s\S]+?)%>/g,X=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Q=/^\w*$/,tt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,et=/[\\^$.*+?()[\]{}|]/g,nt=RegExp(et.source),rt=/^\s+/,it=/\s/,ot=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,st=/\{\n\/\* \[wrapped with (.+)\] \*/,at=/,? & /,ct=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ut=/[()=,{}\[\]\/\s]/,lt=/\\(\\)?/g,ht=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,dt=/\w*$/,ft=/^[-+]0x[0-9a-f]+$/i,pt=/^0b[01]+$/i,gt=/^\[object .+?Constructor\]$/,vt=/^0o[0-7]+$/i,mt=/^(?:0|[1-9]\d*)$/,yt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,wt=/($^)/,bt=/['\n\r\u2028\u2029\\]/g,xt="\\ud800-\\udfff",St="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Et="\\u2700-\\u27bf",At="a-z\\xdf-\\xf6\\xf8-\\xff",Dt="A-Z\\xc0-\\xd6\\xd8-\\xde",Ct="\\ufe0e\\ufe0f",It="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Tt="["+xt+"]",_t="["+It+"]",kt="["+St+"]",Rt="\\d+",Lt="["+Et+"]",Pt="["+At+"]",Ot="[^"+xt+It+Rt+Et+At+Dt+"]",Nt="\\ud83c[\\udffb-\\udfff]",Mt="[^"+xt+"]",Bt="(?:\\ud83c[\\udde6-\\uddff]){2}",Ut="[\\ud800-\\udbff][\\udc00-\\udfff]",Ft="["+Dt+"]",qt="\\u200d",Ht="(?:"+Pt+"|"+Ot+")",jt="(?:"+Ft+"|"+Ot+")",Vt="(?:['](?:d|ll|m|re|s|t|ve))?",Gt="(?:['](?:D|LL|M|RE|S|T|VE))?",Wt="(?:"+kt+"|"+Nt+")?",zt="["+Ct+"]?",Kt=zt+Wt+"(?:"+qt+"(?:"+[Mt,Bt,Ut].join("|")+")"+zt+Wt+")*",$t="(?:"+[Lt,Bt,Ut].join("|")+")"+Kt,Jt="(?:"+[Mt+kt+"?",kt,Bt,Ut,Tt].join("|")+")",Yt=RegExp("[']","g"),Zt=RegExp(kt,"g"),Xt=RegExp(Nt+"(?="+Nt+")|"+Jt+Kt,"g"),Qt=RegExp([Ft+"?"+Pt+"+"+Vt+"(?="+[_t,Ft,"$"].join("|")+")",jt+"+"+Gt+"(?="+[_t,Ft+Ht,"$"].join("|")+")",Ft+"?"+Ht+"+"+Vt,Ft+"+"+Gt,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Rt,$t].join("|"),"g"),te=RegExp("["+qt+xt+St+Ct+"]"),ee=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ne=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],re=-1,ie={};ie[P]=ie[O]=ie[N]=ie[M]=ie[B]=ie[U]=ie[F]=ie[q]=ie[H]=!0,ie[g]=ie[v]=ie[R]=ie[m]=ie[L]=ie[y]=ie[w]=ie[b]=ie[S]=ie[E]=ie[A]=ie[C]=ie[I]=ie[T]=ie[k]=!1;var oe={};oe[g]=oe[v]=oe[R]=oe[L]=oe[m]=oe[y]=oe[P]=oe[O]=oe[N]=oe[M]=oe[B]=oe[S]=oe[E]=oe[A]=oe[C]=oe[I]=oe[T]=oe[_]=oe[U]=oe[F]=oe[q]=oe[H]=!0,oe[w]=oe[b]=oe[k]=!1;var se={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ae=parseFloat,ce=parseInt,ue="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,le="object"==typeof self&&self&&self.Object===Object&&self,he=ue||le||Function("return this")(),de=e&&!e.nodeType&&e,fe=de&&t&&!t.nodeType&&t,pe=fe&&fe.exports===de,ge=pe&&ue.process,ve=function(){try{return fe&&fe.require&&fe.require("util").types||ge&&ge.binding&&ge.binding("util")}catch(t){}}(),me=ve&&ve.isArrayBuffer,ye=ve&&ve.isDate,we=ve&&ve.isMap,be=ve&&ve.isRegExp,xe=ve&&ve.isSet,Se=ve&&ve.isTypedArray;function Ee(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function Ae(t,e,n,r){for(var i=-1,o=null==t?0:t.length;++i<o;){var s=t[i];e(r,s,n(s),t)}return r}function De(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}function Ce(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function Ie(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function Te(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[i++]=s)}return o}function _e(t,e){return!(null==t||!t.length)&&Fe(t,e,0)>-1}function ke(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}function Re(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}function Le(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function Pe(t,e,n,r){var i=-1,o=null==t?0:t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function Oe(t,e,n,r){var i=null==t?0:t.length;for(r&&i&&(n=t[--i]);i--;)n=e(n,t[i],i,t);return n}function Ne(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var Me=Ve("length");function Be(t,e,n){var r;return n(t,(function(t,n,i){if(e(t,n,i))return r=n,!1})),r}function Ue(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}function Fe(t,e,n){return e==e?function(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}(t,e,n):Ue(t,He,n)}function qe(t,e,n,r){for(var i=n-1,o=t.length;++i<o;)if(r(t[i],e))return i;return-1}function He(t){return t!=t}function je(t,e){var n=null==t?0:t.length;return n?ze(t,e)/n:d}function Ve(t){return function(e){return null==e?i:e[t]}}function Ge(t){return function(e){return null==t?i:t[e]}}function We(t,e,n,r,i){return i(t,(function(t,i,o){n=r?(r=!1,t):e(n,t,i,o)})),n}function ze(t,e){for(var n,r=-1,o=t.length;++r<o;){var s=e(t[r]);s!==i&&(n=n===i?s:n+s)}return n}function Ke(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function $e(t){return t?t.slice(0,dn(t)+1).replace(rt,""):t}function Je(t){return function(e){return t(e)}}function Ye(t,e){return Re(e,(function(e){return t[e]}))}function Ze(t,e){return t.has(e)}function Xe(t,e){for(var n=-1,r=t.length;++n<r&&Fe(e,t[n],0)>-1;);return n}function Qe(t,e){for(var n=t.length;n--&&Fe(e,t[n],0)>-1;);return n}var tn=Ge({:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"}),en=Ge({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function nn(t){return"\\"+se[t]}function rn(t){return te.test(t)}function on(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}function sn(t,e){return function(n){return t(e(n))}}function an(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var s=t[n];s!==e&&s!==a||(t[n]=a,o[i++]=n)}return o}function cn(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}function un(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=[t,t]})),n}function ln(t){return rn(t)?function(t){for(var e=Xt.lastIndex=0;Xt.test(t);)++e;return e}(t):Me(t)}function hn(t){return rn(t)?function(t){return t.match(Xt)||[]}(t):function(t){return t.split("")}(t)}function dn(t){for(var e=t.length;e--&&it.test(t.charAt(e)););return e}var fn=Ge({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),pn=function t(e){var n,r=(e=null==e?he:pn.defaults(he.Object(),e,pn.pick(he,ne))).Array,it=e.Date,xt=e.Error,St=e.Function,Et=e.Math,At=e.Object,Dt=e.RegExp,Ct=e.String,It=e.TypeError,Tt=r.prototype,_t=St.prototype,kt=At.prototype,Rt=e["__core-js_shared__"],Lt=_t.toString,Pt=kt.hasOwnProperty,Ot=0,Nt=(n=/[^.]+$/.exec(Rt&&Rt.keys&&Rt.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",Mt=kt.toString,Bt=Lt.call(At),Ut=he._,Ft=Dt("^"+Lt.call(Pt).replace(et,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),qt=pe?e.Buffer:i,Ht=e.Symbol,jt=e.Uint8Array,Vt=qt?qt.allocUnsafe:i,Gt=sn(At.getPrototypeOf,At),Wt=At.create,zt=kt.propertyIsEnumerable,Kt=Tt.splice,$t=Ht?Ht.isConcatSpreadable:i,Jt=Ht?Ht.iterator:i,Xt=Ht?Ht.toStringTag:i,te=function(){try{var t=co(At,"defineProperty");return t({},"",{}),t}catch(t){}}(),se=e.clearTimeout!==he.clearTimeout&&e.clearTimeout,ue=it&&it.now!==he.Date.now&&it.now,le=e.setTimeout!==he.setTimeout&&e.setTimeout,de=Et.ceil,fe=Et.floor,ge=At.getOwnPropertySymbols,ve=qt?qt.isBuffer:i,Me=e.isFinite,Ge=Tt.join,gn=sn(At.keys,At),vn=Et.max,mn=Et.min,yn=it.now,wn=e.parseInt,bn=Et.random,xn=Tt.reverse,Sn=co(e,"DataView"),En=co(e,"Map"),An=co(e,"Promise"),Dn=co(e,"Set"),Cn=co(e,"WeakMap"),In=co(At,"create"),Tn=Cn&&new Cn,_n={},kn=Bo(Sn),Rn=Bo(En),Ln=Bo(An),Pn=Bo(Dn),On=Bo(Cn),Nn=Ht?Ht.prototype:i,Mn=Nn?Nn.valueOf:i,Bn=Nn?Nn.toString:i;function Un(t){if(ta(t)&&!Vs(t)&&!(t instanceof jn)){if(t instanceof Hn)return t;if(Pt.call(t,"__wrapped__"))return Uo(t)}return new Hn(t)}var Fn=function(){function t(){}return function(e){if(!Qs(e))return{};if(Wt)return Wt(e);t.prototype=e;var n=new t;return t.prototype=i,n}}();function qn(){}function Hn(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=i}function jn(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=f,this.__views__=[]}function Vn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Gn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Wn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function zn(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new Wn;++e<n;)this.add(t[e])}function Kn(t){var e=this.__data__=new Gn(t);this.size=e.size}function $n(t,e){var n=Vs(t),r=!n&&js(t),i=!n&&!r&&Ks(t),o=!n&&!r&&!i&&ca(t),s=n||r||i||o,a=s?Ke(t.length,Ct):[],c=a.length;for(var u in t)!e&&!Pt.call(t,u)||s&&("length"==u||i&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||vo(u,c))||a.push(u);return a}function Jn(t){var e=t.length;return e?t[Wr(0,e-1)]:i}function Yn(t,e){return Lo(Ci(t),or(e,0,t.length))}function Zn(t){return Lo(Ci(t))}function Xn(t,e,n){(n!==i&&!Fs(t[e],n)||n===i&&!(e in t))&&rr(t,e,n)}function Qn(t,e,n){var r=t[e];Pt.call(t,e)&&Fs(r,n)&&(n!==i||e in t)||rr(t,e,n)}function tr(t,e){for(var n=t.length;n--;)if(Fs(t[n][0],e))return n;return-1}function er(t,e,n,r){return lr(t,(function(t,i,o){e(r,t,n(t),o)})),r}function nr(t,e){return t&&Ii(e,ka(e),t)}function rr(t,e,n){"__proto__"==e&&te?te(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function ir(t,e){for(var n=-1,o=e.length,s=r(o),a=null==t;++n<o;)s[n]=a?i:Da(t,e[n]);return s}function or(t,e,n){return t==t&&(n!==i&&(t=t<=n?t:n),e!==i&&(t=t>=e?t:e)),t}function sr(t,e,n,r,o,s){var a,c=1&e,u=2&e,l=4&e;if(n&&(a=o?n(t,r,o,s):n(t)),a!==i)return a;if(!Qs(t))return t;var h=Vs(t);if(h){if(a=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&Pt.call(t,"index")&&(n.index=t.index,n.input=t.input),n}(t),!c)return Ci(t,a)}else{var d=ho(t),f=d==b||d==x;if(Ks(t))return bi(t,c);if(d==A||d==g||f&&!o){if(a=u||f?{}:po(t),!c)return u?function(t,e){return Ii(t,lo(t),e)}(t,function(t,e){return t&&Ii(e,Ra(e),t)}(a,t)):function(t,e){return Ii(t,uo(t),e)}(t,nr(a,t))}else{if(!oe[d])return o?t:{};a=function(t,e,n){var r,i=t.constructor;switch(e){case R:return xi(t);case m:case y:return new i(+t);case L:return function(t,e){var n=e?xi(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case P:case O:case N:case M:case B:case U:case F:case q:case H:return Si(t,n);case S:return new i;case E:case T:return new i(t);case C:return function(t){var e=new t.constructor(t.source,dt.exec(t));return e.lastIndex=t.lastIndex,e}(t);case I:return new i;case _:return r=t,Mn?At(Mn.call(r)):{}}}(t,d,c)}}s||(s=new Kn);var p=s.get(t);if(p)return p;s.set(t,a),oa(t)?t.forEach((function(r){a.add(sr(r,e,n,r,t,s))})):ea(t)&&t.forEach((function(r,i){a.set(i,sr(r,e,n,i,t,s))}));var v=h?i:(l?u?eo:to:u?Ra:ka)(t);return De(v||t,(function(r,i){v&&(r=t[i=r]),Qn(a,i,sr(r,e,n,i,t,s))})),a}function ar(t,e,n){var r=n.length;if(null==t)return!r;for(t=At(t);r--;){var o=n[r],s=e[o],a=t[o];if(a===i&&!(o in t)||!s(a))return!1}return!0}function cr(t,e,n){if("function"!=typeof t)throw new It(o);return To((function(){t.apply(i,n)}),e)}function ur(t,e,n,r){var i=-1,o=_e,s=!0,a=t.length,c=[],u=e.length;if(!a)return c;n&&(e=Re(e,Je(n))),r?(o=ke,s=!1):e.length>=200&&(o=Ze,s=!1,e=new zn(e));t:for(;++i<a;){var l=t[i],h=null==n?l:n(l);if(l=r||0!==l?l:0,s&&h==h){for(var d=u;d--;)if(e[d]===h)continue t;c.push(l)}else o(e,h,r)||c.push(l)}return c}Un.templateSettings={escape:J,evaluate:Y,interpolate:Z,variable:"",imports:{_:Un}},Un.prototype=qn.prototype,Un.prototype.constructor=Un,Hn.prototype=Fn(qn.prototype),Hn.prototype.constructor=Hn,jn.prototype=Fn(qn.prototype),jn.prototype.constructor=jn,Vn.prototype.clear=function(){this.__data__=In?In(null):{},this.size=0},Vn.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Vn.prototype.get=function(t){var e=this.__data__;if(In){var n=e[t];return n===s?i:n}return Pt.call(e,t)?e[t]:i},Vn.prototype.has=function(t){var e=this.__data__;return In?e[t]!==i:Pt.call(e,t)},Vn.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=In&&e===i?s:e,this},Gn.prototype.clear=function(){this.__data__=[],this.size=0},Gn.prototype.delete=function(t){var e=this.__data__,n=tr(e,t);return!(n<0||(n==e.length-1?e.pop():Kt.call(e,n,1),--this.size,0))},Gn.prototype.get=function(t){var e=this.__data__,n=tr(e,t);return n<0?i:e[n][1]},Gn.prototype.has=function(t){return tr(this.__data__,t)>-1},Gn.prototype.set=function(t,e){var n=this.__data__,r=tr(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},Wn.prototype.clear=function(){this.size=0,this.__data__={hash:new Vn,map:new(En||Gn),string:new Vn}},Wn.prototype.delete=function(t){var e=so(this,t).delete(t);return this.size-=e?1:0,e},Wn.prototype.get=function(t){return so(this,t).get(t)},Wn.prototype.has=function(t){return so(this,t).has(t)},Wn.prototype.set=function(t,e){var n=so(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},zn.prototype.add=zn.prototype.push=function(t){return this.__data__.set(t,s),this},zn.prototype.has=function(t){return this.__data__.has(t)},Kn.prototype.clear=function(){this.__data__=new Gn,this.size=0},Kn.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Kn.prototype.get=function(t){return this.__data__.get(t)},Kn.prototype.has=function(t){return this.__data__.has(t)},Kn.prototype.set=function(t,e){var n=this.__data__;if(n instanceof Gn){var r=n.__data__;if(!En||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Wn(r)}return n.set(t,e),this.size=n.size,this};var lr=ki(yr),hr=ki(wr,!0);function dr(t,e){var n=!0;return lr(t,(function(t,r,i){return n=!!e(t,r,i)})),n}function fr(t,e,n){for(var r=-1,o=t.length;++r<o;){var s=t[r],a=e(s);if(null!=a&&(c===i?a==a&&!aa(a):n(a,c)))var c=a,u=s}return u}function pr(t,e){var n=[];return lr(t,(function(t,r,i){e(t,r,i)&&n.push(t)})),n}function gr(t,e,n,r,i){var o=-1,s=t.length;for(n||(n=go),i||(i=[]);++o<s;){var a=t[o];e>0&&n(a)?e>1?gr(a,e-1,n,r,i):Le(i,a):r||(i[i.length]=a)}return i}var vr=Ri(),mr=Ri(!0);function yr(t,e){return t&&vr(t,e,ka)}function wr(t,e){return t&&mr(t,e,ka)}function br(t,e){return Te(e,(function(e){return Ys(t[e])}))}function xr(t,e){for(var n=0,r=(e=vi(e,t)).length;null!=t&&n<r;)t=t[Mo(e[n++])];return n&&n==r?t:i}function Sr(t,e,n){var r=e(t);return Vs(t)?r:Le(r,n(t))}function Er(t){return null==t?t===i?"[object Undefined]":"[object Null]":Xt&&Xt in At(t)?function(t){var e=Pt.call(t,Xt),n=t[Xt];try{t[Xt]=i;var r=!0}catch(t){}var o=Mt.call(t);return r&&(e?t[Xt]=n:delete t[Xt]),o}(t):function(t){return Mt.call(t)}(t)}function Ar(t,e){return t>e}function Dr(t,e){return null!=t&&Pt.call(t,e)}function Cr(t,e){return null!=t&&e in At(t)}function Ir(t,e,n){for(var o=n?ke:_e,s=t[0].length,a=t.length,c=a,u=r(a),l=1/0,h=[];c--;){var d=t[c];c&&e&&(d=Re(d,Je(e))),l=mn(d.length,l),u[c]=!n&&(e||s>=120&&d.length>=120)?new zn(c&&d):i}d=t[0];var f=-1,p=u[0];t:for(;++f<s&&h.length<l;){var g=d[f],v=e?e(g):g;if(g=n||0!==g?g:0,!(p?Ze(p,v):o(h,v,n))){for(c=a;--c;){var m=u[c];if(!(m?Ze(m,v):o(t[c],v,n)))continue t}p&&p.push(v),h.push(g)}}return h}function Tr(t,e,n){var r=null==(t=Do(t,e=vi(e,t)))?t:t[Mo(Jo(e))];return null==r?i:Ee(r,t,n)}function _r(t){return ta(t)&&Er(t)==g}function kr(t,e,n,r,o){return t===e||(null==t||null==e||!ta(t)&&!ta(e)?t!=t&&e!=e:function(t,e,n,r,o,s){var a=Vs(t),c=Vs(e),u=a?v:ho(t),l=c?v:ho(e),h=(u=u==g?A:u)==A,d=(l=l==g?A:l)==A,f=u==l;if(f&&Ks(t)){if(!Ks(e))return!1;a=!0,h=!1}if(f&&!h)return s||(s=new Kn),a||ca(t)?Xi(t,e,n,r,o,s):function(t,e,n,r,i,o,s){switch(n){case L:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case R:return!(t.byteLength!=e.byteLength||!o(new jt(t),new jt(e)));case m:case y:case E:return Fs(+t,+e);case w:return t.name==e.name&&t.message==e.message;case C:case T:return t==e+"";case S:var a=on;case I:var c=1&r;if(a||(a=cn),t.size!=e.size&&!c)return!1;var u=s.get(t);if(u)return u==e;r|=2,s.set(t,e);var l=Xi(a(t),a(e),r,i,o,s);return s.delete(t),l;case _:if(Mn)return Mn.call(t)==Mn.call(e)}return!1}(t,e,u,n,r,o,s);if(!(1&n)){var p=h&&Pt.call(t,"__wrapped__"),b=d&&Pt.call(e,"__wrapped__");if(p||b){var x=p?t.value():t,D=b?e.value():e;return s||(s=new Kn),o(x,D,n,r,s)}}return!!f&&(s||(s=new Kn),function(t,e,n,r,o,s){var a=1&n,c=to(t),u=c.length;if(u!=to(e).length&&!a)return!1;for(var l=u;l--;){var h=c[l];if(!(a?h in e:Pt.call(e,h)))return!1}var d=s.get(t),f=s.get(e);if(d&&f)return d==e&&f==t;var p=!0;s.set(t,e),s.set(e,t);for(var g=a;++l<u;){var v=t[h=c[l]],m=e[h];if(r)var y=a?r(m,v,h,e,t,s):r(v,m,h,t,e,s);if(!(y===i?v===m||o(v,m,n,r,s):y)){p=!1;break}g||(g="constructor"==h)}if(p&&!g){var w=t.constructor,b=e.constructor;w==b||!("constructor"in t)||!("constructor"in e)||"function"==typeof w&&w instanceof w&&"function"==typeof b&&b instanceof b||(p=!1)}return s.delete(t),s.delete(e),p}(t,e,n,r,o,s))}(t,e,n,r,kr,o))}function Rr(t,e,n,r){var o=n.length,s=o,a=!r;if(null==t)return!s;for(t=At(t);o--;){var c=n[o];if(a&&c[2]?c[1]!==t[c[0]]:!(c[0]in t))return!1}for(;++o<s;){var u=(c=n[o])[0],l=t[u],h=c[1];if(a&&c[2]){if(l===i&&!(u in t))return!1}else{var d=new Kn;if(r)var f=r(l,h,u,t,e,d);if(!(f===i?kr(h,l,3,r,d):f))return!1}}return!0}function Lr(t){return!(!Qs(t)||(e=t,Nt&&Nt in e))&&(Ys(t)?Ft:gt).test(Bo(t));var e}function Pr(t){return"function"==typeof t?t:null==t?nc:"object"==typeof t?Vs(t)?Ur(t[0],t[1]):Br(t):hc(t)}function Or(t){if(!xo(t))return gn(t);var e=[];for(var n in At(t))Pt.call(t,n)&&"constructor"!=n&&e.push(n);return e}function Nr(t,e){return t<e}function Mr(t,e){var n=-1,i=Ws(t)?r(t.length):[];return lr(t,(function(t,r,o){i[++n]=e(t,r,o)})),i}function Br(t){var e=ao(t);return 1==e.length&&e[0][2]?Eo(e[0][0],e[0][1]):function(n){return n===t||Rr(n,t,e)}}function Ur(t,e){return yo(t)&&So(e)?Eo(Mo(t),e):function(n){var r=Da(n,t);return r===i&&r===e?Ca(n,t):kr(e,r,3)}}function Fr(t,e,n,r,o){t!==e&&vr(e,(function(s,a){if(o||(o=new Kn),Qs(s))!function(t,e,n,r,o,s,a){var c=Co(t,n),u=Co(e,n),l=a.get(u);if(l)Xn(t,n,l);else{var h=s?s(c,u,n+"",t,e,a):i,d=h===i;if(d){var f=Vs(u),p=!f&&Ks(u),g=!f&&!p&&ca(u);h=u,f||p||g?Vs(c)?h=c:zs(c)?h=Ci(c):p?(d=!1,h=bi(u,!0)):g?(d=!1,h=Si(u,!0)):h=[]:ra(u)||js(u)?(h=c,js(c)?h=va(c):Qs(c)&&!Ys(c)||(h=po(u))):d=!1}d&&(a.set(u,h),o(h,u,r,s,a),a.delete(u)),Xn(t,n,h)}}(t,e,a,n,Fr,r,o);else{var c=r?r(Co(t,a),s,a+"",t,e,o):i;c===i&&(c=s),Xn(t,a,c)}}),Ra)}function qr(t,e){var n=t.length;if(n)return vo(e+=e<0?n:0,n)?t[e]:i}function Hr(t,e,n){e=e.length?Re(e,(function(t){return Vs(t)?function(e){return xr(e,1===t.length?t[0]:t)}:t})):[nc];var r=-1;e=Re(e,Je(oo()));var i=Mr(t,(function(t,n,i){var o=Re(e,(function(e){return e(t)}));return{criteria:o,index:++r,value:t}}));return function(t,e){var r=t.length;for(t.sort((function(t,e){return function(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,s=i.length,a=n.length;++r<s;){var c=Ei(i[r],o[r]);if(c)return r>=a?c:c*("desc"==n[r]?-1:1)}return t.index-e.index}(t,e,n)}));r--;)t[r]=t[r].value;return t}(i)}function jr(t,e,n){for(var r=-1,i=e.length,o={};++r<i;){var s=e[r],a=xr(t,s);n(a,s)&&Yr(o,vi(s,t),a)}return o}function Vr(t,e,n,r){var i=r?qe:Fe,o=-1,s=e.length,a=t;for(t===e&&(e=Ci(e)),n&&(a=Re(t,Je(n)));++o<s;)for(var c=0,u=e[o],l=n?n(u):u;(c=i(a,l,c,r))>-1;)a!==t&&Kt.call(a,c,1),Kt.call(t,c,1);return t}function Gr(t,e){for(var n=t?e.length:0,r=n-1;n--;){var i=e[n];if(n==r||i!==o){var o=i;vo(i)?Kt.call(t,i,1):ci(t,i)}}return t}function Wr(t,e){return t+fe(bn()*(e-t+1))}function zr(t,e){var n="";if(!t||e<1||e>h)return n;do{e%2&&(n+=t),(e=fe(e/2))&&(t+=t)}while(e);return n}function Kr(t,e){return _o(Ao(t,e,nc),t+"")}function $r(t){return Jn(Fa(t))}function Jr(t,e){var n=Fa(t);return Lo(n,or(e,0,n.length))}function Yr(t,e,n,r){if(!Qs(t))return t;for(var o=-1,s=(e=vi(e,t)).length,a=s-1,c=t;null!=c&&++o<s;){var u=Mo(e[o]),l=n;if("__proto__"===u||"constructor"===u||"prototype"===u)return t;if(o!=a){var h=c[u];(l=r?r(h,u,c):i)===i&&(l=Qs(h)?h:vo(e[o+1])?[]:{})}Qn(c,u,l),c=c[u]}return t}var Zr=Tn?function(t,e){return Tn.set(t,e),t}:nc,Xr=te?function(t,e){return te(t,"toString",{configurable:!0,enumerable:!1,value:Qa(e),writable:!0})}:nc;function Qr(t){return Lo(Fa(t))}function ti(t,e,n){var i=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(n=n>o?o:n)<0&&(n+=o),o=e>n?0:n-e>>>0,e>>>=0;for(var s=r(o);++i<o;)s[i]=t[i+e];return s}function ei(t,e){var n;return lr(t,(function(t,r,i){return!(n=e(t,r,i))})),!!n}function ni(t,e,n){var r=0,i=null==t?r:t.length;if("number"==typeof e&&e==e&&i<=2147483647){for(;r<i;){var o=r+i>>>1,s=t[o];null!==s&&!aa(s)&&(n?s<=e:s<e)?r=o+1:i=o}return i}return ri(t,e,nc,n)}function ri(t,e,n,r){var o=0,s=null==t?0:t.length;if(0===s)return 0;for(var a=(e=n(e))!=e,c=null===e,u=aa(e),l=e===i;o<s;){var h=fe((o+s)/2),d=n(t[h]),f=d!==i,p=null===d,g=d==d,v=aa(d);if(a)var m=r||g;else m=l?g&&(r||f):c?g&&f&&(r||!p):u?g&&f&&!p&&(r||!v):!p&&!v&&(r?d<=e:d<e);m?o=h+1:s=h}return mn(s,4294967294)}function ii(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var s=t[n],a=e?e(s):s;if(!n||!Fs(a,c)){var c=a;o[i++]=0===s?0:s}}return o}function oi(t){return"number"==typeof t?t:aa(t)?d:+t}function si(t){if("string"==typeof t)return t;if(Vs(t))return Re(t,si)+"";if(aa(t))return Bn?Bn.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function ai(t,e,n){var r=-1,i=_e,o=t.length,s=!0,a=[],c=a;if(n)s=!1,i=ke;else if(o>=200){var u=e?null:zi(t);if(u)return cn(u);s=!1,i=Ze,c=new zn}else c=e?[]:a;t:for(;++r<o;){var l=t[r],h=e?e(l):l;if(l=n||0!==l?l:0,s&&h==h){for(var d=c.length;d--;)if(c[d]===h)continue t;e&&c.push(h),a.push(l)}else i(c,h,n)||(c!==a&&c.push(h),a.push(l))}return a}function ci(t,e){return null==(t=Do(t,e=vi(e,t)))||delete t[Mo(Jo(e))]}function ui(t,e,n,r){return Yr(t,e,n(xr(t,e)),r)}function li(t,e,n,r){for(var i=t.length,o=r?i:-1;(r?o--:++o<i)&&e(t[o],o,t););return n?ti(t,r?0:o,r?o+1:i):ti(t,r?o+1:0,r?i:o)}function hi(t,e){var n=t;return n instanceof jn&&(n=n.value()),Pe(e,(function(t,e){return e.func.apply(e.thisArg,Le([t],e.args))}),n)}function di(t,e,n){var i=t.length;if(i<2)return i?ai(t[0]):[];for(var o=-1,s=r(i);++o<i;)for(var a=t[o],c=-1;++c<i;)c!=o&&(s[o]=ur(s[o]||a,t[c],e,n));return ai(gr(s,1),e,n)}function fi(t,e,n){for(var r=-1,o=t.length,s=e.length,a={};++r<o;){var c=r<s?e[r]:i;n(a,t[r],c)}return a}function pi(t){return zs(t)?t:[]}function gi(t){return"function"==typeof t?t:nc}function vi(t,e){return Vs(t)?t:yo(t,e)?[t]:No(ma(t))}var mi=Kr;function yi(t,e,n){var r=t.length;return n=n===i?r:n,!e&&n>=r?t:ti(t,e,n)}var wi=se||function(t){return he.clearTimeout(t)};function bi(t,e){if(e)return t.slice();var n=t.length,r=Vt?Vt(n):new t.constructor(n);return t.copy(r),r}function xi(t){var e=new t.constructor(t.byteLength);return new jt(e).set(new jt(t)),e}function Si(t,e){var n=e?xi(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function Ei(t,e){if(t!==e){var n=t!==i,r=null===t,o=t==t,s=aa(t),a=e!==i,c=null===e,u=e==e,l=aa(e);if(!c&&!l&&!s&&t>e||s&&a&&u&&!c&&!l||r&&a&&u||!n&&u||!o)return 1;if(!r&&!s&&!l&&t<e||l&&n&&o&&!r&&!s||c&&n&&o||!a&&o||!u)return-1}return 0}function Ai(t,e,n,i){for(var o=-1,s=t.length,a=n.length,c=-1,u=e.length,l=vn(s-a,0),h=r(u+l),d=!i;++c<u;)h[c]=e[c];for(;++o<a;)(d||o<s)&&(h[n[o]]=t[o]);for(;l--;)h[c++]=t[o++];return h}function Di(t,e,n,i){for(var o=-1,s=t.length,a=-1,c=n.length,u=-1,l=e.length,h=vn(s-c,0),d=r(h+l),f=!i;++o<h;)d[o]=t[o];for(var p=o;++u<l;)d[p+u]=e[u];for(;++a<c;)(f||o<s)&&(d[p+n[a]]=t[o++]);return d}function Ci(t,e){var n=-1,i=t.length;for(e||(e=r(i));++n<i;)e[n]=t[n];return e}function Ii(t,e,n,r){var o=!n;n||(n={});for(var s=-1,a=e.length;++s<a;){var c=e[s],u=r?r(n[c],t[c],c,n,t):i;u===i&&(u=t[c]),o?rr(n,c,u):Qn(n,c,u)}return n}function Ti(t,e){return function(n,r){var i=Vs(n)?Ae:er,o=e?e():{};return i(n,t,oo(r,2),o)}}function _i(t){return Kr((function(e,n){var r=-1,o=n.length,s=o>1?n[o-1]:i,a=o>2?n[2]:i;for(s=t.length>3&&"function"==typeof s?(o--,s):i,a&&mo(n[0],n[1],a)&&(s=o<3?i:s,o=1),e=At(e);++r<o;){var c=n[r];c&&t(e,c,r,s)}return e}))}function ki(t,e){return function(n,r){if(null==n)return n;if(!Ws(n))return t(n,r);for(var i=n.length,o=e?i:-1,s=At(n);(e?o--:++o<i)&&!1!==r(s[o],o,s););return n}}function Ri(t){return function(e,n,r){for(var i=-1,o=At(e),s=r(e),a=s.length;a--;){var c=s[t?a:++i];if(!1===n(o[c],c,o))break}return e}}function Li(t){return function(e){var n=rn(e=ma(e))?hn(e):i,r=n?n[0]:e.charAt(0),o=n?yi(n,1).join(""):e.slice(1);return r[t]()+o}}function Pi(t){return function(e){return Pe(Ya(ja(e).replace(Yt,"")),t,"")}}function Oi(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=Fn(t.prototype),r=t.apply(n,e);return Qs(r)?r:n}}function Ni(t){return function(e,n,r){var o=At(e);if(!Ws(e)){var s=oo(n,3);e=ka(e),n=function(t){return s(o[t],t,o)}}var a=t(e,n,r);return a>-1?o[s?e[a]:a]:i}}function Mi(t){return Qi((function(e){var n=e.length,r=n,s=Hn.prototype.thru;for(t&&e.reverse();r--;){var a=e[r];if("function"!=typeof a)throw new It(o);if(s&&!c&&"wrapper"==ro(a))var c=new Hn([],!0)}for(r=c?r:n;++r<n;){var u=ro(a=e[r]),l="wrapper"==u?no(a):i;c=l&&wo(l[0])&&424==l[1]&&!l[4].length&&1==l[9]?c[ro(l[0])].apply(c,l[3]):1==a.length&&wo(a)?c[u]():c.thru(a)}return function(){var t=arguments,r=t[0];if(c&&1==t.length&&Vs(r))return c.plant(r).value();for(var i=0,o=n?e[i].apply(this,t):r;++i<n;)o=e[i].call(this,o);return o}}))}function Bi(t,e,n,o,s,a,c,l,h,d){var f=e&u,p=1&e,g=2&e,v=24&e,m=512&e,y=g?i:Oi(t);return function u(){for(var w=arguments.length,b=r(w),x=w;x--;)b[x]=arguments[x];if(v)var S=io(u),E=function(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}(b,S);if(o&&(b=Ai(b,o,s,v)),a&&(b=Di(b,a,c,v)),w-=E,v&&w<d){var A=an(b,S);return Gi(t,e,Bi,u.placeholder,n,b,A,l,h,d-w)}var D=p?n:this,C=g?D[t]:t;return w=b.length,l?b=function(t,e){for(var n=t.length,r=mn(e.length,n),o=Ci(t);r--;){var s=e[r];t[r]=vo(s,n)?o[s]:i}return t}(b,l):m&&w>1&&b.reverse(),f&&h<w&&(b.length=h),this&&this!==he&&this instanceof u&&(C=y||Oi(C)),C.apply(D,b)}}function Ui(t,e){return function(n,r){return function(t,e,n,r){return yr(t,(function(t,i,o){e(r,n(t),i,o)})),r}(n,t,e(r),{})}}function Fi(t,e){return function(n,r){var o;if(n===i&&r===i)return e;if(n!==i&&(o=n),r!==i){if(o===i)return r;"string"==typeof n||"string"==typeof r?(n=si(n),r=si(r)):(n=oi(n),r=oi(r)),o=t(n,r)}return o}}function qi(t){return Qi((function(e){return e=Re(e,Je(oo())),Kr((function(n){var r=this;return t(e,(function(t){return Ee(t,r,n)}))}))}))}function Hi(t,e){var n=(e=e===i?" ":si(e)).length;if(n<2)return n?zr(e,t):e;var r=zr(e,de(t/ln(e)));return rn(e)?yi(hn(r),0,t).join(""):r.slice(0,t)}function ji(t){return function(e,n,o){return o&&"number"!=typeof o&&mo(e,n,o)&&(n=o=i),e=da(e),n===i?(n=e,e=0):n=da(n),function(t,e,n,i){for(var o=-1,s=vn(de((e-t)/(n||1)),0),a=r(s);s--;)a[i?s:++o]=t,t+=n;return a}(e,n,o=o===i?e<n?1:-1:da(o),t)}}function Vi(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=ga(e),n=ga(n)),t(e,n)}}function Gi(t,e,n,r,o,s,a,u,l,h){var d=8&e;e|=d?c:64,4&(e&=~(d?64:c))||(e&=-4);var f=[t,e,o,d?s:i,d?a:i,d?i:s,d?i:a,u,l,h],p=n.apply(i,f);return wo(t)&&Io(p,f),p.placeholder=r,ko(p,t,e)}function Wi(t){var e=Et[t];return function(t,n){if(t=ga(t),(n=null==n?0:mn(fa(n),292))&&Me(t)){var r=(ma(t)+"e").split("e");return+((r=(ma(e(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return e(t)}}var zi=Dn&&1/cn(new Dn([,-0]))[1]==l?function(t){return new Dn(t)}:ac;function Ki(t){return function(e){var n=ho(e);return n==S?on(e):n==I?un(e):function(t,e){return Re(e,(function(e){return[e,t[e]]}))}(e,t(e))}}function $i(t,e,n,s,l,h,d,f){var p=2&e;if(!p&&"function"!=typeof t)throw new It(o);var g=s?s.length:0;if(g||(e&=-97,s=l=i),d=d===i?d:vn(fa(d),0),f=f===i?f:fa(f),g-=l?l.length:0,64&e){var v=s,m=l;s=l=i}var y=p?i:no(t),w=[t,e,n,s,l,v,m,h,d,f];if(y&&function(t,e){var n=t[1],r=e[1],i=n|r,o=i<131,s=r==u&&8==n||r==u&&256==n&&t[7].length<=e[8]||384==r&&e[7].length<=e[8]&&8==n;if(!o&&!s)return t;1&r&&(t[2]=e[2],i|=1&n?0:4);var c=e[3];if(c){var l=t[3];t[3]=l?Ai(l,c,e[4]):c,t[4]=l?an(t[3],a):e[4]}(c=e[5])&&(l=t[5],t[5]=l?Di(l,c,e[6]):c,t[6]=l?an(t[5],a):e[6]),(c=e[7])&&(t[7]=c),r&u&&(t[8]=null==t[8]?e[8]:mn(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=i}(w,y),t=w[0],e=w[1],n=w[2],s=w[3],l=w[4],!(f=w[9]=w[9]===i?p?0:t.length:vn(w[9]-g,0))&&24&e&&(e&=-25),e&&1!=e)b=8==e||16==e?function(t,e,n){var o=Oi(t);return function s(){for(var a=arguments.length,c=r(a),u=a,l=io(s);u--;)c[u]=arguments[u];var h=a<3&&c[0]!==l&&c[a-1]!==l?[]:an(c,l);return(a-=h.length)<n?Gi(t,e,Bi,s.placeholder,i,c,h,i,i,n-a):Ee(this&&this!==he&&this instanceof s?o:t,this,c)}}(t,e,f):e!=c&&33!=e||l.length?Bi.apply(i,w):function(t,e,n,i){var o=1&e,s=Oi(t);return function e(){for(var a=-1,c=arguments.length,u=-1,l=i.length,h=r(l+c),d=this&&this!==he&&this instanceof e?s:t;++u<l;)h[u]=i[u];for(;c--;)h[u++]=arguments[++a];return Ee(d,o?n:this,h)}}(t,e,n,s);else var b=function(t,e,n){var r=1&e,i=Oi(t);return function e(){return(this&&this!==he&&this instanceof e?i:t).apply(r?n:this,arguments)}}(t,e,n);return ko((y?Zr:Io)(b,w),t,e)}function Ji(t,e,n,r){return t===i||Fs(t,kt[n])&&!Pt.call(r,n)?e:t}function Yi(t,e,n,r,o,s){return Qs(t)&&Qs(e)&&(s.set(e,t),Fr(t,e,i,Yi,s),s.delete(e)),t}function Zi(t){return ra(t)?i:t}function Xi(t,e,n,r,o,s){var a=1&n,c=t.length,u=e.length;if(c!=u&&!(a&&u>c))return!1;var l=s.get(t),h=s.get(e);if(l&&h)return l==e&&h==t;var d=-1,f=!0,p=2&n?new zn:i;for(s.set(t,e),s.set(e,t);++d<c;){var g=t[d],v=e[d];if(r)var m=a?r(v,g,d,e,t,s):r(g,v,d,t,e,s);if(m!==i){if(m)continue;f=!1;break}if(p){if(!Ne(e,(function(t,e){if(!Ze(p,e)&&(g===t||o(g,t,n,r,s)))return p.push(e)}))){f=!1;break}}else if(g!==v&&!o(g,v,n,r,s)){f=!1;break}}return s.delete(t),s.delete(e),f}function Qi(t){return _o(Ao(t,i,Go),t+"")}function to(t){return Sr(t,ka,uo)}function eo(t){return Sr(t,Ra,lo)}var no=Tn?function(t){return Tn.get(t)}:ac;function ro(t){for(var e=t.name+"",n=_n[e],r=Pt.call(_n,e)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==t)return i.name}return e}function io(t){return(Pt.call(Un,"placeholder")?Un:t).placeholder}function oo(){var t=Un.iteratee||rc;return t=t===rc?Pr:t,arguments.length?t(arguments[0],arguments[1]):t}function so(t,e){var n,r,i=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof e?"string":"hash"]:i.map}function ao(t){for(var e=ka(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,So(i)]}return e}function co(t,e){var n=function(t,e){return null==t?i:t[e]}(t,e);return Lr(n)?n:i}var uo=ge?function(t){return null==t?[]:(t=At(t),Te(ge(t),(function(e){return zt.call(t,e)})))}:pc,lo=ge?function(t){for(var e=[];t;)Le(e,uo(t)),t=Gt(t);return e}:pc,ho=Er;function fo(t,e,n){for(var r=-1,i=(e=vi(e,t)).length,o=!1;++r<i;){var s=Mo(e[r]);if(!(o=null!=t&&n(t,s)))break;t=t[s]}return o||++r!=i?o:!!(i=null==t?0:t.length)&&Xs(i)&&vo(s,i)&&(Vs(t)||js(t))}function po(t){return"function"!=typeof t.constructor||xo(t)?{}:Fn(Gt(t))}function go(t){return Vs(t)||js(t)||!!($t&&t&&t[$t])}function vo(t,e){var n=typeof t;return!!(e=null==e?h:e)&&("number"==n||"symbol"!=n&&mt.test(t))&&t>-1&&t%1==0&&t<e}function mo(t,e,n){if(!Qs(n))return!1;var r=typeof e;return!!("number"==r?Ws(n)&&vo(e,n.length):"string"==r&&e in n)&&Fs(n[e],t)}function yo(t,e){if(Vs(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!aa(t))||Q.test(t)||!X.test(t)||null!=e&&t in At(e)}function wo(t){var e=ro(t),n=Un[e];if("function"!=typeof n||!(e in jn.prototype))return!1;if(t===n)return!0;var r=no(n);return!!r&&t===r[0]}(Sn&&ho(new Sn(new ArrayBuffer(1)))!=L||En&&ho(new En)!=S||An&&ho(An.resolve())!=D||Dn&&ho(new Dn)!=I||Cn&&ho(new Cn)!=k)&&(ho=function(t){var e=Er(t),n=e==A?t.constructor:i,r=n?Bo(n):"";if(r)switch(r){case kn:return L;case Rn:return S;case Ln:return D;case Pn:return I;case On:return k}return e});var bo=Rt?Ys:gc;function xo(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||kt)}function So(t){return t==t&&!Qs(t)}function Eo(t,e){return function(n){return null!=n&&n[t]===e&&(e!==i||t in At(n))}}function Ao(t,e,n){return e=vn(e===i?t.length-1:e,0),function(){for(var i=arguments,o=-1,s=vn(i.length-e,0),a=r(s);++o<s;)a[o]=i[e+o];o=-1;for(var c=r(e+1);++o<e;)c[o]=i[o];return c[e]=n(a),Ee(t,this,c)}}function Do(t,e){return e.length<2?t:xr(t,ti(e,0,-1))}function Co(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var Io=Ro(Zr),To=le||function(t,e){return he.setTimeout(t,e)},_o=Ro(Xr);function ko(t,e,n){var r=e+"";return _o(t,function(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(ot,"{\n/* [wrapped with "+e+"] */\n")}(r,function(t,e){return De(p,(function(n){var r="_."+n[0];e&n[1]&&!_e(t,r)&&t.push(r)})),t.sort()}(function(t){var e=t.match(st);return e?e[1].split(at):[]}(r),n)))}function Ro(t){var e=0,n=0;return function(){var r=yn(),o=16-(r-n);if(n=r,o>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(i,arguments)}}function Lo(t,e){var n=-1,r=t.length,o=r-1;for(e=e===i?r:e;++n<e;){var s=Wr(n,o),a=t[s];t[s]=t[n],t[n]=a}return t.length=e,t}var Po,Oo,No=(Po=Ps((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(tt,(function(t,n,r,i){e.push(r?i.replace(lt,"$1"):n||t)})),e}),(function(t){return 500===Oo.size&&Oo.clear(),t})),Oo=Po.cache,Po);function Mo(t){if("string"==typeof t||aa(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Bo(t){if(null!=t){try{return Lt.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Uo(t){if(t instanceof jn)return t.clone();var e=new Hn(t.__wrapped__,t.__chain__);return e.__actions__=Ci(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var Fo=Kr((function(t,e){return zs(t)?ur(t,gr(e,1,zs,!0)):[]})),qo=Kr((function(t,e){var n=Jo(e);return zs(n)&&(n=i),zs(t)?ur(t,gr(e,1,zs,!0),oo(n,2)):[]})),Ho=Kr((function(t,e){var n=Jo(e);return zs(n)&&(n=i),zs(t)?ur(t,gr(e,1,zs,!0),i,n):[]}));function jo(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:fa(n);return i<0&&(i=vn(r+i,0)),Ue(t,oo(e,3),i)}function Vo(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var o=r-1;return n!==i&&(o=fa(n),o=n<0?vn(r+o,0):mn(o,r-1)),Ue(t,oo(e,3),o,!0)}function Go(t){return null!=t&&t.length?gr(t,1):[]}function Wo(t){return t&&t.length?t[0]:i}var zo=Kr((function(t){var e=Re(t,pi);return e.length&&e[0]===t[0]?Ir(e):[]})),Ko=Kr((function(t){var e=Jo(t),n=Re(t,pi);return e===Jo(n)?e=i:n.pop(),n.length&&n[0]===t[0]?Ir(n,oo(e,2)):[]})),$o=Kr((function(t){var e=Jo(t),n=Re(t,pi);return(e="function"==typeof e?e:i)&&n.pop(),n.length&&n[0]===t[0]?Ir(n,i,e):[]}));function Jo(t){var e=null==t?0:t.length;return e?t[e-1]:i}var Yo=Kr(Zo);function Zo(t,e){return t&&t.length&&e&&e.length?Vr(t,e):t}var Xo=Qi((function(t,e){var n=null==t?0:t.length,r=ir(t,e);return Gr(t,Re(e,(function(t){return vo(t,n)?+t:t})).sort(Ei)),r}));function Qo(t){return null==t?t:xn.call(t)}var ts=Kr((function(t){return ai(gr(t,1,zs,!0))})),es=Kr((function(t){var e=Jo(t);return zs(e)&&(e=i),ai(gr(t,1,zs,!0),oo(e,2))})),ns=Kr((function(t){var e=Jo(t);return e="function"==typeof e?e:i,ai(gr(t,1,zs,!0),i,e)}));function rs(t){if(!t||!t.length)return[];var e=0;return t=Te(t,(function(t){if(zs(t))return e=vn(t.length,e),!0})),Ke(e,(function(e){return Re(t,Ve(e))}))}function is(t,e){if(!t||!t.length)return[];var n=rs(t);return null==e?n:Re(n,(function(t){return Ee(e,i,t)}))}var os=Kr((function(t,e){return zs(t)?ur(t,e):[]})),ss=Kr((function(t){return di(Te(t,zs))})),as=Kr((function(t){var e=Jo(t);return zs(e)&&(e=i),di(Te(t,zs),oo(e,2))})),cs=Kr((function(t){var e=Jo(t);return e="function"==typeof e?e:i,di(Te(t,zs),i,e)})),us=Kr(rs),ls=Kr((function(t){var e=t.length,n=e>1?t[e-1]:i;return n="function"==typeof n?(t.pop(),n):i,is(t,n)}));function hs(t){var e=Un(t);return e.__chain__=!0,e}function ds(t,e){return e(t)}var fs=Qi((function(t){var e=t.length,n=e?t[0]:0,r=this.__wrapped__,o=function(e){return ir(e,t)};return!(e>1||this.__actions__.length)&&r instanceof jn&&vo(n)?((r=r.slice(n,+n+(e?1:0))).__actions__.push({func:ds,args:[o],thisArg:i}),new Hn(r,this.__chain__).thru((function(t){return e&&!t.length&&t.push(i),t}))):this.thru(o)})),ps=Ti((function(t,e,n){Pt.call(t,n)?++t[n]:rr(t,n,1)})),gs=Ni(jo),vs=Ni(Vo);function ms(t,e){return(Vs(t)?De:lr)(t,oo(e,3))}function ys(t,e){return(Vs(t)?Ce:hr)(t,oo(e,3))}var ws=Ti((function(t,e,n){Pt.call(t,n)?t[n].push(e):rr(t,n,[e])})),bs=Kr((function(t,e,n){var i=-1,o="function"==typeof e,s=Ws(t)?r(t.length):[];return lr(t,(function(t){s[++i]=o?Ee(e,t,n):Tr(t,e,n)})),s})),xs=Ti((function(t,e,n){rr(t,n,e)}));function Ss(t,e){return(Vs(t)?Re:Mr)(t,oo(e,3))}var Es=Ti((function(t,e,n){t[n?0:1].push(e)}),(function(){return[[],[]]})),As=Kr((function(t,e){if(null==t)return[];var n=e.length;return n>1&&mo(t,e[0],e[1])?e=[]:n>2&&mo(e[0],e[1],e[2])&&(e=[e[0]]),Hr(t,gr(e,1),[])})),Ds=ue||function(){return he.Date.now()};function Cs(t,e,n){return e=n?i:e,e=t&&null==e?t.length:e,$i(t,u,i,i,i,i,e)}function Is(t,e){var n;if("function"!=typeof e)throw new It(o);return t=fa(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=i),n}}var Ts=Kr((function(t,e,n){var r=1;if(n.length){var i=an(n,io(Ts));r|=c}return $i(t,r,e,n,i)})),_s=Kr((function(t,e,n){var r=3;if(n.length){var i=an(n,io(_s));r|=c}return $i(e,r,t,n,i)}));function ks(t,e,n){var r,s,a,c,u,l,h=0,d=!1,f=!1,p=!0;if("function"!=typeof t)throw new It(o);function g(e){var n=r,o=s;return r=s=i,h=e,c=t.apply(o,n)}function v(t){var n=t-l;return l===i||n>=e||n<0||f&&t-h>=a}function m(){var t=Ds();if(v(t))return y(t);u=To(m,function(t){var n=e-(t-l);return f?mn(n,a-(t-h)):n}(t))}function y(t){return u=i,p&&r?g(t):(r=s=i,c)}function w(){var t=Ds(),n=v(t);if(r=arguments,s=this,l=t,n){if(u===i)return function(t){return h=t,u=To(m,e),d?g(t):c}(l);if(f)return wi(u),u=To(m,e),g(l)}return u===i&&(u=To(m,e)),c}return e=ga(e)||0,Qs(n)&&(d=!!n.leading,a=(f="maxWait"in n)?vn(ga(n.maxWait)||0,e):a,p="trailing"in n?!!n.trailing:p),w.cancel=function(){u!==i&&wi(u),h=0,r=l=s=u=i},w.flush=function(){return u===i?c:y(Ds())},w}var Rs=Kr((function(t,e){return cr(t,1,e)})),Ls=Kr((function(t,e,n){return cr(t,ga(e)||0,n)}));function Ps(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new It(o);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=t.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(Ps.Cache||Wn),n}function Os(t){if("function"!=typeof t)throw new It(o);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}Ps.Cache=Wn;var Ns=mi((function(t,e){var n=(e=1==e.length&&Vs(e[0])?Re(e[0],Je(oo())):Re(gr(e,1),Je(oo()))).length;return Kr((function(r){for(var i=-1,o=mn(r.length,n);++i<o;)r[i]=e[i].call(this,r[i]);return Ee(t,this,r)}))})),Ms=Kr((function(t,e){var n=an(e,io(Ms));return $i(t,c,i,e,n)})),Bs=Kr((function(t,e){var n=an(e,io(Bs));return $i(t,64,i,e,n)})),Us=Qi((function(t,e){return $i(t,256,i,i,i,e)}));function Fs(t,e){return t===e||t!=t&&e!=e}var qs=Vi(Ar),Hs=Vi((function(t,e){return t>=e})),js=_r(function(){return arguments}())?_r:function(t){return ta(t)&&Pt.call(t,"callee")&&!zt.call(t,"callee")},Vs=r.isArray,Gs=me?Je(me):function(t){return ta(t)&&Er(t)==R};function Ws(t){return null!=t&&Xs(t.length)&&!Ys(t)}function zs(t){return ta(t)&&Ws(t)}var Ks=ve||gc,$s=ye?Je(ye):function(t){return ta(t)&&Er(t)==y};function Js(t){if(!ta(t))return!1;var e=Er(t);return e==w||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!ra(t)}function Ys(t){if(!Qs(t))return!1;var e=Er(t);return e==b||e==x||"[object AsyncFunction]"==e||"[object Proxy]"==e}function Zs(t){return"number"==typeof t&&t==fa(t)}function Xs(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=h}function Qs(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function ta(t){return null!=t&&"object"==typeof t}var ea=we?Je(we):function(t){return ta(t)&&ho(t)==S};function na(t){return"number"==typeof t||ta(t)&&Er(t)==E}function ra(t){if(!ta(t)||Er(t)!=A)return!1;var e=Gt(t);if(null===e)return!0;var n=Pt.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&Lt.call(n)==Bt}var ia=be?Je(be):function(t){return ta(t)&&Er(t)==C},oa=xe?Je(xe):function(t){return ta(t)&&ho(t)==I};function sa(t){return"string"==typeof t||!Vs(t)&&ta(t)&&Er(t)==T}function aa(t){return"symbol"==typeof t||ta(t)&&Er(t)==_}var ca=Se?Je(Se):function(t){return ta(t)&&Xs(t.length)&&!!ie[Er(t)]},ua=Vi(Nr),la=Vi((function(t,e){return t<=e}));function ha(t){if(!t)return[];if(Ws(t))return sa(t)?hn(t):Ci(t);if(Jt&&t[Jt])return function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(t[Jt]());var e=ho(t);return(e==S?on:e==I?cn:Fa)(t)}function da(t){return t?(t=ga(t))===l||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function fa(t){var e=da(t),n=e%1;return e==e?n?e-n:e:0}function pa(t){return t?or(fa(t),0,f):0}function ga(t){if("number"==typeof t)return t;if(aa(t))return d;if(Qs(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Qs(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=$e(t);var n=pt.test(t);return n||vt.test(t)?ce(t.slice(2),n?2:8):ft.test(t)?d:+t}function va(t){return Ii(t,Ra(t))}function ma(t){return null==t?"":si(t)}var ya=_i((function(t,e){if(xo(e)||Ws(e))Ii(e,ka(e),t);else for(var n in e)Pt.call(e,n)&&Qn(t,n,e[n])})),wa=_i((function(t,e){Ii(e,Ra(e),t)})),ba=_i((function(t,e,n,r){Ii(e,Ra(e),t,r)})),xa=_i((function(t,e,n,r){Ii(e,ka(e),t,r)})),Sa=Qi(ir),Ea=Kr((function(t,e){t=At(t);var n=-1,r=e.length,o=r>2?e[2]:i;for(o&&mo(e[0],e[1],o)&&(r=1);++n<r;)for(var s=e[n],a=Ra(s),c=-1,u=a.length;++c<u;){var l=a[c],h=t[l];(h===i||Fs(h,kt[l])&&!Pt.call(t,l))&&(t[l]=s[l])}return t})),Aa=Kr((function(t){return t.push(i,Yi),Ee(Pa,i,t)}));function Da(t,e,n){var r=null==t?i:xr(t,e);return r===i?n:r}function Ca(t,e){return null!=t&&fo(t,e,Cr)}var Ia=Ui((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=Mt.call(e)),t[e]=n}),Qa(nc)),Ta=Ui((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=Mt.call(e)),Pt.call(t,e)?t[e].push(n):t[e]=[n]}),oo),_a=Kr(Tr);function ka(t){return Ws(t)?$n(t):Or(t)}function Ra(t){return Ws(t)?$n(t,!0):function(t){if(!Qs(t))return function(t){var e=[];if(null!=t)for(var n in At(t))e.push(n);return e}(t);var e=xo(t),n=[];for(var r in t)("constructor"!=r||!e&&Pt.call(t,r))&&n.push(r);return n}(t)}var La=_i((function(t,e,n){Fr(t,e,n)})),Pa=_i((function(t,e,n,r){Fr(t,e,n,r)})),Oa=Qi((function(t,e){var n={};if(null==t)return n;var r=!1;e=Re(e,(function(e){return e=vi(e,t),r||(r=e.length>1),e})),Ii(t,eo(t),n),r&&(n=sr(n,7,Zi));for(var i=e.length;i--;)ci(n,e[i]);return n})),Na=Qi((function(t,e){return null==t?{}:function(t,e){return jr(t,e,(function(e,n){return Ca(t,n)}))}(t,e)}));function Ma(t,e){if(null==t)return{};var n=Re(eo(t),(function(t){return[t]}));return e=oo(e),jr(t,n,(function(t,n){return e(t,n[0])}))}var Ba=Ki(ka),Ua=Ki(Ra);function Fa(t){return null==t?[]:Ye(t,ka(t))}var qa=Pi((function(t,e,n){return e=e.toLowerCase(),t+(n?Ha(e):e)}));function Ha(t){return Ja(ma(t).toLowerCase())}function ja(t){return(t=ma(t))&&t.replace(yt,tn).replace(Zt,"")}var Va=Pi((function(t,e,n){return t+(n?"-":"")+e.toLowerCase()})),Ga=Pi((function(t,e,n){return t+(n?" ":"")+e.toLowerCase()})),Wa=Li("toLowerCase"),za=Pi((function(t,e,n){return t+(n?"_":"")+e.toLowerCase()})),Ka=Pi((function(t,e,n){return t+(n?" ":"")+Ja(e)})),$a=Pi((function(t,e,n){return t+(n?" ":"")+e.toUpperCase()})),Ja=Li("toUpperCase");function Ya(t,e,n){return t=ma(t),(e=n?i:e)===i?function(t){return ee.test(t)}(t)?function(t){return t.match(Qt)||[]}(t):function(t){return t.match(ct)||[]}(t):t.match(e)||[]}var Za=Kr((function(t,e){try{return Ee(t,i,e)}catch(t){return Js(t)?t:new xt(t)}})),Xa=Qi((function(t,e){return De(e,(function(e){e=Mo(e),rr(t,e,Ts(t[e],t))})),t}));function Qa(t){return function(){return t}}var tc=Mi(),ec=Mi(!0);function nc(t){return t}function rc(t){return Pr("function"==typeof t?t:sr(t,1))}var ic=Kr((function(t,e){return function(n){return Tr(n,t,e)}})),oc=Kr((function(t,e){return function(n){return Tr(t,n,e)}}));function sc(t,e,n){var r=ka(e),i=br(e,r);null!=n||Qs(e)&&(i.length||!r.length)||(n=e,e=t,t=this,i=br(e,ka(e)));var o=!(Qs(n)&&"chain"in n&&!n.chain),s=Ys(t);return De(i,(function(n){var r=e[n];t[n]=r,s&&(t.prototype[n]=function(){var e=this.__chain__;if(o||e){var n=t(this.__wrapped__);return(n.__actions__=Ci(this.__actions__)).push({func:r,args:arguments,thisArg:t}),n.__chain__=e,n}return r.apply(t,Le([this.value()],arguments))})})),t}function ac(){}var cc=qi(Re),uc=qi(Ie),lc=qi(Ne);function hc(t){return yo(t)?Ve(Mo(t)):function(t){return function(e){return xr(e,t)}}(t)}var dc=ji(),fc=ji(!0);function pc(){return[]}function gc(){return!1}var vc,mc=Fi((function(t,e){return t+e}),0),yc=Wi("ceil"),wc=Fi((function(t,e){return t/e}),1),bc=Wi("floor"),xc=Fi((function(t,e){return t*e}),1),Sc=Wi("round"),Ec=Fi((function(t,e){return t-e}),0);return Un.after=function(t,e){if("function"!=typeof e)throw new It(o);return t=fa(t),function(){if(--t<1)return e.apply(this,arguments)}},Un.ary=Cs,Un.assign=ya,Un.assignIn=wa,Un.assignInWith=ba,Un.assignWith=xa,Un.at=Sa,Un.before=Is,Un.bind=Ts,Un.bindAll=Xa,Un.bindKey=_s,Un.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return Vs(t)?t:[t]},Un.chain=hs,Un.chunk=function(t,e,n){e=(n?mo(t,e,n):e===i)?1:vn(fa(e),0);var o=null==t?0:t.length;if(!o||e<1)return[];for(var s=0,a=0,c=r(de(o/e));s<o;)c[a++]=ti(t,s,s+=e);return c},Un.compact=function(t){for(var e=-1,n=null==t?0:t.length,r=0,i=[];++e<n;){var o=t[e];o&&(i[r++]=o)}return i},Un.concat=function(){var t=arguments.length;if(!t)return[];for(var e=r(t-1),n=arguments[0],i=t;i--;)e[i-1]=arguments[i];return Le(Vs(n)?Ci(n):[n],gr(e,1))},Un.cond=function(t){var e=null==t?0:t.length,n=oo();return t=e?Re(t,(function(t){if("function"!=typeof t[1])throw new It(o);return[n(t[0]),t[1]]})):[],Kr((function(n){for(var r=-1;++r<e;){var i=t[r];if(Ee(i[0],this,n))return Ee(i[1],this,n)}}))},Un.conforms=function(t){return function(t){var e=ka(t);return function(n){return ar(n,t,e)}}(sr(t,1))},Un.constant=Qa,Un.countBy=ps,Un.create=function(t,e){var n=Fn(t);return null==e?n:nr(n,e)},Un.curry=function t(e,n,r){var o=$i(e,8,i,i,i,i,i,n=r?i:n);return o.placeholder=t.placeholder,o},Un.curryRight=function t(e,n,r){var o=$i(e,16,i,i,i,i,i,n=r?i:n);return o.placeholder=t.placeholder,o},Un.debounce=ks,Un.defaults=Ea,Un.defaultsDeep=Aa,Un.defer=Rs,Un.delay=Ls,Un.difference=Fo,Un.differenceBy=qo,Un.differenceWith=Ho,Un.drop=function(t,e,n){var r=null==t?0:t.length;return r?ti(t,(e=n||e===i?1:fa(e))<0?0:e,r):[]},Un.dropRight=function(t,e,n){var r=null==t?0:t.length;return r?ti(t,0,(e=r-(e=n||e===i?1:fa(e)))<0?0:e):[]},Un.dropRightWhile=function(t,e){return t&&t.length?li(t,oo(e,3),!0,!0):[]},Un.dropWhile=function(t,e){return t&&t.length?li(t,oo(e,3),!0):[]},Un.fill=function(t,e,n,r){var o=null==t?0:t.length;return o?(n&&"number"!=typeof n&&mo(t,e,n)&&(n=0,r=o),function(t,e,n,r){var o=t.length;for((n=fa(n))<0&&(n=-n>o?0:o+n),(r=r===i||r>o?o:fa(r))<0&&(r+=o),r=n>r?0:pa(r);n<r;)t[n++]=e;return t}(t,e,n,r)):[]},Un.filter=function(t,e){return(Vs(t)?Te:pr)(t,oo(e,3))},Un.flatMap=function(t,e){return gr(Ss(t,e),1)},Un.flatMapDeep=function(t,e){return gr(Ss(t,e),l)},Un.flatMapDepth=function(t,e,n){return n=n===i?1:fa(n),gr(Ss(t,e),n)},Un.flatten=Go,Un.flattenDeep=function(t){return null!=t&&t.length?gr(t,l):[]},Un.flattenDepth=function(t,e){return null!=t&&t.length?gr(t,e=e===i?1:fa(e)):[]},Un.flip=function(t){return $i(t,512)},Un.flow=tc,Un.flowRight=ec,Un.fromPairs=function(t){for(var e=-1,n=null==t?0:t.length,r={};++e<n;){var i=t[e];r[i[0]]=i[1]}return r},Un.functions=function(t){return null==t?[]:br(t,ka(t))},Un.functionsIn=function(t){return null==t?[]:br(t,Ra(t))},Un.groupBy=ws,Un.initial=function(t){return null!=t&&t.length?ti(t,0,-1):[]},Un.intersection=zo,Un.intersectionBy=Ko,Un.intersectionWith=$o,Un.invert=Ia,Un.invertBy=Ta,Un.invokeMap=bs,Un.iteratee=rc,Un.keyBy=xs,Un.keys=ka,Un.keysIn=Ra,Un.map=Ss,Un.mapKeys=function(t,e){var n={};return e=oo(e,3),yr(t,(function(t,r,i){rr(n,e(t,r,i),t)})),n},Un.mapValues=function(t,e){var n={};return e=oo(e,3),yr(t,(function(t,r,i){rr(n,r,e(t,r,i))})),n},Un.matches=function(t){return Br(sr(t,1))},Un.matchesProperty=function(t,e){return Ur(t,sr(e,1))},Un.memoize=Ps,Un.merge=La,Un.mergeWith=Pa,Un.method=ic,Un.methodOf=oc,Un.mixin=sc,Un.negate=Os,Un.nthArg=function(t){return t=fa(t),Kr((function(e){return qr(e,t)}))},Un.omit=Oa,Un.omitBy=function(t,e){return Ma(t,Os(oo(e)))},Un.once=function(t){return Is(2,t)},Un.orderBy=function(t,e,n,r){return null==t?[]:(Vs(e)||(e=null==e?[]:[e]),Vs(n=r?i:n)||(n=null==n?[]:[n]),Hr(t,e,n))},Un.over=cc,Un.overArgs=Ns,Un.overEvery=uc,Un.overSome=lc,Un.partial=Ms,Un.partialRight=Bs,Un.partition=Es,Un.pick=Na,Un.pickBy=Ma,Un.property=hc,Un.propertyOf=function(t){return function(e){return null==t?i:xr(t,e)}},Un.pull=Yo,Un.pullAll=Zo,Un.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?Vr(t,e,oo(n,2)):t},Un.pullAllWith=function(t,e,n){return t&&t.length&&e&&e.length?Vr(t,e,i,n):t},Un.pullAt=Xo,Un.range=dc,Un.rangeRight=fc,Un.rearg=Us,Un.reject=function(t,e){return(Vs(t)?Te:pr)(t,Os(oo(e,3)))},Un.remove=function(t,e){var n=[];if(!t||!t.length)return n;var r=-1,i=[],o=t.length;for(e=oo(e,3);++r<o;){var s=t[r];e(s,r,t)&&(n.push(s),i.push(r))}return Gr(t,i),n},Un.rest=function(t,e){if("function"!=typeof t)throw new It(o);return Kr(t,e=e===i?e:fa(e))},Un.reverse=Qo,Un.sampleSize=function(t,e,n){return e=(n?mo(t,e,n):e===i)?1:fa(e),(Vs(t)?Yn:Jr)(t,e)},Un.set=function(t,e,n){return null==t?t:Yr(t,e,n)},Un.setWith=function(t,e,n,r){return r="function"==typeof r?r:i,null==t?t:Yr(t,e,n,r)},Un.shuffle=function(t){return(Vs(t)?Zn:Qr)(t)},Un.slice=function(t,e,n){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&mo(t,e,n)?(e=0,n=r):(e=null==e?0:fa(e),n=n===i?r:fa(n)),ti(t,e,n)):[]},Un.sortBy=As,Un.sortedUniq=function(t){return t&&t.length?ii(t):[]},Un.sortedUniqBy=function(t,e){return t&&t.length?ii(t,oo(e,2)):[]},Un.split=function(t,e,n){return n&&"number"!=typeof n&&mo(t,e,n)&&(e=n=i),(n=n===i?f:n>>>0)?(t=ma(t))&&("string"==typeof e||null!=e&&!ia(e))&&!(e=si(e))&&rn(t)?yi(hn(t),0,n):t.split(e,n):[]},Un.spread=function(t,e){if("function"!=typeof t)throw new It(o);return e=null==e?0:vn(fa(e),0),Kr((function(n){var r=n[e],i=yi(n,0,e);return r&&Le(i,r),Ee(t,this,i)}))},Un.tail=function(t){var e=null==t?0:t.length;return e?ti(t,1,e):[]},Un.take=function(t,e,n){return t&&t.length?ti(t,0,(e=n||e===i?1:fa(e))<0?0:e):[]},Un.takeRight=function(t,e,n){var r=null==t?0:t.length;return r?ti(t,(e=r-(e=n||e===i?1:fa(e)))<0?0:e,r):[]},Un.takeRightWhile=function(t,e){return t&&t.length?li(t,oo(e,3),!1,!0):[]},Un.takeWhile=function(t,e){return t&&t.length?li(t,oo(e,3)):[]},Un.tap=function(t,e){return e(t),t},Un.throttle=function(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new It(o);return Qs(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),ks(t,e,{leading:r,maxWait:e,trailing:i})},Un.thru=ds,Un.toArray=ha,Un.toPairs=Ba,Un.toPairsIn=Ua,Un.toPath=function(t){return Vs(t)?Re(t,Mo):aa(t)?[t]:Ci(No(ma(t)))},Un.toPlainObject=va,Un.transform=function(t,e,n){var r=Vs(t),i=r||Ks(t)||ca(t);if(e=oo(e,4),null==n){var o=t&&t.constructor;n=i?r?new o:[]:Qs(t)&&Ys(o)?Fn(Gt(t)):{}}return(i?De:yr)(t,(function(t,r,i){return e(n,t,r,i)})),n},Un.unary=function(t){return Cs(t,1)},Un.union=ts,Un.unionBy=es,Un.unionWith=ns,Un.uniq=function(t){return t&&t.length?ai(t):[]},Un.uniqBy=function(t,e){return t&&t.length?ai(t,oo(e,2)):[]},Un.uniqWith=function(t,e){return e="function"==typeof e?e:i,t&&t.length?ai(t,i,e):[]},Un.unset=function(t,e){return null==t||ci(t,e)},Un.unzip=rs,Un.unzipWith=is,Un.update=function(t,e,n){return null==t?t:ui(t,e,gi(n))},Un.updateWith=function(t,e,n,r){return r="function"==typeof r?r:i,null==t?t:ui(t,e,gi(n),r)},Un.values=Fa,Un.valuesIn=function(t){return null==t?[]:Ye(t,Ra(t))},Un.without=os,Un.words=Ya,Un.wrap=function(t,e){return Ms(gi(e),t)},Un.xor=ss,Un.xorBy=as,Un.xorWith=cs,Un.zip=us,Un.zipObject=function(t,e){return fi(t||[],e||[],Qn)},Un.zipObjectDeep=function(t,e){return fi(t||[],e||[],Yr)},Un.zipWith=ls,Un.entries=Ba,Un.entriesIn=Ua,Un.extend=wa,Un.extendWith=ba,sc(Un,Un),Un.add=mc,Un.attempt=Za,Un.camelCase=qa,Un.capitalize=Ha,Un.ceil=yc,Un.clamp=function(t,e,n){return n===i&&(n=e,e=i),n!==i&&(n=(n=ga(n))==n?n:0),e!==i&&(e=(e=ga(e))==e?e:0),or(ga(t),e,n)},Un.clone=function(t){return sr(t,4)},Un.cloneDeep=function(t){return sr(t,5)},Un.cloneDeepWith=function(t,e){return sr(t,5,e="function"==typeof e?e:i)},Un.cloneWith=function(t,e){return sr(t,4,e="function"==typeof e?e:i)},Un.conformsTo=function(t,e){return null==e||ar(t,e,ka(e))},Un.deburr=ja,Un.defaultTo=function(t,e){return null==t||t!=t?e:t},Un.divide=wc,Un.endsWith=function(t,e,n){t=ma(t),e=si(e);var r=t.length,o=n=n===i?r:or(fa(n),0,r);return(n-=e.length)>=0&&t.slice(n,o)==e},Un.eq=Fs,Un.escape=function(t){return(t=ma(t))&&$.test(t)?t.replace(z,en):t},Un.escapeRegExp=function(t){return(t=ma(t))&&nt.test(t)?t.replace(et,"\\$&"):t},Un.every=function(t,e,n){var r=Vs(t)?Ie:dr;return n&&mo(t,e,n)&&(e=i),r(t,oo(e,3))},Un.find=gs,Un.findIndex=jo,Un.findKey=function(t,e){return Be(t,oo(e,3),yr)},Un.findLast=vs,Un.findLastIndex=Vo,Un.findLastKey=function(t,e){return Be(t,oo(e,3),wr)},Un.floor=bc,Un.forEach=ms,Un.forEachRight=ys,Un.forIn=function(t,e){return null==t?t:vr(t,oo(e,3),Ra)},Un.forInRight=function(t,e){return null==t?t:mr(t,oo(e,3),Ra)},Un.forOwn=function(t,e){return t&&yr(t,oo(e,3))},Un.forOwnRight=function(t,e){return t&&wr(t,oo(e,3))},Un.get=Da,Un.gt=qs,Un.gte=Hs,Un.has=function(t,e){return null!=t&&fo(t,e,Dr)},Un.hasIn=Ca,Un.head=Wo,Un.identity=nc,Un.includes=function(t,e,n,r){t=Ws(t)?t:Fa(t),n=n&&!r?fa(n):0;var i=t.length;return n<0&&(n=vn(i+n,0)),sa(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&Fe(t,e,n)>-1},Un.indexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:fa(n);return i<0&&(i=vn(r+i,0)),Fe(t,e,i)},Un.inRange=function(t,e,n){return e=da(e),n===i?(n=e,e=0):n=da(n),function(t,e,n){return t>=mn(e,n)&&t<vn(e,n)}(t=ga(t),e,n)},Un.invoke=_a,Un.isArguments=js,Un.isArray=Vs,Un.isArrayBuffer=Gs,Un.isArrayLike=Ws,Un.isArrayLikeObject=zs,Un.isBoolean=function(t){return!0===t||!1===t||ta(t)&&Er(t)==m},Un.isBuffer=Ks,Un.isDate=$s,Un.isElement=function(t){return ta(t)&&1===t.nodeType&&!ra(t)},Un.isEmpty=function(t){if(null==t)return!0;if(Ws(t)&&(Vs(t)||"string"==typeof t||"function"==typeof t.splice||Ks(t)||ca(t)||js(t)))return!t.length;var e=ho(t);if(e==S||e==I)return!t.size;if(xo(t))return!Or(t).length;for(var n in t)if(Pt.call(t,n))return!1;return!0},Un.isEqual=function(t,e){return kr(t,e)},Un.isEqualWith=function(t,e,n){var r=(n="function"==typeof n?n:i)?n(t,e):i;return r===i?kr(t,e,i,n):!!r},Un.isError=Js,Un.isFinite=function(t){return"number"==typeof t&&Me(t)},Un.isFunction=Ys,Un.isInteger=Zs,Un.isLength=Xs,Un.isMap=ea,Un.isMatch=function(t,e){return t===e||Rr(t,e,ao(e))},Un.isMatchWith=function(t,e,n){return n="function"==typeof n?n:i,Rr(t,e,ao(e),n)},Un.isNaN=function(t){return na(t)&&t!=+t},Un.isNative=function(t){if(bo(t))throw new xt("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Lr(t)},Un.isNil=function(t){return null==t},Un.isNull=function(t){return null===t},Un.isNumber=na,Un.isObject=Qs,Un.isObjectLike=ta,Un.isPlainObject=ra,Un.isRegExp=ia,Un.isSafeInteger=function(t){return Zs(t)&&t>=-9007199254740991&&t<=h},Un.isSet=oa,Un.isString=sa,Un.isSymbol=aa,Un.isTypedArray=ca,Un.isUndefined=function(t){return t===i},Un.isWeakMap=function(t){return ta(t)&&ho(t)==k},Un.isWeakSet=function(t){return ta(t)&&"[object WeakSet]"==Er(t)},Un.join=function(t,e){return null==t?"":Ge.call(t,e)},Un.kebabCase=Va,Un.last=Jo,Un.lastIndexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var o=r;return n!==i&&(o=(o=fa(n))<0?vn(r+o,0):mn(o,r-1)),e==e?function(t,e,n){for(var r=n+1;r--;)if(t[r]===e)return r;return r}(t,e,o):Ue(t,He,o,!0)},Un.lowerCase=Ga,Un.lowerFirst=Wa,Un.lt=ua,Un.lte=la,Un.max=function(t){return t&&t.length?fr(t,nc,Ar):i},Un.maxBy=function(t,e){return t&&t.length?fr(t,oo(e,2),Ar):i},Un.mean=function(t){return je(t,nc)},Un.meanBy=function(t,e){return je(t,oo(e,2))},Un.min=function(t){return t&&t.length?fr(t,nc,Nr):i},Un.minBy=function(t,e){return t&&t.length?fr(t,oo(e,2),Nr):i},Un.stubArray=pc,Un.stubFalse=gc,Un.stubObject=function(){return{}},Un.stubString=function(){return""},Un.stubTrue=function(){return!0},Un.multiply=xc,Un.nth=function(t,e){return t&&t.length?qr(t,fa(e)):i},Un.noConflict=function(){return he._===this&&(he._=Ut),this},Un.noop=ac,Un.now=Ds,Un.pad=function(t,e,n){t=ma(t);var r=(e=fa(e))?ln(t):0;if(!e||r>=e)return t;var i=(e-r)/2;return Hi(fe(i),n)+t+Hi(de(i),n)},Un.padEnd=function(t,e,n){t=ma(t);var r=(e=fa(e))?ln(t):0;return e&&r<e?t+Hi(e-r,n):t},Un.padStart=function(t,e,n){t=ma(t);var r=(e=fa(e))?ln(t):0;return e&&r<e?Hi(e-r,n)+t:t},Un.parseInt=function(t,e,n){return n||null==e?e=0:e&&(e=+e),wn(ma(t).replace(rt,""),e||0)},Un.random=function(t,e,n){if(n&&"boolean"!=typeof n&&mo(t,e,n)&&(e=n=i),n===i&&("boolean"==typeof e?(n=e,e=i):"boolean"==typeof t&&(n=t,t=i)),t===i&&e===i?(t=0,e=1):(t=da(t),e===i?(e=t,t=0):e=da(e)),t>e){var r=t;t=e,e=r}if(n||t%1||e%1){var o=bn();return mn(t+o*(e-t+ae("1e-"+((o+"").length-1))),e)}return Wr(t,e)},Un.reduce=function(t,e,n){var r=Vs(t)?Pe:We,i=arguments.length<3;return r(t,oo(e,4),n,i,lr)},Un.reduceRight=function(t,e,n){var r=Vs(t)?Oe:We,i=arguments.length<3;return r(t,oo(e,4),n,i,hr)},Un.repeat=function(t,e,n){return e=(n?mo(t,e,n):e===i)?1:fa(e),zr(ma(t),e)},Un.replace=function(){var t=arguments,e=ma(t[0]);return t.length<3?e:e.replace(t[1],t[2])},Un.result=function(t,e,n){var r=-1,o=(e=vi(e,t)).length;for(o||(o=1,t=i);++r<o;){var s=null==t?i:t[Mo(e[r])];s===i&&(r=o,s=n),t=Ys(s)?s.call(t):s}return t},Un.round=Sc,Un.runInContext=t,Un.sample=function(t){return(Vs(t)?Jn:$r)(t)},Un.size=function(t){if(null==t)return 0;if(Ws(t))return sa(t)?ln(t):t.length;var e=ho(t);return e==S||e==I?t.size:Or(t).length},Un.snakeCase=za,Un.some=function(t,e,n){var r=Vs(t)?Ne:ei;return n&&mo(t,e,n)&&(e=i),r(t,oo(e,3))},Un.sortedIndex=function(t,e){return ni(t,e)},Un.sortedIndexBy=function(t,e,n){return ri(t,e,oo(n,2))},Un.sortedIndexOf=function(t,e){var n=null==t?0:t.length;if(n){var r=ni(t,e);if(r<n&&Fs(t[r],e))return r}return-1},Un.sortedLastIndex=function(t,e){return ni(t,e,!0)},Un.sortedLastIndexBy=function(t,e,n){return ri(t,e,oo(n,2),!0)},Un.sortedLastIndexOf=function(t,e){if(null!=t&&t.length){var n=ni(t,e,!0)-1;if(Fs(t[n],e))return n}return-1},Un.startCase=Ka,Un.startsWith=function(t,e,n){return t=ma(t),n=null==n?0:or(fa(n),0,t.length),e=si(e),t.slice(n,n+e.length)==e},Un.subtract=Ec,Un.sum=function(t){return t&&t.length?ze(t,nc):0},Un.sumBy=function(t,e){return t&&t.length?ze(t,oo(e,2)):0},Un.template=function(t,e,n){var r=Un.templateSettings;n&&mo(t,e,n)&&(e=i),t=ma(t),e=ba({},e,r,Ji);var o,s,a=ba({},e.imports,r.imports,Ji),c=ka(a),u=Ye(a,c),l=0,h=e.interpolate||wt,d="__p += '",f=Dt((e.escape||wt).source+"|"+h.source+"|"+(h===Z?ht:wt).source+"|"+(e.evaluate||wt).source+"|$","g"),p="//# sourceURL="+(Pt.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++re+"]")+"\n";t.replace(f,(function(e,n,r,i,a,c){return r||(r=i),d+=t.slice(l,c).replace(bt,nn),n&&(o=!0,d+="' +\n__e("+n+") +\n'"),a&&(s=!0,d+="';\n"+a+";\n__p += '"),r&&(d+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),l=c+e.length,e})),d+="';\n";var g=Pt.call(e,"variable")&&e.variable;if(g){if(ut.test(g))throw new xt("Invalid `variable` option passed into `_.template`")}else d="with (obj) {\n"+d+"\n}\n";d=(s?d.replace(j,""):d).replace(V,"$1").replace(G,"$1;"),d="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var v=Za((function(){return St(c,p+"return "+d).apply(i,u)}));if(v.source=d,Js(v))throw v;return v},Un.times=function(t,e){if((t=fa(t))<1||t>h)return[];var n=f,r=mn(t,f);e=oo(e),t-=f;for(var i=Ke(r,e);++n<t;)e(n);return i},Un.toFinite=da,Un.toInteger=fa,Un.toLength=pa,Un.toLower=function(t){return ma(t).toLowerCase()},Un.toNumber=ga,Un.toSafeInteger=function(t){return t?or(fa(t),-9007199254740991,h):0===t?t:0},Un.toString=ma,Un.toUpper=function(t){return ma(t).toUpperCase()},Un.trim=function(t,e,n){if((t=ma(t))&&(n||e===i))return $e(t);if(!t||!(e=si(e)))return t;var r=hn(t),o=hn(e);return yi(r,Xe(r,o),Qe(r,o)+1).join("")},Un.trimEnd=function(t,e,n){if((t=ma(t))&&(n||e===i))return t.slice(0,dn(t)+1);if(!t||!(e=si(e)))return t;var r=hn(t);return yi(r,0,Qe(r,hn(e))+1).join("")},Un.trimStart=function(t,e,n){if((t=ma(t))&&(n||e===i))return t.replace(rt,"");if(!t||!(e=si(e)))return t;var r=hn(t);return yi(r,Xe(r,hn(e))).join("")},Un.truncate=function(t,e){var n=30,r="...";if(Qs(e)){var o="separator"in e?e.separator:o;n="length"in e?fa(e.length):n,r="omission"in e?si(e.omission):r}var s=(t=ma(t)).length;if(rn(t)){var a=hn(t);s=a.length}if(n>=s)return t;var c=n-ln(r);if(c<1)return r;var u=a?yi(a,0,c).join(""):t.slice(0,c);if(o===i)return u+r;if(a&&(c+=u.length-c),ia(o)){if(t.slice(c).search(o)){var l,h=u;for(o.global||(o=Dt(o.source,ma(dt.exec(o))+"g")),o.lastIndex=0;l=o.exec(h);)var d=l.index;u=u.slice(0,d===i?c:d)}}else if(t.indexOf(si(o),c)!=c){var f=u.lastIndexOf(o);f>-1&&(u=u.slice(0,f))}return u+r},Un.unescape=function(t){return(t=ma(t))&&K.test(t)?t.replace(W,fn):t},Un.uniqueId=function(t){var e=++Ot;return ma(t)+e},Un.upperCase=$a,Un.upperFirst=Ja,Un.each=ms,Un.eachRight=ys,Un.first=Wo,sc(Un,(vc={},yr(Un,(function(t,e){Pt.call(Un.prototype,e)||(vc[e]=t)})),vc),{chain:!1}),Un.VERSION="4.17.21",De(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){Un[t].placeholder=Un})),De(["drop","take"],(function(t,e){jn.prototype[t]=function(n){n=n===i?1:vn(fa(n),0);var r=this.__filtered__&&!e?new jn(this):this.clone();return r.__filtered__?r.__takeCount__=mn(n,r.__takeCount__):r.__views__.push({size:mn(n,f),type:t+(r.__dir__<0?"Right":"")}),r},jn.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),De(["filter","map","takeWhile"],(function(t,e){var n=e+1,r=1==n||3==n;jn.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:oo(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}})),De(["head","last"],(function(t,e){var n="take"+(e?"Right":"");jn.prototype[t]=function(){return this[n](1).value()[0]}})),De(["initial","tail"],(function(t,e){var n="drop"+(e?"":"Right");jn.prototype[t]=function(){return this.__filtered__?new jn(this):this[n](1)}})),jn.prototype.compact=function(){return this.filter(nc)},jn.prototype.find=function(t){return this.filter(t).head()},jn.prototype.findLast=function(t){return this.reverse().find(t)},jn.prototype.invokeMap=Kr((function(t,e){return"function"==typeof t?new jn(this):this.map((function(n){return Tr(n,t,e)}))})),jn.prototype.reject=function(t){return this.filter(Os(oo(t)))},jn.prototype.slice=function(t,e){t=fa(t);var n=this;return n.__filtered__&&(t>0||e<0)?new jn(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==i&&(n=(e=fa(e))<0?n.dropRight(-e):n.take(e-t)),n)},jn.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},jn.prototype.toArray=function(){return this.take(f)},yr(jn.prototype,(function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),r=/^(?:head|last)$/.test(e),o=Un[r?"take"+("last"==e?"Right":""):e],s=r||/^find/.test(e);o&&(Un.prototype[e]=function(){var e=this.__wrapped__,a=r?[1]:arguments,c=e instanceof jn,u=a[0],l=c||Vs(e),h=function(t){var e=o.apply(Un,Le([t],a));return r&&d?e[0]:e};l&&n&&"function"==typeof u&&1!=u.length&&(c=l=!1);var d=this.__chain__,f=!!this.__actions__.length,p=s&&!d,g=c&&!f;if(!s&&l){e=g?e:new jn(this);var v=t.apply(e,a);return v.__actions__.push({func:ds,args:[h],thisArg:i}),new Hn(v,d)}return p&&g?t.apply(this,a):(v=this.thru(h),p?r?v.value()[0]:v.value():v)})})),De(["pop","push","shift","sort","splice","unshift"],(function(t){var e=Tt[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);Un.prototype[t]=function(){var t=arguments;if(r&&!this.__chain__){var i=this.value();return e.apply(Vs(i)?i:[],t)}return this[n]((function(n){return e.apply(Vs(n)?n:[],t)}))}})),yr(jn.prototype,(function(t,e){var n=Un[e];if(n){var r=n.name+"";Pt.call(_n,r)||(_n[r]=[]),_n[r].push({name:e,func:n})}})),_n[Bi(i,2).name]=[{name:"wrapper",func:i}],jn.prototype.clone=function(){var t=new jn(this.__wrapped__);return t.__actions__=Ci(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Ci(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Ci(this.__views__),t},jn.prototype.reverse=function(){if(this.__filtered__){var t=new jn(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},jn.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=Vs(t),r=e<0,i=n?t.length:0,o=function(t,e,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],s=o.size;switch(o.type){case"drop":t+=s;break;case"dropRight":e-=s;break;case"take":e=mn(e,t+s);break;case"takeRight":t=vn(t,e-s)}}return{start:t,end:e}}(0,i,this.__views__),s=o.start,a=o.end,c=a-s,u=r?a:s-1,l=this.__iteratees__,h=l.length,d=0,f=mn(c,this.__takeCount__);if(!n||!r&&i==c&&f==c)return hi(t,this.__actions__);var p=[];t:for(;c--&&d<f;){for(var g=-1,v=t[u+=e];++g<h;){var m=l[g],y=m.iteratee,w=m.type,b=y(v);if(2==w)v=b;else if(!b){if(1==w)continue t;break t}}p[d++]=v}return p},Un.prototype.at=fs,Un.prototype.chain=function(){return hs(this)},Un.prototype.commit=function(){return new Hn(this.value(),this.__chain__)},Un.prototype.next=function(){this.__values__===i&&(this.__values__=ha(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?i:this.__values__[this.__index__++]}},Un.prototype.plant=function(t){for(var e,n=this;n instanceof qn;){var r=Uo(n);r.__index__=0,r.__values__=i,e?o.__wrapped__=r:e=r;var o=r;n=n.__wrapped__}return o.__wrapped__=t,e},Un.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof jn){var e=t;return this.__actions__.length&&(e=new jn(this)),(e=e.reverse()).__actions__.push({func:ds,args:[Qo],thisArg:i}),new Hn(e,this.__chain__)}return this.thru(Qo)},Un.prototype.toJSON=Un.prototype.valueOf=Un.prototype.value=function(){return hi(this.__wrapped__,this.__actions__)},Un.prototype.first=Un.prototype.head,Jt&&(Un.prototype[Jt]=function(){return this}),Un}();he._=pn,(r=function(){return pn}.call(e,n,e,t))===i||(t.exports=r)}.call(this)},7429:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"NIL",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e,"parse",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(e,"v1",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e,"v3",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(e,"v4",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"v5",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(e,"validate",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(e,"version",{enumerable:!0,get:function(){return c.default}});var r=d(n(3990)),i=d(n(8237)),o=d(n(5355)),s=d(n(3764)),a=d(n(6314)),c=d(n(8464)),u=d(n(6435)),l=d(n(4008)),h=d(n(8222));function d(t){return t&&t.__esModule?t:{default:t}}},4163:(t,e)=>{"use strict";function n(t){return 14+(t+64>>>9<<4)+1}function r(t,e){const n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}function i(t,e,n,i,o,s){return r((a=r(r(e,t),r(i,s)))<<(c=o)|a>>>32-c,n);var a,c}function o(t,e,n,r,o,s,a){return i(e&n|~e&r,t,e,o,s,a)}function s(t,e,n,r,o,s,a){return i(e&r|n&~r,t,e,o,s,a)}function a(t,e,n,r,o,s,a){return i(e^n^r,t,e,o,s,a)}function c(t,e,n,r,o,s,a){return i(n^(e|~r),t,e,o,s,a)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default=function(t){if("string"==typeof t){const e=unescape(encodeURIComponent(t));t=new Uint8Array(e.length);for(let n=0;n<e.length;++n)t[n]=e.charCodeAt(n)}return function(t){const e=[],n=32*t.length,r="0123456789abcdef";for(let i=0;i<n;i+=8){const n=t[i>>5]>>>i%32&255,o=parseInt(r.charAt(n>>>4&15)+r.charAt(15&n),16);e.push(o)}return e}(function(t,e){t[e>>5]|=128<<e%32,t[n(e)-1]=e;let i=1732584193,u=-271733879,l=-1732584194,h=271733878;for(let e=0;e<t.length;e+=16){const n=i,d=u,f=l,p=h;i=o(i,u,l,h,t[e],7,-680876936),h=o(h,i,u,l,t[e+1],12,-389564586),l=o(l,h,i,u,t[e+2],17,606105819),u=o(u,l,h,i,t[e+3],22,-1044525330),i=o(i,u,l,h,t[e+4],7,-176418897),h=o(h,i,u,l,t[e+5],12,1200080426),l=o(l,h,i,u,t[e+6],17,-1473231341),u=o(u,l,h,i,t[e+7],22,-45705983),i=o(i,u,l,h,t[e+8],7,1770035416),h=o(h,i,u,l,t[e+9],12,-1958414417),l=o(l,h,i,u,t[e+10],17,-42063),u=o(u,l,h,i,t[e+11],22,-1990404162),i=o(i,u,l,h,t[e+12],7,1804603682),h=o(h,i,u,l,t[e+13],12,-40341101),l=o(l,h,i,u,t[e+14],17,-1502002290),u=o(u,l,h,i,t[e+15],22,1236535329),i=s(i,u,l,h,t[e+1],5,-165796510),h=s(h,i,u,l,t[e+6],9,-1069501632),l=s(l,h,i,u,t[e+11],14,643717713),u=s(u,l,h,i,t[e],20,-373897302),i=s(i,u,l,h,t[e+5],5,-701558691),h=s(h,i,u,l,t[e+10],9,38016083),l=s(l,h,i,u,t[e+15],14,-660478335),u=s(u,l,h,i,t[e+4],20,-405537848),i=s(i,u,l,h,t[e+9],5,568446438),h=s(h,i,u,l,t[e+14],9,-1019803690),l=s(l,h,i,u,t[e+3],14,-187363961),u=s(u,l,h,i,t[e+8],20,1163531501),i=s(i,u,l,h,t[e+13],5,-1444681467),h=s(h,i,u,l,t[e+2],9,-51403784),l=s(l,h,i,u,t[e+7],14,1735328473),u=s(u,l,h,i,t[e+12],20,-1926607734),i=a(i,u,l,h,t[e+5],4,-378558),h=a(h,i,u,l,t[e+8],11,-2022574463),l=a(l,h,i,u,t[e+11],16,1839030562),u=a(u,l,h,i,t[e+14],23,-35309556),i=a(i,u,l,h,t[e+1],4,-1530992060),h=a(h,i,u,l,t[e+4],11,1272893353),l=a(l,h,i,u,t[e+7],16,-155497632),u=a(u,l,h,i,t[e+10],23,-1094730640),i=a(i,u,l,h,t[e+13],4,681279174),h=a(h,i,u,l,t[e],11,-358537222),l=a(l,h,i,u,t[e+3],16,-722521979),u=a(u,l,h,i,t[e+6],23,76029189),i=a(i,u,l,h,t[e+9],4,-640364487),h=a(h,i,u,l,t[e+12],11,-421815835),l=a(l,h,i,u,t[e+15],16,530742520),u=a(u,l,h,i,t[e+2],23,-995338651),i=c(i,u,l,h,t[e],6,-198630844),h=c(h,i,u,l,t[e+7],10,1126891415),l=c(l,h,i,u,t[e+14],15,-1416354905),u=c(u,l,h,i,t[e+5],21,-57434055),i=c(i,u,l,h,t[e+12],6,1700485571),h=c(h,i,u,l,t[e+3],10,-1894986606),l=c(l,h,i,u,t[e+10],15,-1051523),u=c(u,l,h,i,t[e+1],21,-2054922799),i=c(i,u,l,h,t[e+8],6,1873313359),h=c(h,i,u,l,t[e+15],10,-30611744),l=c(l,h,i,u,t[e+6],15,-1560198380),u=c(u,l,h,i,t[e+13],21,1309151649),i=c(i,u,l,h,t[e+4],6,-145523070),h=c(h,i,u,l,t[e+11],10,-1120210379),l=c(l,h,i,u,t[e+2],15,718787259),u=c(u,l,h,i,t[e+9],21,-343485551),i=r(i,n),u=r(u,d),l=r(l,f),h=r(h,p)}return[i,u,l,h]}(function(t){if(0===t.length)return[];const e=8*t.length,r=new Uint32Array(n(e));for(let n=0;n<e;n+=8)r[n>>5]|=(255&t[n/8])<<n%32;return r}(t),8*t.length))}},4790:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};e.default=n},6314:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,e.default="00000000-0000-0000-0000-000000000000"},8222:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,i=(r=n(6435))&&r.__esModule?r:{default:r};e.default=function(t){if(!(0,i.default)(t))throw TypeError("Invalid UUID");let e;const n=new Uint8Array(16);return n[0]=(e=parseInt(t.slice(0,8),16))>>>24,n[1]=e>>>16&255,n[2]=e>>>8&255,n[3]=255&e,n[4]=(e=parseInt(t.slice(9,13),16))>>>8,n[5]=255&e,n[6]=(e=parseInt(t.slice(14,18),16))>>>8,n[7]=255&e,n[8]=(e=parseInt(t.slice(19,23),16))>>>8,n[9]=255&e,n[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,n[11]=e/4294967296&255,n[12]=e>>>24&255,n[13]=e>>>16&255,n[14]=e>>>8&255,n[15]=255&e,n}},58:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,e.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i},3319:(t,e)=>{"use strict";let n;Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){if(!n&&(n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!n))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(r)};const r=new Uint8Array(16)},3757:(t,e)=>{"use strict";function n(t,e,n,r){switch(t){case 0:return e&n^~e&r;case 1:case 3:return e^n^r;case 2:return e&n^e&r^n&r}}function r(t,e){return t<<e|t>>>32-e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default=function(t){const e=[1518500249,1859775393,2400959708,3395469782],i=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof t){const e=unescape(encodeURIComponent(t));t=[];for(let n=0;n<e.length;++n)t.push(e.charCodeAt(n))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);const o=t.length/4+2,s=Math.ceil(o/16),a=new Array(s);for(let e=0;e<s;++e){const n=new Uint32Array(16);for(let r=0;r<16;++r)n[r]=t[64*e+4*r]<<24|t[64*e+4*r+1]<<16|t[64*e+4*r+2]<<8|t[64*e+4*r+3];a[e]=n}a[s-1][14]=8*(t.length-1)/Math.pow(2,32),a[s-1][14]=Math.floor(a[s-1][14]),a[s-1][15]=8*(t.length-1)&4294967295;for(let t=0;t<s;++t){const o=new Uint32Array(80);for(let e=0;e<16;++e)o[e]=a[t][e];for(let t=16;t<80;++t)o[t]=r(o[t-3]^o[t-8]^o[t-14]^o[t-16],1);let s=i[0],c=i[1],u=i[2],l=i[3],h=i[4];for(let t=0;t<80;++t){const i=Math.floor(t/20),a=r(s,5)+n(i,c,u,l)+h+e[i]+o[t]>>>0;h=l,l=u,u=r(c,30)>>>0,c=s,s=a}i[0]=i[0]+s>>>0,i[1]=i[1]+c>>>0,i[2]=i[2]+u>>>0,i[3]=i[3]+l>>>0,i[4]=i[4]+h>>>0}return[i[0]>>24&255,i[0]>>16&255,i[0]>>8&255,255&i[0],i[1]>>24&255,i[1]>>16&255,i[1]>>8&255,255&i[1],i[2]>>24&255,i[2]>>16&255,i[2]>>8&255,255&i[2],i[3]>>24&255,i[3]>>16&255,i[3]>>8&255,255&i[3],i[4]>>24&255,i[4]>>16&255,i[4]>>8&255,255&i[4]]}},4008:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,e.unsafeStringify=s;var r,i=(r=n(6435))&&r.__esModule?r:{default:r};const o=[];for(let t=0;t<256;++t)o.push((t+256).toString(16).slice(1));function s(t,e=0){return(o[t[e+0]]+o[t[e+1]]+o[t[e+2]]+o[t[e+3]]+"-"+o[t[e+4]]+o[t[e+5]]+"-"+o[t[e+6]]+o[t[e+7]]+"-"+o[t[e+8]]+o[t[e+9]]+"-"+o[t[e+10]]+o[t[e+11]]+o[t[e+12]]+o[t[e+13]]+o[t[e+14]]+o[t[e+15]]).toLowerCase()}e.default=function(t,e=0){const n=s(t,e);if(!(0,i.default)(n))throw TypeError("Stringified UUID is invalid");return n}},3990:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,i=(r=n(3319))&&r.__esModule?r:{default:r},o=n(4008);let s,a,c=0,u=0;e.default=function(t,e,n){let r=e&&n||0;const l=e||new Array(16);let h=(t=t||{}).node||s,d=void 0!==t.clockseq?t.clockseq:a;if(null==h||null==d){const e=t.random||(t.rng||i.default)();null==h&&(h=s=[1|e[0],e[1],e[2],e[3],e[4],e[5]]),null==d&&(d=a=16383&(e[6]<<8|e[7]))}let f=void 0!==t.msecs?t.msecs:Date.now(),p=void 0!==t.nsecs?t.nsecs:u+1;const g=f-c+(p-u)/1e4;if(g<0&&void 0===t.clockseq&&(d=d+1&16383),(g<0||f>c)&&void 0===t.nsecs&&(p=0),p>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");c=f,u=p,a=d,f+=122192928e5;const v=(1e4*(268435455&f)+p)%4294967296;l[r++]=v>>>24&255,l[r++]=v>>>16&255,l[r++]=v>>>8&255,l[r++]=255&v;const m=f/4294967296*1e4&268435455;l[r++]=m>>>8&255,l[r++]=255&m,l[r++]=m>>>24&15|16,l[r++]=m>>>16&255,l[r++]=d>>>8|128,l[r++]=255&d;for(let t=0;t<6;++t)l[r+t]=h[t];return e||(0,o.unsafeStringify)(l)}},8237:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=o(n(7925)),i=o(n(4163));function o(t){return t&&t.__esModule?t:{default:t}}var s=(0,r.default)("v3",48,i.default);e.default=s},7925:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.URL=e.DNS=void 0,e.default=function(t,e,n){function r(t,r,s,a){var c;if("string"==typeof t&&(t=function(t){t=unescape(encodeURIComponent(t));const e=[];for(let n=0;n<t.length;++n)e.push(t.charCodeAt(n));return e}(t)),"string"==typeof r&&(r=(0,o.default)(r)),16!==(null===(c=r)||void 0===c?void 0:c.length))throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let u=new Uint8Array(16+t.length);if(u.set(r),u.set(t,r.length),u=n(u),u[6]=15&u[6]|e,u[8]=63&u[8]|128,s){a=a||0;for(let t=0;t<16;++t)s[a+t]=u[t];return s}return(0,i.unsafeStringify)(u)}try{r.name=t}catch(t){}return r.DNS=s,r.URL=a,r};var r,i=n(4008),o=(r=n(8222))&&r.__esModule?r:{default:r};const s="6ba7b810-9dad-11d1-80b4-00c04fd430c8";e.DNS=s;const a="6ba7b811-9dad-11d1-80b4-00c04fd430c8";e.URL=a},5355:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=s(n(4790)),i=s(n(3319)),o=n(4008);function s(t){return t&&t.__esModule?t:{default:t}}e.default=function(t,e,n){if(r.default.randomUUID&&!e&&!t)return r.default.randomUUID();const s=(t=t||{}).random||(t.rng||i.default)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,e){n=n||0;for(let t=0;t<16;++t)e[n+t]=s[t];return e}return(0,o.unsafeStringify)(s)}},3764:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=o(n(7925)),i=o(n(3757));function o(t){return t&&t.__esModule?t:{default:t}}var s=(0,r.default)("v5",80,i.default);e.default=s},6435:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,i=(r=n(58))&&r.__esModule?r:{default:r};e.default=function(t){return"string"==typeof t&&i.default.test(t)}},8464:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,i=(r=n(6435))&&r.__esModule?r:{default:r};e.default=function(t){if(!(0,i.default)(t))throw TypeError("Invalid UUID");return parseInt(t.slice(14,15),16)}},8166:(t,e,n)=>{var r={"./Dev2.json":5825,"./Production.json":9442,"./ProductionEu.json":635,"./QA.json":3337,"./local.json":4891,"./test.json":8500};function i(t){var e=o(t);return n(e)}function o(t){if(!n.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}i.keys=function(){return Object.keys(r)},i.resolve=o,t.exports=i,i.id=8166},9544:(t,e,n)=>{"use strict";const r=n(4628),i=n(8182),{idpRunDecider:o}=n(3897);let s,a;const c=["Dev2","QA","Production","ProductionEu","test","local"];t.exports={initPd:async t=>{s?s.initInstance(t):t&&t.storage&&t.msaGuid&&t.extensionGuid&&t.env&&c.includes(t.env)&&(s=new r(t))},stopPd:()=>{s&&(s.stop(),s=void 0)},initIdp:async t=>{if(a){if(a.isEnabled&&!t.isEnabled)return a.isEnabled=!1,a.stopIdp(),void(a=null);!a.isEnabled&&t.isEnabled&&(a.isEnabled=!0,a.turnOnIdp()),a.initInstance(t),a.runMsaSettings().catch((()=>{}))}else a=new i(t)},getEndUserInfo:async({uid:t,env:e},{tabId:n})=>a?a.getEndUserInfo(t,e,n):null,shouldRunFromExtension:async()=>{if(!a||!a.isEnabled)return!1;const{storage:t,browser:e}=a;return o(t,e.getBrowserName())}}},7389:(t,e,n)=>{const{loadConfig:r}=n(6230),i=n(8806),o=n(7910),s=n(4804),a=n(9608),c=n(7018),u=n(5705),l=n(1934),h=n(4419);t.exports=class{constructor(t,e){this.config=r(t.env),this.msaGuid=t.msaGuid,this.extensionEndUserId=t.extensionEndUserId,this.extensionGuid=t.extensionGuid,this.iframeApi=t.iframeApi,this.logger=new s(t.logger,this.config.logger,t.hostData,e),this.browser=new a(t.browser,t.hostData&&t.hostData.browser,this.logger),this.storage=new i(t.storage),this.idpApi=new o(this.config.api.idpServer,this.logger),this.userService=new u(this),this.ajaxLogResponseHelper=new c(this),this.whoAmIFlow=new l(this),this.notEnforceFlow=new h(this)}}},3171:t=>{t.exports=class{constructor(t){this.currentTimeout=null,this.intervalSeconds=0,this.intervalAction=t}startInterval(t,e=!1){this.intervalSeconds=t,this.stopInterval();const n=e?0:t;this.scheduleInterval(n)}stopInterval(){this.cancelCurrentTimout()}cancelCurrentTimout(){this.currentTimeout&&clearTimeout(this.currentTimeout),this.currentTimeout=void 0}scheduleInterval(t){this.currentTimeout=setTimeout((()=>{this.executeIntervalAction().catch((()=>{}))}),1e3*t)}async executeIntervalAction(){this.cancelCurrentTimout();try{await this.intervalAction()}catch{}this.scheduleInterval(this.intervalSeconds)}}},1130:(t,e,n)=>{const r=n(3171);t.exports=class{constructor(t,e,n,i,o,s="local"){this.storage=t,this.action=e,this.actionIntervalSeconds=n,this.checkEverySeconds=i,this.storageKey=o,this.storageToUse=s,this.intervalRunner=new r((()=>this.onIntervalInvoked()))}start(){this.intervalRunner.startInterval(this.checkEverySeconds,!0)}stop(){this.intervalRunner.stopInterval()}async getLastInvokeTime(){return await this.storage.get(this.storageKey)||0}async saveLastInvokeTime(t){await this.storage.set(this.storageKey,t)}async onIntervalInvoked(){const t=Date.now();if(t-await this.getLastInvokeTime()>=1e3*this.actionIntervalSeconds){try{this.action()}catch(t){}await this.saveLastInvokeTime(t)}}}},6005:(t,e,n)=>{const r=n(1130);t.exports=class{constructor(t,{logger:e,storage:n,config:i}){this.logger=e,this.storage=n,this.repeatedActionHelper=new r(this.storage,(()=>this.ping()),i.isAliveManager.actionInterval,i.isAliveManager.checkEvery,t)}start(){this.repeatedActionHelper.start()}stop(){this.repeatedActionHelper.stop()}ping(){this.logger.info("Daily ping",{},{},"daily-ping")}}},2836:(t,e,n)=>{const r=n(1130),i=n(4698),{STATUS:o,LOGIN_TYPES:s}=n(795);t.exports=class{constructor({logger:t,storage:e,ajaxLogResponseHelper:n,notEnforceFlow:i,processDiscoveryLogger:o,config:a}){this.nextRunAfterFirstLoad=a.authManager.nextRunAfterFirstLoad,this.nextRunAfterFailed=a.authManager.nextRunAfterFailed,this.logger=t,this.storage=e,this.processDiscoveryLogger=o,this.notEnforceFlow=i,this.ajaxLogResponseHelper=n,this.repeatedActionHelper=new r(this.storage,(()=>this.checkState()),a.authManager.actionInterval,a.authManager.checkEvery,"dtiAuthLastCall"),this.context={loginType:s.UII2}}init(t,e,n,r){this.msaGuid=t,this.nextRunAfterSuccess=r,this.context={...this.context,extensionEndUserId:e,extensionGuid:n}}start(){this.repeatedActionHelper.start()}stop(){this.repeatedActionHelper.stop()}async saveAuthState(t,e,n){await this.storage.set(i.getDtiStateKey(this.msaGuid),{success:t,lastActionTime:Date.now(),nextRunAfter:e,euid:n})}shouldRunAuthRequest(t){const e=Date.now(),{lastActionTime:n,nextRunAfter:r}=t;return e-n>=1e3*r}async handleAuthFailed(){return this.processDiscoveryLogger.sendLog(o.FAILURE),this.saveAuthState(!1,this.nextRunAfterFailed,null)}async handleAuthSuccess(t,{providerId:e}){return this.processDiscoveryLogger.sendLog(o.SUCCESS,t,{provider:e}),await this.ajaxLogResponseHelper.setLogResponseCounter(e,0),this.saveAuthState(!0,this.nextRunAfterSuccess,t)}async authorize({ssoType:t,notEnforceSSOUrl:e,providerId:n},r){return this.processDiscoveryLogger.sendLog(o.AUTHENTICATING,null),this.notEnforceFlow.runDti(e,n,t,r)}async runAuthRequest(t){const e=await this.storage.get(i.getDtiProvidersKey(this.msaGuid));if(e&&e.length)for(const t of e){const e={...this.context,idpType:t.ssoType},n=await this.authorize(t,e);if(n)return this.handleAuthSuccess(n.euid,t)}await this.handleAuthFailed(t)}async checkState(){try{const t=await this.storage.get(i.getDtiStateKey(this.msaGuid));if(!t)return this.saveAuthState(!1,this.nextRunAfterFirstLoad,null);this.shouldRunAuthRequest(t)&&await this.runAuthRequest(t)}catch(t){this.saveAuthState(!1,this.nextRunAfterFailed,null).catch((()=>{}))}}}},4628:(t,e,n)=>{"use strict";const{STATUS:r}=n(795),i=n(9791),o=n(8327),s=n(6005),a=n(2836),c=n(7389);t.exports=class extends c{constructor(t){super(t,"idp-pd"),this.processDiscoveryLogger=new i(t.reportStatusChange),this.settingManager=new o(this),this.isAliveManager=new s("isAliveLastCall",this),this.authManager=new a(this),this.initInstance(t),this.start()}initInstance({msaGuid:t,enableIdpPdLogs:e,dtiRefreshInterval:n,extensionEndUserId:r,extensionGuid:i,env:o,extVersion:s}){this.msaGuid=t,this.extensionEndUserId=r,this.extensionGuid=i,this.extVersion=s,this.authManager.init(t,r,i,n||this.config.dtiRefreshInterval),this.settingManager.init(t,r,i),this.logger.init(o,r,i,t,s),this.logger.setDebugMode(e)}start(){this.processDiscoveryLogger.sendLog(r.LOADED),this.isAliveManager.start(),this.settingManager.start(),this.authManager.start()}stop(){this.processDiscoveryLogger.sendLog(r.STOPPED),this.logger.info("[extensionManager:stop] - Idp-pd module stopped",null),this.isAliveManager.stop(),this.settingManager.stop(),this.authManager.stop()}}},8327:(t,e,n)=>{const r=n(1130),i=n(3897),o=n(4698),{LOGIN_TYPES:s}=n(795);t.exports=class{constructor({logger:t,idpApi:e,storage:n,config:i}){this.logger=t,this.idpApi=e,this.storage=n,this.repeatedActionHelper=new r(this.storage,(()=>this.runSetting()),i.settingManager.actionInterval,i.settingManager.checkEvery,"dtiLastSettingCall"),this.context={loginType:s.UII2}}init(t,e,n){this.msaGuid=t,this.context={...this.context,extensionEndUserId:e,extensionGuid:n}}start(){this.repeatedActionHelper.start()}stop(){this.repeatedActionHelper.stop()}async runSetting(){const{extensionEndUserId:t,extensionGuid:e,loginType:n}=this.context;try{const r=i.getPayload({msaGuid:this.msaGuid,type:n,extensionEndUserId:t,extensionGuid:e});this.logger.info("Settings request sent",this.context,{payload:r});const s=await this.idpApi.getSettings(r);if(!(s&&s.providers&&s.providers.length))return void this.logger.info("Settings response - no providers found",this.context,{payload:r,settings:s});await Promise.all([this.storage.set(o.getDtiProvidersKey(this.msaGuid),s.providers),this.storage.set(o.getIdpFeatureFlagsKey(),s.featureFlags||{})])}catch(t){}}}},7881:(t,e,n)=>{const{v4:r}=n(7429),i=n(6853),{LOGIN_TYPES:o}=n(795),s=n(4698);t.exports=class{constructor({storage:t,browser:e,idpSettingsHelpers:n,logger:r,notEnforceFlow:i,enforceFlow:o,whoAmIFlow:s,userService:a}){this.storage=t,this.browser=e,this.logger=r,this.notEnforceFlow=i,this.enforceFlow=o,this.whoAmIFlow=s,this.userService=a,this.idpSettingsHelpers=n}async waitForSystemFlowToFinish(t,e,n){const{systemGuid:r,wmEnv:o}=n;try{this.logger.debug("System Flow - Wait for system flow to finish",n,{});const r=await t;this.logger.debug("System Flow - System flow result",n,{systemFlowResult:r}),r&&r.providerSettings&&r.runEnforce&&await this.enforceFlow.run(e,r)}catch(t){}finally{i.deleteSystemFlow(r,o)}}async runIdpFlow({providerId:t,enforceSso:e},n,i,a){const c=s.getIdpEidKey(t,n);let u=await this.storage.getWithExpire(c);if(u&&u.id&&(this.logger.debug("System Flow - Idp Eid found in storage.",a,{idpEid:u,providerId:t}),await this.storage.delete(c),await this.whoAmIFlow.run(t,u.id,a)))return{runEnforce:!1};u=r();const l=await this.storage.get(s.getProviderKey(t));if(!l)return this.logger.debug("System Flow - Provider settings not found in storage",a,{providerId:t}),{runEnforce:!1};const h={...a,idpType:l.type};return this.logger.debug("System Flow - Start not enforce flow",a,{}),await this.notEnforceFlow.runIdp(l,o.WEB_EXTENSION,u,h)?{runEnforce:!1}:{context:h,runEnforce:e,providerId:t,providerSettings:l,redirectUrl:i,idpEid:u}}}},4837:(t,e,n)=>{const r=n(4698),i=n(6853),o=n(8634);n(3897),t.exports=class{constructor({storage:t,logger:e,config:n,systemFlow:r,idpSettingsHelpers:i,userService:o}){this.storage=t,this.logger=e,this.endUserTimeOut=n.endUserTimeOut,this.systemFlow=r,this.idpSettingsHelpers=i,this.userService=o}async waitForSystemFlowToFinish(t){const{systemGuid:e,wmEnv:n}=t,r=i.getSystemFlow(e,n);if(r)try{this.logger.debug("End User Flow- Wait for system flow to finish",t,{}),await o.promiseTimeout(r,this.endUserTimeOut)}catch(e){throw this.logger.debug("End User Flow - System flow failed or time out happen return null",t,{error:e}),new Error}finally{i.deleteSystemFlow(e,n)}}async start(t,e,n){const{systemGuid:i,wmEnv:o}=n;try{await this.waitForSystemFlowToFinish(n)}catch(t){return null}let s=await this.storage.get(r.getSystemKey(i,o));if(s)return this.logger.debug("End User Flow - System settings found in storage start to prepare end user info",n,{}),this.userService.prepareEndUserInfo(s,n);if(this.logger.debug("End User Flow - System settings not found in storage",n,{}),await this.idpSettingsHelpers.callIdpSystemSettings(t,n),s=await this.storage.get(r.getSystemKey(i,o)),!s)return this.logger.debug("End User Flow - System settings not found in storage after call settings",n,{}),null;this.systemFlow.start(e,n);try{await this.waitForSystemFlowToFinish(n)}catch(t){return null}return this.userService.prepareEndUserInfo(s,n)}}},8182:(t,e,n)=>{const{EVENTS_MESSAGE:r,LOGIN_TYPES:i}=n(795),o=n(7389),s=n(7423),a=n(1332),c=n(4837),u=n(2435),l=n(8541),h=n(6005);t.exports=class extends o{constructor(t){super(t,"idp-ext"),this.initInstance(t),this.isAliveManager=new h("idpIsAliveLastCall",this),this.idpSettingsHelpers=new u(this),this.enforceFlow=new l(this),this.msaFlow=new a(this),this.systemFlow=new s(this),this.endUserFlow=new c(this),this.events=t.events,this.isEnabled=t.isEnabled,this.unsubscribeIdpListner=null,this.isEnabled&&(this.turnOnIdp(),this.runMsaSettings().catch((()=>{})))}initInstance({msaGuid:t,extensionEndUserId:e,extensionGuid:n,env:r,extVersion:i}){this.msaGuid=t,this.extensionEndUserId=e,this.extensionGuid=n,this.extVersion=i,this.logger.init(r,e,n,t,i)}async runMsaSettings(){if(this.msaGuid&&this.isEnabled){const t={msaGuid:this.msaGuid,extensionEndUserId:this.extensionEndUserId,extensionGuid:this.extensionGuid};await this.idpSettingsHelpers.callIdpMsaSettings(t)}}async runSystemFlow({uid:t,env:e},{tabId:n}){const r={systemGuid:t,wmEnv:e,msaGuid:this.msaGuid,extensionEndUserId:this.extensionEndUserId,extensionGuid:this.extensionGuid,loginType:i.WEB_EXTENSION};try{this.isEnabled&&await this.systemFlow.start(n,r,!0)}catch(t){this.logger.error("Run system flow internal error",r,t)}}async getEndUserInfo(t,e,n){const r={systemGuid:t,wmEnv:e,extensionEndUserId:this.extensionEndUserId,extensionGuid:this.extensionGuid,loginType:i.WEB_EXTENSION};try{let t=null;return this.isEnabled&&(t=await this.endUserFlow.start(this.msaGuid,n,r)),t}catch(t){return this.logger.error("Get end user info internal error",r,t),null}}turnOnIdp(){this.isAliveManager.start(),this.unsubscribeIdpListner=this.events.on(r.SNIPPET_INJECT,((t,e)=>this.runSystemFlow(t,e)))}stopIdp(){this.isAliveManager.stop(),this.unsubscribeIdpListner(),this.unsubscribeIdpListner=null}}},1332:(t,e,n)=>{const{LOGIN_TYPES:r}=n(795),i=n(4698),o=n(7881);t.exports=class extends o{async start(t){this.logger.debug("Msa Flow - Start Msa flow",t);const e=await this.storage.get(i.getMsaKey());if(e&&e.providerId){const{providerId:n}=e,o=await this.storage.getWithExpire(i.getEndUserInfoKey(n));if(o)return void this.logger.info("end-user-identified",{...t,wm_euid:o.id},{},"end-user-identified-cache");const s=await this.storage.get(i.getProviderKey(n));if(!s)return;return this.logger.debug("Msa Flow - Start not enforce flow",t,{}),this.startNotEnforceFlow(s,r.WEB_MSA,{...t,idpType:s.type})}}}},7423:(t,e,n)=>{const r=n(7881),i=n(3897),o=n(6853),s=n(4698),{idpRunDecider:a}=n(3897);t.exports=class extends r{async createSystemFlow(t,e,n){if(!await a(this.storage,this.browser.getBrowserName()))return{runEnforce:!1};n&&await this.idpSettingsHelpers.callIdpMsaSettings(e);const{systemGuid:r,wmEnv:o}=e,c=await this.browser.getTabUrl(t);if(i.isProviderLoginPage(c))return this.logger.debug("System Flow - Idp inject on provider page",e,{redirectUrl:c}),{runEnforce:!1};const u=await this.storage.get(s.getSystemKey(r,o));if(!u||!u.providerId)return this.logger.debug("System Flow - System settings not found.",e,{redirectUrl:c}),{runEnforce:!1};const l=await this.storage.getWithExpire(s.getEndUserInfoKey(u.providerId));return l?(this.logger.info("end-user-identified",{...e,wm_euid:l.id},{},"end-user-identified-cache"),{runEnforce:!1}):this.runIdpFlow(u,t,c,e)}async start(t,e,n){const{systemGuid:r,wmEnv:i}=e;let s=o.getSystemFlow(r,i);s||(this.logger.debug("System Flow - System flow not found, start system flow",e),s=this.createSystemFlow(t,e,n),o.addSystemFlow(r,i,s)),await this.waitForSystemFlowToFinish(s,t,e)}}},3996:t=>{t.exports=class{constructor(t,e){this.timeout=t,this.logger=e}async get(t,e){try{const n=await fetch(t,{method:"GET",timeout:this.timeout});return this.getContent(n,null,e)}catch(n){return this.logger.error(`BaseApi:get - ${n&&n.message}`,e,{url:t,error:n}),null}}async post(t,e,n={},r={}){try{const i=await fetch(t,{method:"POST",headers:n,body:JSON.stringify(e),timeout:this.timeout});return this.getContent(i,e,r)}catch(n){return this.logger.error(`BaseApi:post - ${n&&n.message}`,r,{url:t,payload:e,error:n}),null}}async getContent(t,e,n){let r,i;try{const e=t.headers.get("content-type");i=e&&-1!==e.indexOf("application/json"),r=i?await t.json():await t.text()}catch(r){return this.logger.error("Failed parse http response",n,{statusCode:t.status,url:t.url,payload:e,contentType:t.headers.get("content-type"),errorMessage:r&&r.message,error:r}),null}return t.ok?r:(this.logger.error(`Failed on http request - statusCode ${t.status}`,n,{statusCode:t.status,url:t.url,payload:e,responseData:r}),null)}}},7910:(t,e,n)=>{"use strict";const r=n(3996);t.exports=class extends r{constructor({host:t,timeout:e},n){super(e,n),this.baseUrl=t}async getSettings(t,e){return this.post(`${this.baseUrl}/settings`,t,{"Content-Type":"application/json","is-debug-mode":this.logger.debugMode},e)}async whoami(t,e,n){const r=await this.post(`${this.baseUrl}/${t}/whoami`,{idpEid:e},{"Content-Type":"application/json","is-debug-mode":this.logger.debugMode},n);return r&&"string"==typeof r.result?r.result:null}async samlCallback(t,e,n){return this.post(t,e,{"Content-Type":"application/json"},n)}}},4698:t=>{"use strict";const e="idpPd_";t.exports={getIdpCurrentProvidersStateKey:()=>"providers:state",getDtiProvidersKey:t=>`${e}${t}:providers`,getDtiStateKey:t=>`${e}${t}:state`,getSystemKey:(t,e)=>`system:${t}:${e}`,getEndUserInfoKey:t=>`provider:${t}:endUserInfo`,getIdpEidKey:(t,e)=>`idpEid:${t}:${e}`,getIdpEndUserPerformLoginKey:t=>`idpEndUserPerformLogin:${t}`,getProviderKey:t=>`provider:${t}`,getIdpSettingState:()=>"idpSettingsState",getDtiNumOfFailedKey:t=>`${e}failedAttempts:provider:${t}`,getIdpCurrentSystemsStateKey:()=>"systems:state",getMsaKey:()=>"account:idp:state",getLastSuccessNotEnforceFlowTypeKey:()=>"lastSuccessNotEnforceFlowType",getIdpFeatureFlagsKey:()=>"idpFeatureFlags"}},795:t=>{"use strict";t.exports={Types:{SAML:"saml",OAUTH2:"oAuth2"},STATUS:{LOADED:"loaded",STOPPED:"stopped",AUTHENTICATING:"authenticating",SUCCESS:"success",FAILURE:"failure"},EVENTS_MESSAGE:{SNIPPET_INJECT:"snippetInject"},IDP_PROVIDERS_LOGIN_PAGE:[/okta\.com\/login/,/okta\.com\/signin/,/okta\.com\/oauth2\/v[12]\/authorize/,/accounts\.google\.com\/signin/,/adfs\/oauth2\/authorize/,/login\.microsoftonline\.com/,/authenticator\.pingone\.(eu|com|asia)/,/login\.pingone\.(eu|com|asia)\/idp\/directory/,/apps\.pingone\.(eu|com|asia)\/[a-zA-Z0-9_-]{30,40}\/signon/],CONSTS:{JSONP_CALLBACK:"idpCallback('",SAML_STATE_KEY:"RelayState",OAUTH_STATE_KEY:"state"},BROWSERS:{EDGE_CHROMIUM:"Edge-Chromium",CHROME:"Chrome",FIREFOX:"Firefox",UNKNOWN:"Unknown"},IDP_FIELDS_ENUM:{ID:"id",AccessToken:"accessToken",ExpireIn:"expiresIn"},LOGIN_TYPES:{WEB_MSA:"webMsa",WEB_EXTENSION:"webExtension",UII2:"uii2"},ENVS:{QA:"qa",Production:"prod",ProductionEu:"euprod"},NOT_ENFORCE_FLOW_TYPES:{AJAX:"ajax",IFRAME:"iframe"},IFRAME_ACTIONS_RESPONSE:{SUCCESS:"IDP_CALLBACK_SUCCESS",FAIL:"IDP_CALLBACK_FAIL"}}},8541:(t,e,n)=>{"use strict";const r=n(4698),i=n(3897),{LOGIN_TYPES:o}=n(795);t.exports=class{constructor({storage:t,browser:e,config:n,logger:r}){this.logger=r,this.storage=t,this.browser=e,this.idpEidTtl=n.idpEidTtl,this.userPerformLoginTtl=n.userPerformLoginTtl}async run(t,{providerId:e,providerSettings:n,redirectUrl:s,idpEid:a,context:c}){this.logger.debug("System Flow - Start enforce flow",c,{});const u=await this.storage.getWithExpire(r.getIdpEndUserPerformLoginKey(e));if(u&&u.id)return this.logger.debug("System Flow - User already tried to login during last hour and login failed!",c,{}),null;await Promise.all([this.storage.setWithExpire(r.getIdpEidKey(e,t),{id:a},this.idpEidTtl),this.storage.setWithExpire(r.getIdpEndUserPerformLoginKey(e),{id:a},this.userPerformLoginTtl)]);const l=i.createAuthUrl(n,o.WEB_EXTENSION,{wmEnv:c.wmEnv,redirectUrl:s,idpEid:a,extensionEndUserId:c.extensionEndUserId,extensionGuid:c.extensionGuid,isEnforceSSO:!0});this.logger.info("auth-request-sent-enforce",c,{enforceUrl:l},"auth-request-sent-enforce"),this.browser.redirect(t,l)}}},7358:(t,e,n)=>{const r=n(8634),{IFRAME_ACTIONS_RESPONSE:i}=n(795);t.exports=class{constructor(t,e){this.logger=e,this.iframeApi=t}async run(t,e,n){let r;this.logger.debug("Iframe Flow - Start iframe flow",n);try{r=await this.iframeApi.openIframe(t)}catch(t){return this.logger.debug("Iframe Flow - Failed to open iframe on the extension",n),!1}return r||this.logger.debug("Iframe Flow - Browser version not supported open iframe",n),this.waitForIframeCallBack(r,e,n)}async waitForIframeCallBack(t,e,n){const o=new Promise((r=>{t.onMessage((t=>{const o=t||{};o.action===i.SUCCESS?(this.logger.debug("Iframe Flow - Callback success",n,{idpEid:e,eventData:o}),r(!0)):o.action===i.FAIL&&(this.logger.debug("Iframe Flow - Callback failed",n,{idpEid:e,eventData:o}),r(!1))}))}));try{return this.logger.debug("Iframe Flow - Waiting for iframe callback",n,{idpEid:e}),await r.promiseTimeout(o,5e3)}catch(t){return this.logger.debug("Iframe Flow - Time out waiting for callback return null",n,{idpEid:e}),null}finally{this.logger.debug("Iframe Flow - Removing iframe",n,{idpEid:e}),t.close()}}}},4419:(t,e,n)=>{"use strict";const{v4:r}=n(7429),{Types:i,NOT_ENFORCE_FLOW_TYPES:o}=n(795),s=n(3897),a=n(4698),c=n(7518),u=n(2030),l=n(7358);t.exports=class{constructor({idpApi:t,iframeApi:e,logger:n,storage:r,whoAmIFlow:i,userService:o,ajaxLogResponseHelper:s}){this.logger=n,this.storage=r,this.whoAmIFlow=i,this.userService=o,this.ajaxLogResponseHelper=s,this.saml=new c(t,n),this.oauth=new u(t,n),this.iframeFlow=new l(e,n)}async runIdp(t,e,n,r){const{extensionEndUserId:i,extensionGuid:o}=r,a=this.getProtocol(t.type);return this.runByPriority((async()=>{if(!await this.needToRunIframe())return;const a=s.createAuthUrl(t,e,{idpEid:n,enforceSSOIframeFlow:!0,extensionEndUserId:i,extensionGuid:o});if(this.logger.info("auth-request-sent-hidden",{...r,isIframe:!0},{url:a},"auth-request-sent-hidden"),await this.iframeFlow.run(a,n,r))return this.whoAmIFlow.run(t.state.providerId,n,r);this.logger.info("end-user-not-identified",{...r,isIframe:!0},{},"end-user-not-identified")}),(async()=>{const n=s.createAuthUrl(t,e,{extensionEndUserId:i,extensionGuid:o});this.logger.info("auth-request-sent-hidden",r,{url:n},"auth-request-sent-hidden");const c=await a.run(n,r),u=this.userService.extractUserData(c,r);if(u)return this.logger.info("end-user-identified",{...r,wm_euid:u.id},{},"end-user-identified"),await this.userService.saveEndUserInfo(t.state.providerId,u),!0;this.logger.info("end-user-not-identified",r,{},"end-user-not-identified")}))}async runDti(t,e,n,i){const{extensionEndUserId:o,extensionGuid:a}=i,c=this.getProtocol(n);return this.runByPriority((async()=>{if(!await this.needToRunIframe())return;const e=r(),c=s.updateEncodedState(t,n,{idpEid:e,extensionEndUserId:o,extensionGuid:a,enforceSSOIframeFlow:!0});if(this.logger.info("auth-request-sent-hidden",{...i,isIframe:!0},{url:c},"auth-request-sent-hidden"),await this.iframeFlow.run(c,e,i))return this.whoAmIFlow.runDti(e,i);this.logger.info("end-user-not-identified",{...i,isIframe:!0},{},"end-user-not-identified")}),(async()=>{const r=s.updateEncodedState(t,n,{extensionEndUserId:o,extensionGuid:a});this.logger.info("auth-request-sent-hidden",i,{url:r},"auth-request-sent-hidden");const u=await c.run(r,i);if(u&&u.euid)return this.logger.info("end-user-identified",{...i,wm_euid:u.euid},{},"end-user-identified"),u;await this.ajaxLogResponseHelper.sendResponseLog(u,e,i),this.logger.info("end-user-not-identified",i,{},"end-user-not-identified")}))}async runByPriority(t,e){if((await this.storage.get(a.getLastSuccessNotEnforceFlowTypeKey())||o.AJAX)===o.AJAX){let n=await e();if(n)return await this.storage.set(a.getLastSuccessNotEnforceFlowTypeKey(),o.AJAX),n;if(n=await t(),n)return await this.storage.set(a.getLastSuccessNotEnforceFlowTypeKey(),o.IFRAME),n}else{let n=await t();if(n)return await this.storage.set(a.getLastSuccessNotEnforceFlowTypeKey(),o.IFRAME),n;if(n=await e(),n)return await this.storage.set(a.getLastSuccessNotEnforceFlowTypeKey(),o.AJAX),n}}getProtocol(t){return t===i.OAUTH2?this.oauth:this.saml}async needToRunIframe(){const t=await this.storage.get(a.getIdpFeatureFlagsKey());return t&&t.enableExtIframe}}},1934:(t,e,n)=>{const r=n(4698);t.exports=class{constructor({idpApi:t,storage:e,userService:n,logger:r}){this.idpApi=t,this.logger=r,this.storage=e,this.userService=n}async run(t,e,n){this.logger.info("whoami-request-sent",n,{idpEid:e},"whoami-request-sent");const i=await this.idpApi.whoami(n.systemGuid,e,n);this.logger.debug("System Flow - WhoAmI response.",n,{endUserInfo:i});const o=this.userService.extractUserData(i,n);if(o)return this.logger.info("end-user-identified",{...n,wm_euid:o.id},{},"end-user-identified-whoami"),await Promise.all([this.userService.saveEndUserInfo(t,o),this.storage.delete(r.getIdpEndUserPerformLoginKey(t))]),!0;this.logger.info("end-user-not-identified",n,{},"end-user-not-identified-whoami")}async runDti(t,e){this.logger.info("whoami-request-sent",e,{idpEid:t},"whoami-request-sent");const n=await this.idpApi.whoami(e.extensionEndUserId,t,e);this.logger.debug("System Flow - WhoAmI response.",e,{endUserInfo:n});try{const t=JSON.parse(n);if(t&&t.euid)return this.logger.info("end-user-identified",{...e,wm_euid:t.euid},{},"end-user-identified-whoami"),t;this.logger.info("end-user-not-identified",e,{},"end-user-not-identified-whoami")}catch(t){return this.logger.info("end-user-not-identified",e,{error:t},"end-user-not-identified-whoami"),null}}}},7018:(t,e,n)=>{const r=n(4698);t.exports=class{constructor({logger:t,storage:e}){this.logger=t,this.storage=e}async sendResponseLog(t,e,n){"string"==typeof t&&await this.shouldSendResponseLog(t,e)&&this.logHtmlResponse(t,n)}async shouldSendResponseLog(t,e){const n=r.getDtiNumOfFailedKey(e),i=await this.storage.get(n);return i?i.count<4?(await this.setLogResponseCounter(e,i.count+1),!1):(await this.setLogResponseCounter(e,0),!0):(await this.setLogResponseCounter(e,1),!1)}async setLogResponseCounter(t,e){const n=r.getDtiNumOfFailedKey(t);await this.storage.set(n,{count:e})}logHtmlResponse(t,e){this.logger.info("Authorization response failed",e)}}},9608:t=>{t.exports=class{constructor(t,e,n){this.browserExtension=t,this.browserInfo=e,this.logger=n}getTabUrl(t){return new Promise(((e,n)=>{this.browserExtension.tabs.get(t,(t=>{if(t)return e(t.url);n()}))}))}getBrowserName(){return this.browserInfo&&this.browserInfo.name}redirect(t,e){this.browserExtension.tabs.update(t,{url:e},(()=>{}))}}},2435:(t,e,n)=>{const{difference:r}=n(6486),i=n(4698),o=n(3897),{LOGIN_TYPES:s}=n(795);t.exports=class{constructor({storage:t,idpApi:e,logger:n}){this.storage=t,this.idpApi=e,this.logger=n}async needToRunSettings(){return!await this.storage.getWithExpire(i.getIdpSettingState())}async setProviders(t){const e=[],n=[],o=i.getIdpCurrentProvidersStateKey();for(const[r,o]of Object.entries(t)){const t=i.getProviderKey(r);n.push(this.storage.set(t,{...o})),e.push(t)}await Promise.all(n);const s=await this.storage.get(o)||[],a=r(s,e);a.length&&await this.storage.delete(a),await this.storage.set(o,e)}getSystemData(t,e){return{providerId:t.providerId,lowercaseEuid:t.lowercaseEuid,...e}}async setSystems(t){const e=[],n=[],o=i.getIdpCurrentSystemsStateKey();for(const r of t)for(const t of r.envs){const o=i.getSystemKey(r.systemGuid,t.id);n.push(this.storage.set(o,this.getSystemData(r,t))),e.push(o)}await Promise.all(n);const s=await this.storage.get(o)||[],a=r(s,e);a.length&&await this.storage.delete(a),await this.storage.set(o,e)}async clearIdpStorage(){await Promise.all([this.setSystems([]),this.setProviders({}),this.storage.delete(i.getMsaKey())])}async setMsaSettingsOnStorage(t,e){const{providerId:n,systems:r,providers:o}=e;if(!r||!r.length)return this.clearIdpStorage();const s=[];t&&s.push(this.storage.set(i.getMsaKey(),{providerId:n})),await Promise.all([...s,this.setProviders(o),this.setSystems(r)])}async setSystemSettingsOnStorage(t){const{system:e,provider:n}=t,r=i.getSystemKey(e.systemGuid,e.env.id),o=i.getProviderKey(e.providerId),[s,a,,]=await Promise.all([this.storage.get(i.getIdpCurrentSystemsStateKey()),this.storage.get(i.getIdpCurrentProvidersStateKey()),this.storage.set(r,this.getSystemData(e,e.env)),this.storage.set(o,n)]),c=a?new Set(a):new Set,u=s?new Set(s):new Set;c.add(o),u.add(r),await Promise.all([this.storage.set(i.getIdpCurrentProvidersStateKey(),Array.from(c)),this.storage.set(i.getIdpCurrentSystemsStateKey(),Array.from(u))])}async callIdpMsaSettings(t){const{extensionEndUserId:e,extensionGuid:n,msaGuid:r}=t;try{if(!r||!await this.needToRunSettings())return;const a=o.getPayload({type:s.WEB_MSA,msaGuid:r,extensionEndUserId:e,extensionGuid:n});this.logger.debug("Call idp msa settings",t,{payload:a});const c=await this.idpApi.getSettings(a,t);this.logger.debug("Idp msa settings response",t,{settings:c}),c&&(this.logger.setDebugMode(c.debugMode),await Promise.all([this.setMsaSettingsOnStorage(a.msaGuid,c),this.storage.setWithExpire(i.getIdpSettingState(),{},c.extensionSettingsTtl),this.storage.set(i.getIdpFeatureFlagsKey(),c.featureFlags||{})]))}catch(e){this.logger.error("Error on saving msa settings on storage",t,e)}}async callIdpSystemSettings(t,e){const{extensionGuid:n,extensionEndUserId:r,systemGuid:i,wmEnv:a}=e;try{const c=o.getPayload({type:s.WEB_EXTENSION,userGuid:i,wmEnv:a,extensionGuid:n,extensionEndUserId:r,msaGuid:t});this.logger.debug("Call idp system settings",e,{payload:c});const u=await this.idpApi.getSettings(c);this.logger.debug("Idp system settings response",e,{systemSettings:u}),u&&u.system&&u.provider&&await this.setSystemSettingsOnStorage(u)}catch(t){this.logger.error("Error on saving system settings on storage",e,t)}}}},4804:(t,e,n)=>{"use strict";const r=n(1329),{ENVS:i}=n(795);t.exports=class{constructor(t,{loggerUrl:e,enableLogs:n},i,o){this.debugMode=!1,this.enableLogs=n,this.appName=o,this.extensionLogger=t,this.loggerUrl=e,this.staticField={app:o,ver:r.version,...i}}init(t,e,n,r,o){this.extensionEndUserId=e,this.extensionGuid=n,this.msaGuid=r,this.extVersion=o,this.env=i[t]||t}setDebugMode(t){this.debugMode=!!t}getExtraFields(){return{...this.staticField,extVersion:this.extVersion,extensionEndUserId:this.extensionEndUserId,extensionGuid:this.extensionGuid,msaGuid:this.msaGuid,env:this.env,time:Date.now()}}sendLog(t,e,n,r,i){this.enableLogs&&fetch(this.loggerUrl,{method:"POST",body:JSON.stringify({...this.getExtraFields(),level:t,message:e,data:r,...n,action:i})}).catch((()=>{}))}sendToExtensionLog(t,e){this.extensionLogger&&this.extensionLogger.debug(`${t} - ${JSON.stringify(e)}`,{},`${this.appName}-logger`)}error(t,e={},n={},r=null){this.sendToExtensionLog(t,{...e,...n}),this.sendLog("error",t,e,n,r)}info(t,e={},n={},r=null){this.sendToExtensionLog(t,{...e,...n}),this.sendLog("info",t,e,n,r)}debug(t,e={},n={}){this.sendToExtensionLog(t,{...e,...n}),this.debugMode&&this.sendLog("info",`[DEBUG] - ${t}`,e,n,null)}}},9791:t=>{"use strict";t.exports=class{constructor(t){this.reportStatusChange=t}sendLog(t,e=null,n={}){this.reportStatusChange&&this.reportStatusChange({status:t,euId:e,...n,time:Date.now()})}}},8806:t=>{"use strict";t.exports=class{constructor(t){this.storage=t}async delete(t){try{await this.storage.removeData(t,"local")}catch(t){return null}}async set(t,e){try{await this.storage.setData(t,e,"local")}catch(t){return null}}async get(t){try{const e=await this.storage.getData(t,"local");if(e)return e}catch(t){return null}}async setWithExpire(t,e,n){await this.set(t,{...e,lastActionTime:Date.now(),expiresAfter:n})}async getWithExpire(t,e=!0){const n=await this.get(t);if(this.isValidTtl(n))return n;e&&await this.delete(t)}isValidTtl(t){if(!t)return!1;const e=Date.now(),{lastActionTime:n,expiresAfter:r}=t;return e-n<1e3*r}}},5705:(t,e,n)=>{const r=n(8764).lW,i=n(4698),{CONSTS:o,IDP_FIELDS_ENUM:s}=n(795),a=n(3897);t.exports=class{constructor({storage:t,logger:e}){this.storage=t,this.logger=e}decodeEndUserData(t){return JSON.parse(r.from(decodeURIComponent(t),"base64"))}extractUserData(t,e){if(!t)return null;try{const n=this.decodeEndUserData(-1!==t.indexOf(o.JSONP_CALLBACK)?t.substring(o.JSONP_CALLBACK.length,t.length-2):t);if(Object.values(s).every((t=>void 0!==n[t])))return this.logger.debug("Success to extract End user data",e,{userData:t}),n;this.logger.debug("End user data miss mandatory fields",e,{userData:t})}catch(n){return this.logger.debug("Failed to decode end user data",e,{userData:t}),null}}async saveEndUserInfo(t,e){const n=i.getEndUserInfoKey(t);await this.storage.setWithExpire(n,e,e.expiresIn)}async prepareEndUserInfo(t,e){const{lowercaseEuid:n,isHashedEuid:r,salt:o,providerId:s}=t,c=await this.storage.get(i.getEndUserInfoKey(s));if(!c)return this.logger.debug("End User Flow - End User info not found in storage return null",e,{}),null;let u=c.id;if(n&&(u=`${u}`.toLowerCase()),r){const t=o||"";if(u=t?await a.hmacSha256(u,t):await a.hashSha256(u),!u)return null}const l={id:u,access_token:c.accessToken,expires_in:c.expiresIn};return this.logger.debug("End User Flow - End User info flow success",e,{endUserData:l}),l}}},6230:(t,e,n)=>{t.exports={loadConfig:t=>n(8166)(`./${t}.json`)}},8634:t=>{"use strict";const e=t=>new Promise(((e,n)=>{setTimeout((()=>n("timeout")),t)}));t.exports={promiseTimeout:(t,n)=>Promise.race([t,e(n)])}},856:t=>{t.exports=class{constructor(t,e){this.idpApi=t,this.logger=e}}},2030:(t,e,n)=>{"use strict";const{Types:r}=n(795),i=n(856);t.exports=class extends i{async run(t,e){return this.idpApi.get(t,e)}}},7518:(t,e,n)=>{"use strict";const r=n(9622),i=n(6492),{Types:o}=n(795),s=n(856),a=new r;t.exports=class extends s{async run(t,e){const n=await this.idpApi.get(t,e);if(n&&n.includes("SAMLResponse")&&n.includes("RelayState")&&n.includes("action"))try{const t=a.parseFromString(n.trim()).getElementsByTagName("form");let r,o,s;for(const e of t){const t=e.attributes.find((t=>"action"===t.name)),n=e.childNodes.filter((t=>"input"===t.nodeName)),a=n.find((t=>t.attributes.some((t=>"name"===t.name&&"SAMLResponse"===t.value)))),c=n.find((t=>t.attributes.some((t=>"name"===t.name&&"RelayState"===t.value))));if(a&&c&&t){const e=a.attributes.find((t=>"value"===t.name)),n=c.attributes.find((t=>"value"===t.name));if(e&&e.value&&n&&n.value&&t&&t.value&&(t.value.includes("walkme.com")||t.value.includes("walkmeqa.com"))){r=i.decode(n.value),o=i.decode(e.value),s=i.decode(t.value);break}}}return s&&o&&r?this.idpApi.samlCallback(s,{RelayState:r,SAMLResponse:o},e):n}catch(t){return n}return n}}},6853:t=>{"use strict";const e=new Map,n=(t,e)=>`systemFlow:${t}:${e}`;t.exports={getSystemFlowKey:n,getSystemFlow:(t,r)=>{const i=n(t,r),o=e.get(i);if(o)return o},addSystemFlow:(t,r,i)=>{const o=n(t,r);e.set(o,i)},deleteSystemFlow:(t,r)=>{const i=n(t,r);e.delete(i)},clearFlows:()=>{e.clear()}}},3897:(t,e,n)=>{"use strict";const r=n(8764).lW,i=n(4698),{IDP_PROVIDERS_LOGIN_PAGE:o,Types:s,CONSTS:a,BROWSERS:c}=n(795),u=(t,e,n)=>{const i=r.from(JSON.stringify(n)).toString("base64");return t.searchParams.set(e,i),t.toString()},l=async t=>{if(t)return t.get(i.getIdpFeatureFlagsKey())};t.exports={getPayload:({type:t,msaGuid:e,extensionEndUserId:n,extensionGuid:r,userGuid:i,wmEnv:o})=>({type:t,extensionEndUserId:n,msaGuid:e,accountGuid:e||null,extensionGuid:r,userGuid:i,wmEnv:o}),idpRunDecider:async(t,e)=>{if(e===c.CHROME)return!0;if(e===c.EDGE_CHROMIUM){const e=await l(t);return!(!e||!e.runOnEdge)}return!1},isProviderLoginPage:t=>o.some((e=>e.test(t))),createAuthUrl:(t,e,n={})=>{const{authUrl:r,state:i,type:o}=t,c=new URL(r),l={...i,...n,loginType:e},h=o===s.SAML?a.SAML_STATE_KEY:a.OAUTH_STATE_KEY;return u(c,h,l)},hmacSha256:async(t,e)=>{const n=new TextEncoder;try{const i=await crypto.subtle.importKey("raw",n.encode(e),{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),o=await crypto.subtle.sign("HMAC",i,n.encode(t));return r.from(o).toString("base64")}catch(t){return null}},hashSha256:async t=>{try{const e=(new TextEncoder).encode(t),n=await crypto.subtle.digest("SHA-256",e);return r.from(n).toString("base64")}catch(t){return null}},updateEncodedState:(t,e,n={})=>{const i=new URL(t),o=e===s.SAML?a.SAML_STATE_KEY:a.OAUTH_STATE_KEY,c=JSON.parse(r.from(decodeURIComponent(i.searchParams.get(o)),"base64"));return u(i,o,{...c,...n})},getIdpFeatureFlags:l}},8912:(t,e,n)=>{const r=n(6602),i=new class{constructor(){this.shouldLoadBackgroundTracker=!1}getShouldLoadBackgroundTracker(){return this.shouldLoadBackgroundTracker}setShouldLoadBackgroundTracker(t){this.shouldLoadBackgroundTracker=t}updateTrackerLoadingCondition(t,e,n){const r=this.getIsSupportedBrowser(n);this.shouldLoadBackgroundTracker=t&&r&&this.getIsExtensionVersionValid(e)}getIsSupportedBrowser(t){const e=r.supportedBrowsers,n=t().browser.name;return e.includes(n)}getIsExtensionVersionValid(t){const e=t.extVersion;if(!e||e.substr(0,1)<r.extensionMinimalMajorVersionAsChar)return!1;if(!r.minimalExtensionVersions)return!0;for(const t of r.minimalExtensionVersions)if(!this.isGreaterOrEqualThanMinimalVersion(t,e))return!1;return!0}isGreaterOrEqualThanMinimalVersion(t,e){return!t||(!(t.substr(0,1)===e.substr(0,1))||t<=e)}};t.exports=i},1854:(t,e,n)=>{const r=n(6602),i={};t.exports=t=>{const e=(t=>{const e=[],n=t.data.chainData;return n.url&&e.push(n.url),n.topUrl&&e.push(n.topUrl),e})(t);return 0!==e.length&&(t=>{const e=(()=>{const t=[];if(r.appsRulesBlocklist instanceof Array)for(const e of r.appsRulesBlocklist){if(!e.blockRegex)continue;const n=e.blockRegex+"__"+e.allowRegex;if(!i[n])try{const t=new RegExp(e.blockRegex),r=e.allowRegex?new RegExp(e.allowRegex):null;i[n]={blockRegex:t,allowRegex:r}}catch(t){}i[n]&&t.push(i[n])}return t})();for(const n of e)for(const e of t){const t=e.split("/").slice(2).join("/").split("?")[0].split("#")[0];if((!n.allowRegex||!n.allowRegex.test(t))&&n.blockRegex&&n.blockRegex.test(t))return!0}return!1})(e)}},6602:(t,e,n)=>{const{applications:r}=n(1435),i={ACTIONS:{log:"log",copy:"copy",paste:"paste",rage:"rage",mark:"mark",find:"find",scroll:"scroll",windowFocus:"windowFocus",contentFocus:"contentFocus",getExtensionData:"getExtensionData",windowOutOfFocus:"windowOutOfFocus",pageNavigation:"pageNavigation",iframeFocus:"iframeFocus",pageRefresh:"pageRefresh",tabSwitch:"tabSwitch",windowSwitch:"windowSwitch",contextSwitch:"contextSwitch",getFeature:"getFeature",getSessionData:"getSessionData",updateContext:"updateContext",updateNoCollection:"updateNoCollection",buttonClick:"button",navigationClick:"nav",search:"search",sendContextTracking:"sendContextTracking",dtidDiscover:"dtidDiscover",getIsDtiRunningFromExtension:"getIsDtiRunningFromExtension"},EVENT_TYPES:{contextTracking:"contextTracking",shouldRunDtid:"shouldRunDtid",dtidDiscoverResult:"dtidDiscoverResult",dtiDiscoverLog:"dtiDiscoverLog",runDtid:"runDtid",runDiscover:"runDiscover",dtidResult:"dtidResult",dtidLog:"dtidLog",getDiscoveryConfig:"getDiscoveryConfig"},CONTEXT_TYPES:{application:"application",context:"context",dtid:"dtid"}};i.INTERACTION_EVENTS=[i.ACTIONS.copy,i.ACTIONS.paste,i.ACTIONS.buttonClick,i.ACTIONS.navigationClick,i.ACTIONS.search,i.ACTIONS.mark,i.ACTIONS.find],i.METRICS={mouseDownCount:"mouseDownCount",charCount:"charCount",scrollCount:"scrollCount",tabClickCount:"tabClickCount",timeActivity:"timeActivity",textValuesEntryCount:"textValuesEntryCount",rageCount:"rageCount",chromeLanguage:"chromeLanguage",iframeGuid:"iframeGuid",url:"url",tabTitle:"tabTitle",systemId:"systemId",contentTimeStart:"contentTimeStart"},i.IFRAME_ACTIONS=[i.METRICS.mouseDownCount,i.METRICS.charCount,i.METRICS.scrollCount],i.FEATURES={enableDti:14},i.contextChangeEvents=[i.ACTIONS.windowFocus,i.ACTIONS.windowOutOfFocus,i.ACTIONS.windowSwitch,i.ACTIONS.pageNavigation,i.ACTIONS.pageRefresh,i.ACTIONS.tabSwitch,i.ACTIONS.updateContext,i.ACTIONS.contextSwitch,i.ACTIONS.updateNoCollection],i.sessionExpiredTimeInSeconds=1800,i.urlMaxLength=2e3,i.idleTimeThresholdInSeconds=30,i.postMessageIntervalInSeconds=0,i.postMessageCountLimit=0,i.extensionMinimalMajorVersionAsChar="3",i.dtiDataCollection={},i.endUserGuid=0,i.scrollTimeoutMilliseconds=2e3,i.maxUpdateTimeMilliseconds=20,i.systemIdTimeoutSeconds=10,i.dtiIdpRefreshInterval=void 0,i.enableIdpPdLogs=!1,i.enableIdpStatus=!1,i.enableIdp=!0,i.appsRulesBlocklist=[],i.configurationFileName="pd_configuration.json",i.overrideConfigurationFileName="pd_override_configuration.json",i.configurationFilePath="extension/pd_node_module/",i.dtidConfigFileName="dtid_config.json",i.systemNameWithNoTitle="Gmail",i.enableDtidV2=!1,i.disableDtidHashing=!1,i.enableDtidLogs=!1,i.reportHashMap=!1,i.whiteListedInteractionText=new Set(["accept","add","approve","back","cancel","clear","close","comment","compose","continue","copy","create","decline","delete","discard","done","download","edit","exit","filter","find","go","help","hide","home","join","log in","manage","merge","more","new","no","ok","open","print","refresh","remove","reply","save","search","select","send","set","settings","share","show","sign in","sign up","start","submit","subscribe","support","update","view","yes"]),i.applications={Gmail:["mail.google.com"],"Google Calendar":["calendar.google.com"],"Google Sheets":["docs.google.com/spreadsheets"],"Google Presentation":["docs.google.com/presentation"],"Google Docs":["docs.google.com/document"],"Google Drive":["drive.google.com"],"Google Search":["www.google.com"],Google:["google.com"],Monday:["monday.com"],Microsoft:["outlook.live.com","office.com","teams.microsoft.com","dynamics.com","office365.com"],Salesforce:["my.salesforce.com","visual.force.com","lightning.force.com"],"Success Factors":["successfactor.com","successfactor.eu"],Workday:["myworkday.com","workday.com"],Jira:["trello.com","atlassian.net"],facebook:["facebook.com"],linkedin:["linkedin.com"],twitter:["twitter.com"],"WalkMe SAML":["account.walkme.com"],Artifactory:["walkmedev.jfrog.io"],"Zoho Vault SAML":["accounts.zoho.com"],"WalkMe SAML (Dev Env)":["account.walkmedev.com"],CloudHealth:["cloudhealthtech.auth0.com"],"WalkMe SAML (QA Env)":["account.walkmeqa.com"],"WalkMe SAML (Dev2 Env)":["account2.walkmedev.com"],Hilan:["walkme-sso.net.hilan.co.il"],"WalkMe Hub":["hub.walkme.com"],"WalkMe Mobile QA Editor":["qa.dtapi.abbi.io"],"WalkMe EU SAML":["eu-account.walkme.com"],"WalkMe SAML (Staging)":["staging.account.walkme.com"],Panopta:["my.panopta.com"],WhiteSource:["app-eu.whitesourcesoftware.com"],BrainShark:["www.brainshark.com"],"Value Assessment":["value.walkme.com"],"ROI Calculator Staging":["valuewm.staging.wpengine.com"],Totango:["api.totango.com"],"Cyberark EPM":["cyberark.walkmedev.com"],"Tableau Test":["bi.walkme.com"],"Yalla Product":["yallaproduct.walkme.com"],SentinelOne:["sentinelone-program.sentinelone.net"],"Yalla Product Staging":["productblogwm.staging.wpengine.com"],FortiAuthenticator:["usvpn.walkme.com"],CrowdStrike:["falcon.crowdstrike.com"],Workato:["www.workato.com"],"Jenkins DeepUI":["jenkins-ecs-deepui.walkmernd.com"],"Logz.io":["app.logz.io"],Gitlab:["gitlab.com"],"Wix Answers":["walkme.wixanswers.com"],"Outreach SSO":["outreach-prod.auth0.com"],"csv users":["csv.com"],"Confluent Cloud SAML":["confluent.io"],"Datadog US":["app.datadoghq.com"],"GitLab Self Managed":["gitlab.walkmernd.com"],"Datadog EU":["app.datadoghq.eu"],"Testim.io":["services.testim.io"],"Workato SBX":["app.workato.com"],"NetSuite Custom":["system.netsuite.com"],"WalkMe SAML (QA Env) V2":["auth.walkmeqa.com"],"WalkMe SAML (Dev2 Env) V2":["auth.walkmedev.com"],"WalkMe US SAML V2":["auth.walkme.com"],"WalkMe EU SAML V2":["eu-auth.walkme.com"],"Checkpoint CloudGuard":["www.walkme.com"],OneTrust:["app-de.onetrust.com"]},i.PENDING_STATE="pend",i.FEATURES_NAMES={enableDti:"enableDti"},i.SENDING_STATUS={PENDING:"PENDING",TRUE:"TRUE",FALSE:"FALSE"},i.LOGGER={background:"WME - Background - ",content:"WME - Content - ",core:"WMEC - Background - ",data:"WME - Background Data - "},i.urlMatcherRegexLengthLimit=1e3,i.urlMatcherRateLimitMaxCounter=30,i.urlMatcherRateLimitIntervalLimit=6e4,i.urlMatcherRateLimitMinInterval=200,i.injectRateLimitMaxCounter=20,i.injectRateLimitIntervalLimit=6e5,i.injectRateLimitMinInterval=3e3,i.domainLimitControllerMaxSuccess=3,i.domainLimitControllerMaxAttempts=10,i.domainLimitControllerMinSuccessInterval=3e5,i.domainLimitControllerIntervalLimit=864e5,i.domainLimitControllerClearOldRecordsInterval=36e5,i.hashMappingReporterSendingInterval=864e5,i.hashMappingReporterIntervalDeviation=108e5,i.hashMappingReporterMaxRetriesCount=3,i.dtidRegularConfig={allowedRetries:3,waitForDocLoad:!0,retryInterval:3e3},i.dtidQuickConfig={allowedRetries:100,waitForDocLoad:!1,retryInterval:100},i.dtidAsyncConfig={allowedRetries:0,waitForDocLoad:!1,retryInterval:100},i.enableDtidDiscover=!1,i.discoverRules=[],i.injectDiscoverRateLimitMaxCounter=10,i.injectDiscoverRateLimitIntervalLimit=18e5,i.injectDiscoverRateLimitMinInterval=3e4,i.identifierDetectorApplications=r,i.enableVerboseLogs=!1,i.supportedBrowsers=["Chrome","Edge-Chromium"],i.configTag=null,t.exports=i},8893:(t,e,n)=>{const r=n(6602),i=n(3446),o=n(1353),s=new class{constructor(){this.sessionGuid=0,this.shouldSendDataToDeepUi=!1,this.generateSessionGuid()}initExtensionData(t,e){this.getHostDataCallback=e,this.extData=t;const n=t.envData.walkmeCdn+"/"+r.configurationFilePath;this.defaultConfigurationFile=n+r.configurationFileName,this.userConfigurationFile=n+t.extensionAnalytics.EnterpriseAccountGuid+"/"+r.configurationFileName,this.overrideConfigurationFile=n+r.overrideConfigurationFileName,this.dtidConfigFile=n+t.extensionAnalytics.EnterpriseAccountGuid+"/"+r.dtidConfigFileName}addHostData(t){const e=this.getHostDataCallback();t.chainData.envBrowserName=e.browser.name,t.chainData.envBrowserVersion=e.browser.version,t.chainData.envOsName=e.os.name,t.chainData.envOsVersion=e.os.version}addExtensionDataToContext(t){this.addHostData(t);const e="##AIO_GUID##"===this.extData.aioGuid||""===this.extData.aioGuid?void 0:this.extData.aioGuid;t.chainData.extensionVersion=this.extData.extVersion,t.chainData.extensionId=this.extData.extensionGuid,t.chainData.browserId=this.extData.installGuid,t.chainData.machineId=e,t.chainData.msaAccountGuid=this.extData.extensionAnalytics.EnterpriseAccountGuid,t.chainData.sessionGuid=this.sessionGuid,t.chainData.endUserGuid=r.endUserGuid,t.chainData.browserExtensionId=chrome.runtime.id}calculateContextProbability(t){if(!t.contextProbability)return;const e=Math.random();this.shouldSendDataToDeepUi=e<t.contextProbability}updateConfigurationData(t){let e=!1;const n={};for(const i in t)if(t.hasOwnProperty(i)){const o=this.isPropChanged(r[i],t[i]);o&&(e=o,n[i]=t[i]),r[i]=t[i]}return{configChanged:e,changedPropMap:n}}isPropChanged(t,e){let n=t,r=e;return"object"==typeof n&&(n=JSON.stringify(n)),"object"==typeof r&&(r=JSON.stringify(r)),n!==r}setConfigurationData(t,e){for(const n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}async loadConfigurationFile(t,e){const n=await o.requestData(t);n&&this.setConfigurationData(n,e)}async updateExtensionData(t,e,n,i){this.initExtensionData(t,e);const o={};await this.loadConfigurationFile(this.defaultConfigurationFile,o),await this.loadConfigurationFile(this.userConfigurationFile,o),await this.loadConfigurationFile(this.dtidConfigFile,o),await this.loadConfigurationFile(this.overrideConfigurationFile,o),this.calculateContextProbability(o);const s=this.updateConfigurationData(o);!i&&r.enableDtidLogs&&n&&s.configChanged&&n.info("Discovery configuration changed",{changedPropMap:s.changedPropMap})}generateSessionGuid(){return this.sessionGuid=i.new(),this.sessionGuid}getEnvAndExtensionGuid(){return this.extData?{env:this.extData.env,extensionGuid:this.extData.extensionGuid}:{}}getSessionData(){return{sessionGuid:this.sessionGuid,shouldSendDataToDeepUi:this.shouldSendDataToDeepUi,extensionGuid:this.extData.extensionGuid,endUserGuid:r.endUserGuid,idleTimeThresholdInSeconds:r.idleTimeThresholdInSeconds}}getShouldSendDataToDeepUi(){return this.shouldSendDataToDeepUi}};t.exports=s},2634:(t,e,n)=>{const r=n(3359),i=n(1353),o=n(347),s=n(8893),a=n(6602),c=n(5491),u=n(3250);class l{constructor(t,e,n,r,i=a.CONTEXT_TYPES.application){this.data={chainData:{contextId:r,url:e.url?e.url:"",contextChain:{},type:i,contentTimeStart:0,timeStart:n,idleTime:0,timeSpent:0,endTime:0,reason:t,mouseDownCount:0,textValuesEntryCount:0,charCount:0,tabClickCount:0,rageCount:0,scrollCount:0,isBlur:!1,interactionEvents:[],systemId:a.PENDING_STATE,sendingStatus:a.SENDING_STATUS.PENDING,tabId:e.tabId?e.tabId:-1,tabTitle:e.tabTitle,testedUuid:[],debugData:{},iframeGuid:e.iframeGuid?e.iframeGuid:""},chainTimes:[]},this.next=null,this.prev=null,s.addExtensionDataToContext(this.data),this.addSystemNameToContext(e),this.contextTimesCalculator=new o(this.data.chainData,s)}finalizeMetrics(){this.contextTimesCalculator.finalizeMetrics(),this.data.chainData.reason===a.ACTIONS.windowOutOfFocus&&this.data.chainData.idleTime>=a.sessionExpiredTimeInSeconds&&s.generateSessionGuid(),this.data.chainData.contextChain.length&&(this.data.chainData.contentIdentifier=i.hashStringSha1(JSON.stringify(this.data.chainData.contextChain)))}appendDataBeforeSending(){if(!0===a.enableIdpStatus){const t=new Date(this.data.chainData.timeStart).getTime(),e=this.data.chainData.endTime.getTime();this.data.chainData.debugData=this.data.chainData.debugData||{},this.data.chainData.debugData.idp=u.create(t,e)}"string"==typeof a.configTag&&a.configTag.length<=100&&(this.data.chainData.debugData=this.data.chainData.debugData||{},this.data.chainData.debugData.configTag=a.configTag)}trackTime(t,e,n){this.contextTimesCalculator.trackTime(t,e,n)}isExpired(){return this.contextTimesCalculator.isExpired()}appendNextNode(t){this.data.chainData.endTime=new Date(t.data.chainData.timeStart),this.finalizeMetrics(),t.next=this.next,t.prev=this,this.next=t,t.next&&(t.data.chainData.endTime=new Date(t.next.data.chainData.timeStart),t.finalizeMetrics())}isNewContextTrackingEvent(t){if(!this.systemName||t.type!==a.EVENT_TYPES.contextTracking)return!1;const e=this.data.chainData;return t.contextChain&&t.contextChain!==e.contextChain[this.systemName]}addContextTrackingEventToContextChain(t){const e=this.data.chainData;e.type=a.CONTEXT_TYPES.context,this.systemName||this.createContextChainData(a.EVENT_TYPES.contextTracking),t.testUuid&&t.testUuid.length&&(e.testedUuid=t.testUuid),t.contextChain&&t.contextChain.length&&(e.contextChain[this.systemName]=t.contextChain)}addSystemNameToContext(t,e){const n=r.extractContextNameFromUrl(t.url);!t.url||!e&&this.data.chainData.contextChain[n]||this.createContextChainData(n)}getContextChainData(t){return 0===Object.keys(t).length?[]:t[Object.keys(t)[0]]}createContextChainData(t){const e=this.data.chainData,n=this.getContextChainData(e.contextChain);e.contextChain={},e.contextChain[t]=n,e.contentIdentifier=i.hashStringSha256(JSON.stringify(e.contextChain)),this.systemName=t}shouldSendContext(t,e){const n=i.getUrlPath(this.data.chainData.url);return this.data.chainData.sendingStatus!==a.SENDING_STATUS.TRUE&&t===this.data.chainData.tabId&&e==n&&this.data.chainData.reason!==a.ACTIONS.windowOutOfFocus&&this.data.chainData.systemId&&(this.data.chainData.systemId!==a.SENDING_STATUS.PENDING||this.data.chainData.timeSpent<=1e3*a.systemIdTimeoutSeconds)}updateSendingStatus(t,e){this.shouldSendContext(t,e)&&(this.data.chainData.sendingStatus=a.SENDING_STATUS.TRUE,this.prev&&this.prev.updateSendingStatus(t,e))}}class h{constructor(t=null){this.head=t,this.tail=t,this.length=0,this.contextId=1}clearList(){this.head=null,this.tail=null,this.length=0}getLength(){return this.length}pushContext(t,e,n,r){const i=new l(t,e,n,this.contextId,r);return this.contextId++,this.length++,this.tail?this.insertContextToList(i):this.tail=i,this.head||(this.head=this.tail),i}getContextByTime(t,e,n=0){let r=this.head;if(!(r&&r.data.chainData.timeStart>t)){for(;this.shouldCurrentNodeMoveToNext(r,t,e,n);)r=r.next;return r}}insertContextToList(t){const e=t.data.chainData.timeStart,n=this.getContextByTime(e,e);n?n.appendNextNode(t):(t.appendNextNode(this.head),this.head=t),this.moveTailToLast()}moveTailToLast(){for(;this.tail&&this.tail.next;)this.tail=this.tail.next}isTimeBefore(t,e,n){return(t=n?i.setTimeAheadByMilliseconds(t,n):new Date(t))<new Date(e)}shouldCurrentNodeMoveToNext(t,e,n=e,r=0){return t&&t.next&&this.isTimeBefore(t.data.chainData.timeStart,e,r)&&this.isTimeBefore(t.next.data.chainData.timeStart,n,r)}getHeadContext(){return this.head}getTailContext(){return this.tail}moveToNextContext(){if(this.head&&c.removeStatusesOlderThan(new Date(this.head.data.chainData.timeStart).getTime()),this.length--,this.head===this.tail)this.head=null,this.tail=null;else if(this.head){const t=this.head.next;this.head.next=null,this.head=t}}generateContextsWithSystemId(){const t={};let e=this.head;for(;e;){const n=e.data.chainData;if(n.systemId&&n.systemId!==a.PENDING_STATE){const e=i.getUrlPath(n.url);t[n.tabId]||(t[n.tabId]={}),t[n.tabId][e]=n.systemId}e=e.next}return t}}const d=new h;t.exports={contextList:d,ContextList:h}},8752:(t,e,n)=>{const r=n(6602),i=n(1353),o=n(8893),s=n(2634).contextList,a=n(6006).contextMetricsUpdater,c=n(3359);t.exports={ContextManager:class{constructor(t){this.isBrowserOutOfFocus=!1,this.lastPageRefreshTime=0,r.endUserGuid=t}async updateExtensionData(t,e,n,r){await o.updateExtensionData(t,e,n,r)}handleContextChangeEvent(t,e){if(t===r.ACTIONS.updateNoCollection)return a.updateNoCollection(e.nowTime);const n=e.nowTime?e.nowTime.toISOString():(new Date).toISOString();return this.fixTabTitleForGmailContexts(e),t===r.ACTIONS.pageRefresh?[this.updatePageRefreshState(t,e,n)]:t===r.ACTIONS.windowFocus||t===r.ACTIONS.windowSwitch?(this.handleWindowSwitchEvent(t,e,n),[]):t===r.ACTIONS.updateContext?a.updateContext(e):t===r.ACTIONS.windowOutOfFocus?[this.handleOutOfFocusEvent(n)]:[this.handleBrowserEvents(t,e,n)]}checkIsPageRefresh(t,e,n){if(!n)return;const r=!this.isBrowserOutOfFocus&&t.tabId===n.data.chainData.tabId,o=!this.lastPageRefreshTime||i.calcTimeDiff(e,this.lastPageRefreshTime)>1,s=i.calcTimeDiff(e,n.data.chainData.endTime)>=.2;return r&&o&&s}fixTabTitleForGmailContexts(t){!t||c.extractContextNameFromUrl(t.url)!==r.systemNameWithNoTitle&&c.extractContextNameFromUrl(t.url)!==r.systemNameWithNoTitle||(t.tabTitle="****")}updatePageRefreshState(t,e,n){const r=new Date(n),i=s.getTailContext();this.checkIsPageRefresh(e,r,i)&&(e.url=i.data.chainData.url,e.tabTitle=i.data.chainData.tabTitle,s.pushContext(t,e,n)),this.lastPageRefreshTime=r}handleOutOfFocusEvent(t){const e=s.getTailContext();this.isBrowserOutOfFocus=!0,e&&(e.data.chainData.endTime=t,s.pushContext(r.ACTIONS.windowOutOfFocus,e.data.chainData,t))}handleWindowSwitchEvent(t,e,n){this.isBrowserOutOfFocus=!1,s.pushContext(t,e,n)}buildWindowFocusContext(t,e){const n=s.getTailContext(),r=this.isBrowserOutOfFocus&&n;return r&&(this.isBrowserOutOfFocus=!1,s.pushContext(t,n.data.chainData,e)),r}isContentOutOfFocus(t,e){return!this.isBrowserOutOfFocus&&(this.isCurrentContextReady(e)||e.contentTimeStart&&t.contentTimeStart>e.contentTimeStart)}handleContentOutOfFocus(t){const e=s.getTailContext();e&&this.isContentOutOfFocus(t,e.data.chainData)&&(this.isBrowserOutOfFocus=!0,s.pushContext(r.ACTIONS.windowOutOfFocus,e.data.chainData,t.contentTimeStart),this.buildWindowFocusContext(r.ACTIONS.windowFocus,t.contentTimeStart))}handleBrowserEvents(t,e,n){this.isBrowserEventValid(t,e)&&(this.isBrowserOutOfFocus=!1,s.pushContext(t,e,n))}isBrowserEventValid(t,e){if(t===r.ACTIONS.tabSwitch)return!0;const n=e.tabId&&e.tabId>0;if(this.isBrowserOutOfFocus||!n)return!1;const i=s.getTailContext();return t===r.ACTIONS.pageNavigation&&(!i||-1===i.data.chainData.tabId||e.tabId===i.data.chainData.tabId)}isCurrentContextReady(t){return t.timeSpent&&t.reason&&t.timeStart&&t.isBlur}generateSessionGuid(){return o.generateSessionGuid()}getShouldSendDataToDeepUi(){return o.getShouldSendDataToDeepUi()}getSessionData(){return o.getSessionData()}}}},6006:(t,e,n)=>{const r=n(6602),i=n(1854),o=n(2634).contextList,s=n(1353),a=n(669);class c{constructor(){}handleInteractionEvent(t,e){const n={};n[t.action]=t.details,e.data.chainData.interactionEvents.push(n)}updateFieldInContext(t,e,n,r){void 0===e[n]||r&&t.data.chainData[n]||(t.data.chainData[n]=e[n])}addDebugDataToContextChain(t,e){a.addDebugDataToContextChain(t,e)}updateSystemId(t,e){e.systemId?(this.updateFieldInContext(t,e,r.METRICS.systemId),e.systemId!==r.PENDING_STATE&&t.updateSendingStatus(e.tabId,s.getUrlPath(e.url))):(t.data.chainData.sendingStatus=r.SENDING_STATUS.FALSE,delete t.data.chainData.systemId)}isForceUpdateSystem(t,e){const n=e.isTop,r=s.getUrlPath(e.url),i=s.getUrlPath(t.data.chainData.url);return n&&r!==i}updateCurrentContext(t,e,n){const i=this.isForceUpdateSystem(t,e);this.updateFieldInContext(t,e,r.METRICS.chromeLanguage,!0),this.updateFieldInContext(t,e,r.METRICS.contentTimeStart),this.addDebugDataToContextChain(t,e),e.isTop&&(this.updateFieldInContext(t,e,r.METRICS.tabTitle),this.updateSystemId(t,e),this.updateFieldInContext(t,e,r.METRICS.url),this.updateFieldInContext(t,e,r.METRICS.iframeGuid,!0)),-1===t.data.chainData.tabId&&e.tabId>0&&(t.data.chainData.tabId=e.tabId),this.updatePerformanceObject(e,t),t.addSystemNameToContext(e,i),this.handleContextExpired(t,n)}handleContextExpired(t,e){t.isExpired()&&(t.data.chainData.reason||(t.data.chainData.reason=r.ACTIONS.windowFocus),e&&o.pushContext(t.data.chainData.reason,t.data.chainData,e.toISOString()))}isUpdateContextValid(t,e){const n=t.data.chainData.tabId;return!(e.tabId>0&&n>0&&n!==e.tabId||t.data.chainData.reason===r.ACTIONS.windowOutOfFocus)}isContextAlreadyClosed(t,e){const n=new Date(t.data.chainData.timeStart);return e.timeStart<n&&(!e.lastUpdateTime||e.lastUpdateTime<n)}fixWindowOutOfFocusEndTime(t,e,n){const i=t.data.chainData,o=i.tabId>0&&i.tabId===n.tabId&&i.reason===r.ACTIONS.windowOutOfFocus,s=i.endTime?i.endTime-e.timeStart:0;o&&s<5&&s>0&&(i.endTime=e.timeStart,t.next&&(t.next.data.chainData.timeStart=e.timeStart.toISOString()))}createNewContextIfNewContextTrackingArrived(t,e){if(e.isNewContextTrackingEvent(t)){const n=e.data.chainData,i=t.timeStart.toISOString();e=o.pushContext(r.ACTIONS.contextSwitch,n,i,r.CONTEXT_TYPES.context)}return e}getCurrentContext(t,e){t.timeStart=new Date(t.timeStart),t.lastUpdateTime=t.lastUpdateTime&&new Date(t.lastUpdateTime);let n=o.getContextByTime(t.timeStart,t.lastUpdateTime,t.maxUpdateTimeMilliseconds);return n&&this.fixWindowOutOfFocusEndTime(n,t,e),n=this.createNewContextIfNewContextTrackingArrived(t,n),n}addTimeActivityIfActivityEmpty(t){0===t.activityEvents.length&&t.activityEvents.push({action:r.METRICS.timeActivity,timeStart:t.contentTimeStart,lastUpdateTime:t.updateContextTime,shouldSkipTrackTime:!0,maxUpdateTimeMilliseconds:r.maxUpdateTimeMilliseconds})}isCollectingAllApps(){return r.dtiDataCollection&&!0===r.dtiDataCollection.enableApps}isSystemIdValid(t){const e=t.data.chainData;return!(!e.systemId||e.systemId===r.PENDING_STATE)||(e.sendingStatus,r.SENDING_STATUS.TRUE,!1)}shouldAppendToReadyContexts(t){const e=this.isCollectingAllApps();return!i(t)&&(e||this.isSystemIdValid(t))}appendSystemIdToContext(t,e){const n=t.data.chainData,i=s.getUrlPath(n.url);if(n.systemId&&n.systemId===r.PENDING_STATE){const t=e[n.tabId]&&e[n.tabId][i];t&&(n.systemId=t)}}collectReadyContexts(t){const e=[];let n=o.getHeadContext();const r=o.generateContextsWithSystemId();for(;o.shouldCurrentNodeMoveToNext(n,t.contentTimeStart,t.updateContextTime,1e4);)n.trackTime(),this.appendSystemIdToContext(n,r),this.shouldAppendToReadyContexts(n)&&(n.appendDataBeforeSending(),e.push(n.data)),this.handleContextExpired(n),o.moveToNextContext(),n=o.getHeadContext();return e}updateNoCollection(t){return this.collectReadyContexts({contentTimeStart:t})}updateContext(t){this.addTimeActivityIfActivityEmpty(t);const e=t.activityEvents.sort(((t,e)=>t.timeStart>e.timeStart?1:e.timeStart>t.timeStart?-1:0));for(let n=0;n<e.length;n++){const i=e[n],o=this.getCurrentContext(i,t);o&&this.isUpdateContextValid(o,t)&&!this.isContextAlreadyClosed(o,i)&&(i.type===r.EVENT_TYPES.contextTracking?(o.trackTime(i.timeStart,i.lastUpdateTime||i.timeStart,i.shouldSkipTrackTime),o.addContextTrackingEventToContextChain(i),this.updateCurrentContext(o,t,i.timeStart)):(o.trackTime(i.timeStart,i.lastUpdateTime||i.timeStart,i.shouldSkipTrackTime),i.action===r.METRICS.timeActivity?this.updateCurrentContext(o,t,i.timeStart):r.INTERACTION_EVENTS.includes(i.action)?this.handleInteractionEvent(i,o):o.data.chainData[i.action]++),t.isTop&&this.updateSystemId(o,t))}return this.collectReadyContexts(t)}updatePerformanceObject(t,e){t.perfInsights&&(e.data.chainData=Object.assign(e.data.chainData,t.perfInsights))}}const u=new c;t.exports={contextMetricsUpdater:u,ContextMetricsUpdater:c}},9106:t=>{class e{constructor(){this.elements={},this.resetElements()}resetElements(){this.head=0,this.tail=0}enqueue(t){this.elements[this.tail]=t,this.tail++}dequeue(){const t=this.elements[this.head];return delete this.elements[this.head],this.head++,t}getLength(){return this.tail-this.head}isEmpty(){return 0===this.getLength()}}const n=new e;t.exports={contextQueue:n,ContextQueue:e}},347:(t,e,n)=>{const r=n(6602),i=n(1353);t.exports=class{constructor(t,e){this.context=t,this.lastActive=new Date(this.context.timeStart),this.consecutiveIdleTime=0,this.isIdleTimeExpired=!1,this.contextExtensionDataManager=e}finalizeMetrics(){this.isIdleTimeExpired&&this.context.timeSpent||(this.context.timeSpent=this.context.endTime?i.calcTimeDiff(this.context.endTime,new Date(this.context.timeStart)):0,0===this.context.timeSpent?this.context.idleTime=0:this.context.reason===r.ACTIONS.windowOutOfFocus&&(this.context.timeSpent=Math.min(this.context.timeSpent,r.sessionExpiredTimeInSeconds),this.context.idleTime=this.context.timeSpent))}isExpired(){return this.isIdleTimeExpired}updateIsExpired(){!this.isIdleTimeExpired&&this.consecutiveIdleTime>=r.sessionExpiredTimeInSeconds&&(this.isIdleTimeExpired=!0,this.contextExtensionDataManager.generateSessionGuid())}calculateIdleTime(t){if(this.updateIsExpired(),this.isIdleTimeExpired){const e=new Date(this.lastActive.getTime()+1e3*r.sessionExpiredTimeInSeconds),n=i.calcTimeDiff(e,new Date(this.context.timeStart)),o=i.calcTimeDiff(e,this.lastActive);this.context.timeSpent=this.context.timeSpent?Math.min(this.context.timeSpent,n):n,t=Math.min(t,o)}this.context.idleTime+=t}shouldSkipTrackTime(t,e,n){return 0===t||0===e||this.isExpired()||n||this.context.reason===r.ACTIONS.windowOutOfFocus}trackTime(t=this.context.endTime,e=this.context.endTime,n=!1){if(this.shouldSkipTrackTime(t,e,n))return;this.consecutiveIdleTime=0;const o=i.calcTimeDiff(t,this.lastActive);o>r.idleTimeThresholdInSeconds&&(this.consecutiveIdleTime+=o,this.calculateIdleTime(o)),this.lastActive=e}}},6704:(t,e,n)=>{const r=n(6602);t.exports=new class{init(t){t.subscribe(r.EVENT_TYPES.getDiscoveryConfig,(()=>{const t=r.dtiDataCollection&&!0===r.dtiDataCollection.enableApps;return{enableApps:t,enableAppsForWmSystems:t||r.dtiDataCollection&&!0===r.dtiDataCollection.enableAppsForWmSystems}}))}}},8150:(t,e,n)=>{const r=n(8752).ContextManager,i=n(6602),o=n(3359),s=n(8912),a=n(8925).IdpUserManager,c=n(3232).PostContextManager,u=n(6200).IdFetcherController,l=n(669),h=n(6704);t.exports={DiscoveryManager:class{constructor(t,e,n,r){this.extStorage=e,this.postContextManager=new c(t),this.messageSubscriber=n,this.idFetcherController=new u(this.messageSubscriber,r,e,t,this.postContextManager),this.datadogLogger=t,l.setIdFetcherController(this.idFetcherController)}generateContextChain(t){this.contextManager=new r(t),this.idpUserManager=new a(t)}async updateTrackerLoadingCondition(t,e,n){await this.contextManager.updateExtensionData(t,e,this.datadogLogger,n)}initBackgroundTracker(t,e,n){this.postContextManager.updatePostContextIntervalThreshold(),!0===i.enableIdp?this.idpUserManager.callIdpInit(this.extStorage,t,e(),n):this.idpUserManager.callIdpStop();const r=t&&t.extensionAnalytics&&t.extensionAnalytics.EnterpriseAccountGuid;this.idFetcherController.init(r).catch((()=>{})),h.init(this.messageSubscriber)}stopBackgroundTracker(t){this.postContextManager.stopPostContextInterval(),this.idpUserManager.callIdpStop()}shouldTrackBackground(t){return t&&t.extensionAnalytics&&t.extensionAnalytics.EnterpriseAccountGuid&&s.getShouldLoadBackgroundTracker()}storeLogEvent(t,e){const n=e.details,r=e.extData;if(this.shouldTrackBackground(r)&&i.contextChangeEvents.includes(t)){n.systemName=o.extractContextNameFromUrl(n.url);const e=this.contextManager.handleContextChangeEvent(t,n);this.pushContextDataToQueue(e)}}pushContextDataToQueue(t){if(this.contextManager.getShouldSendDataToDeepUi())for(const e of t)e&&this.postContextManager.pushContextDataToQueue(e)}getSessionData(){return this.contextManager.getSessionData()}}}},507:(t,e,n)=>{const r=n(6602),i=n(3093);t.exports={create:t=>{const e={regexLengthLimit:r.urlMatcherRegexLengthLimit},n={maxCounter:r.urlMatcherRateLimitMaxCounter,intervalLimit:r.urlMatcherRateLimitIntervalLimit,minInterval:r.urlMatcherRateLimitMinInterval},o={maxCounter:r.injectRateLimitMaxCounter,intervalLimit:r.injectRateLimitIntervalLimit,minInterval:r.injectRateLimitMinInterval},s={maxSuccess:r.domainLimitControllerMaxSuccess,maxAttempts:r.domainLimitControllerMaxAttempts,minSuccessInterval:r.domainLimitControllerMinSuccessInterval,intervalLimit:r.domainLimitControllerIntervalLimit,clearOldRecordsInterval:r.domainLimitControllerClearOldRecordsInterval},a={url:i.ENVIRONMENTS[t.env]&&i.ENVIRONMENTS[t.env].reportHashMapEndPoint,sendingInterval:r.hashMappingReporterSendingInterval,intervalDeviation:r.hashMappingReporterIntervalDeviation,maxRetriesCount:r.hashMappingReporterMaxRetriesCount,msaId:t.msaId};return{urlMatcher:e,urlMatcherRateLimit:n,injectRateLimit:o,domainLimitController:s,injectDiscoverRateLimit:{maxCounter:r.injectDiscoverRateLimitMaxCounter,intervalLimit:r.injectDiscoverRateLimitIntervalLimit,minInterval:r.injectDiscoverRateLimitMinInterval},hashMappingReporter:a,discoverParamsProvider:{enabled:r.enableDtidDiscover,rules:r.discoverRules,endUserGuid:r.endUserGuid}}}}},5250:t=>{t.exports={DiscoverParamsProvider:class{constructor(t){this.stateChanged=t.stateChanged,this.state=this.validateState(t.state)?t.state:{map:[]},this.updateConfig(t.config)}validateState(t){return t&&"object"==typeof t.map}updateConfig(t){this.hashes=!0===t.enabled&&this.getAutoDiscoveryHashes(t.rules,t.endUserGuid)||[],this.cleanUpUnusedHahses()}getAutoDiscoveryHashes(t,e){const n=[];try{if(t)for(let r=0;r<t.length;r++){const i=t[r].endUserGuids[e]&&t[r].endUserGuids[e].scriptParams.hashes;if(i)for(let t=0;t<i.length;t++)-1===n.indexOf(i[t])&&n.push(i[t])}}catch(t){}return n}cleanUpUnusedHahses(){let t=!1;for(const e in this.state.map)Object.prototype.hasOwnProperty.call(this.state.map,e)&&-1===this.hashes.indexOf(e)&&(t=!0,delete this.state.map[e]);t&&this.stateChanged(this.state)}reportEmail(t,e){this.hashes&&-1!==this.hashes.indexOf(t)&&void 0===this.state.map[t]&&(this.state.map[t]=e,this.stateChanged(this.state))}getMatchingIdsFromHashes(t){const e=[];for(const n in this.state.map)Object.prototype.hasOwnProperty.call(this.state.map,n)&&-1!==t.indexOf(n)&&e.push(btoa(this.state.map[n]));return e}getDiscoverParams(t){let e=t.scriptParams.ids||[];return 0===e.length&&t.scriptParams.hashes&&(e=this.getMatchingIdsFromHashes(t.scriptParams.hashes)),{ids:e}}}}},2012:t=>{t.exports=function(){try{var t;return e={62:t=>{const e={_walkmeInternals:1,_makeTutorial:1,_walkMe:1,walkMeWorkday:1,"walkMe_wm-session-per-user":1,walkme_sf_vars:1,_wmExtensionApi:1,"walkMe_wm-hb":1},n=t=>e[t],r=(t,e,i,o,s,a,c,u)=>{if(a.length>1e5)return"seenLimit";if(u%50==0&&performance.now()>c)return"timeout";switch(typeof t){case"string":if(e.some((e=>e.searchedString.length==t.length&&e.exactRegex.test(t))))s.push(o.substring(1));else if(("{"===(h=t)[0]&&"}"===h[h.length-1]||"["===h[0]&&"]"===h[h.length-1])&&-1===a.indexOf(t)){a.push(t);try{if(e.some((e=>e.containsRegex.test(t)))){const n=r(JSON.parse(t),e,10,o+"{}",s,[],c,u++);if(n)return n}}catch(t){}}return;case"object":if(!t||i<=0||(l=t)instanceof HTMLElement||l instanceof Document||-1!==a.indexOf(t))return;if(a.push(t),"[object Array]"===Object.prototype.toString.apply(t)){const n=Math.min(t.length,200);for(let l=0;l<n;l++){const n=r(t[l],e,i-1,o+"."+l,s,a,c,u++);if(n)return n}}else for(const l in t)if(t.hasOwnProperty(l)&&!n(l))try{const n=r(t[l],e,i-1,o+"."+l,s,a,c,u++);if(n)return n}catch(t){}}var l,h};t.exports=(t,e)=>{try{const n=e.map((t=>{const e=(t=>t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"))(t);return{exactRegex:new RegExp("^"+e+"$","i"),containsRegex:new RegExp(e,"i"),searchedString:t}})),i=[],o=[],s=performance.now(),a=r(t,n,10,"",i,o,s+1e3,1)||"ended",c=i.length>0;return{paths:i,status:a,time:performance.now()-s|0,objects:o.length,didFind:c}}catch(t){return{status:"error",info:t.message}}}},515:(t,e,n)=>{const r=n(62),i="discoverLog";t.exports=function(t,e,n){let o=!1;const s=()=>{try{if(o)return;if("complete"!==document.readyState)return void window.dispatchEvent(new CustomEvent("wm_dtid_"+e,{detail:{action:i,logName:"cantRunDocNotComplete",logData:n}}));if(!document.hasFocus())return void window.dispatchEvent(new CustomEvent("wm_dtid_"+e,{detail:{action:i,logName:"cantRunDocNotFocused",logData:n}}));window.dispatchEvent(new CustomEvent("wm_dtid_"+e,{detail:{action:i,logName:"startDiscoverAfterMouseDown",logData:n}})),o=!0,window.removeEventListener("mousedown",s,!0);const a=r(window,t.ids.map((t=>atob(t))));window.dispatchEvent(new CustomEvent("wm_dtid_"+e,{detail:{action:"discoverResult",result:a,logData:n}}))}catch(t){}};try{window.dispatchEvent(new CustomEvent("wm_dtid_"+e,{detail:{action:i,logName:"startAndWait",logData:n}}))}catch(t){}window.addEventListener("mousedown",s,!0)}}},n={},(t=function t(r){var i=n[r];if(void 0!==i)return i.exports;var o=n[r]={exports:{}};return e[r](o,o.exports,t),o.exports}(515)).apply(t,arguments)}catch(n){}var e,n}},8002:t=>{t.exports={DomainLimitController:class{constructor(t){this.updateConfig(t.config),this.stateChanged=t.stateChanged,this.state=this.validateState(t.state)?t.state:{map:{},clearOldRecordsTime:Date.now()}}updateConfig(t){this.maxAttempts=t.maxAttempts,this.maxSuccess=t.maxSuccess,this.intervalLimit=t.intervalLimit,this.minSuccessInterval=t.minSuccessInterval,this.clearOldRecordsInterval=t.clearOldRecordsInterval}validateState(t){return t&&"number"==typeof t.clearOldRecordsTime&&"object"==typeof t.map}shouldExecute(t){const e=Date.now();if(e>=this.state.clearOldRecordsTime+this.clearOldRecordsInterval&&(this.state.clearOldRecordsTime=e,this.clearOldRecords(e)),this.state.map[t]){if(e>=this.state.map[t].time+this.intervalLimit)return this.state.map[t]=this.createNewRecord(e),{value:!0};if(e<this.state.map[t].lastSuccessTime+this.minSuccessInterval)return{value:!1,info:"tooFrequent"};if(this.state.map[t].success>=this.maxSuccess)return{value:!1,info:"successLimit"};if(this.state.map[t].total>=this.maxAttempts)return{value:!1,info:"attemptsLimit"}}return{value:!0}}reportAttempt(t){this.state.map[t]=this.state.map[t]||this.createNewRecord(),this.state.map[t].total++;try{this.stateChanged&&this.stateChanged(this.state,t)}catch(t){}}reportSuccess(t){this.state.map[t]=this.state.map[t]||this.createNewRecord(),this.state.map[t].success++,this.state.map[t].lastSuccessTime=Date.now();try{this.stateChanged&&this.stateChanged(this.state,t)}catch(t){}}createNewRecord(t){return{success:0,total:0,time:t||Date.now(),lastSuccessTime:-1}}clearOldRecords(t){const e={};for(const n in this.state.map)Object.prototype.hasOwnProperty.call(this.state.map,n)&&(t>=this.state.map[n].time+this.intervalLimit||(e[n]=this.state.map[n]));this.state.map=e}}}},817:(t,e,n)=>{const r=n(6602),i=n(8893);t.exports={DtidEventsSender:class{constructor(t){this.postContextManager=t}sendDtidEvent(t,e,n){const o={chainData:{url:n.tabUrl,type:r.CONTEXT_TYPES.dtid,tabId:n.tabId?n.tabId:-1,contextChain:{},reason:t,timeStart:(new Date).toISOString(),timeSpent:0,idleTime:0,interactionEvents:[],debugData:e}};i.addExtensionDataToContext(o),this.postContextManager.pushContextDataToQueue(o)}}}},6801:t=>{const e=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,n=["@googlemail.com","@gmail.com","@outlook.com","@hotmail.com","@hotmail.co.uk","@live.com","@yahoo.com"];t.exports={emailValidator:new class{validate(t){return"string"==typeof t&&e.test(t)}isPrivateEmail(t){const e=t.toLowerCase();for(let t=0;t<n.length;t++)if(e.endsWith(n[t]))return!0;return!1}}}},7221:t=>{const e="local",n="dti_gradual_enroller_flags";class r{constructor(t,e){this.storage=t,this.generatePercentageHash=e,this.flags=null}async shouldActivate(t,r){try{const i=this.tryResolve(r);return"boolean"==typeof i?i:(this.flags||(this.flags=await this.storage.getStorageItem(n,e)||{}),"number"!=typeof this.flags[t]&&(this.flags[t]=Math.random(),await this.storage.setStorageItem(n,this.flags,e)),this.flags[t]<=r)}catch(t){return!1}}async shouldActivateByHash(t,e){try{const n=this.tryResolve(e);return"boolean"==typeof n?n:this.generatePercentageHash(t)<=e}catch(t){return!1}}tryResolve(t){return"boolean"==typeof t?t:!("number"!=typeof t||t<=0)&&(t>=1||void 0)}}let i;t.exports={getInstance:(t,e)=>(i||(i=new r(t,e)),i)}},3227:(t,e,n)=>{const r=n(2840).obfuscate;t.exports={HashMappingReporter:class{constructor(t){this.updateConfig(t.config),this.stateChanged=t.stateChanged,this.state=this.validateState(t.state)?t.state:this.createNewState(!0),this.reportInProgress=!1}updateConfig(t){this.url=t.url,this.sendingInterval=t.sendingInterval,this.msaId=t.msaId,this.intervalDeviation=t.intervalDeviation,this.maxRetriesCount=t.maxRetriesCount}recordMapping(t,e){this.state.map[t]||(this.state.map[t]=e,this.reportStateChanged())}async tryReport(){if(Date.now()>this.state.nextReportTime&&this.url&&!1===this.reportInProgress){this.reportInProgress=!0;try{const t=this.createEventBody();if(t){let e;try{e=(await fetch(this.url,{method:"POST",mode:"cors",cache:"no-cache",headers:{"Content-Type":"application/json;charset=UTF-8"},body:JSON.stringify(t)})).status}catch(t){}if(200===e)this.state=this.createNewState(!1);else{const t="number"==typeof this.state.retriesCount?this.state.retriesCount:0;t<this.maxRetriesCount?(this.state=this.createNewState(!1,this.state.map),this.state.retriesCount=t+1):this.state=this.createNewState(!0)}}this.reportStateChanged()}catch(t){}}this.reportInProgress=!1}validateState(t){return t&&"number"==typeof t.nextReportTime&&"object"==typeof t.map}reportStateChanged(){try{this.stateChanged&&this.stateChanged(this.state)}catch(t){}}createNewState(t,e){let n=Date.now()+(t?-1:this.sendingInterval);return"number"==typeof this.intervalDeviation&&this.intervalDeviation>0&&(n+=Math.random()*this.intervalDeviation|0),{nextReportTime:n,map:e||{}}}createEventBody(){const t=[];for(const e in this.state.map)this.state.map.hasOwnProperty(e)&&t.push({key:e,value:r(this.state.map[e])});if(t.length>0)return{msaGuid:this.msaId,mappings:t}}}}},6200:(t,e,n)=>{const r=n(6602),i=n(1025).UrlMatcher,o=n(1184).RateLimitController,s=n(8002).DomainLimitController,a=n(9255),c=n(2012),u=n(7221),l=n(6801).emailValidator,h=n(507),d=n(3227).HashMappingReporter,{hashEmail:f,obfuscate:p,generatePercentageHash:g}=n(2840),v=n(1353),{DiscoverParamsProvider:m}=n(5250),y="dtid_urlMatcherRateLimit",w="dtid_injectRateLimit",b="dtid_domainLimitController",x="dtid_hashMappingReporter",S="dtid_injectDiscoverRateLimit",E="dtid_discoverParamsProvider",A=n(8893),D=n(817).DtidEventsSender,C="local";let I=-1;t.exports={IdFetcherController:class{constructor(t,e,n,r,i){this.messageSubscriber=t,this.invokeFunctionToPage=e,this.storage=n,this.logger=r,this.gradualEnroller=u.getInstance(n,g),this.dtidEventsSender=new D(i),this.isEnabled=!1}async init(t){if(this.isEnabled=await this.gradualEnroller.shouldActivate("enableDtid",r.enableDtidV2),!0!==this.isEnabled)return;if("string"!=typeof t||32!==t.length)return this.isEnabled=!1,void(r.enableDtidLogs&&this.logger.daily(5,2,"error in dtid init, no salt"));this.salt=t,this.enableVerboseLogs=await this.shouldEnableVerboseLogs();const e=A.getEnvAndExtensionGuid().env,n=h.create({msaId:t,env:e});if(I=2*r.domainLimitControllerMaxSuccess,!0===this.initialized)this.urlMatcher.updateConfig(n.urlMatcher),this.urlMatcherRateLimit.updateConfig(n.urlMatcherRateLimit),this.injectRateLimit.updateConfig(n.injectRateLimit),this.domainLimitController.updateConfig(n.domainLimitController),this.injectDiscoverRateLimit.updateConfig(n.injectDiscoverRateLimit),this.hashMappingReporter.updateConfig(n.hashMappingReporter),this.discoverParamsProvider.updateConfig(n.discoverParamsProvider);else{const t=await v.allSettled([this.storage.getStorageItem(y,C),this.storage.getStorageItem(w,C),this.storage.getStorageItem(b,C),this.storage.getStorageItem(S,C),this.storage.getStorageItem(x,C),this.storage.getStorageItem(E,C)]);let e,a;this.urlMatcher=new i({config:n.urlMatcher}),this.urlMatcherRateLimit=new o({config:n.urlMatcherRateLimit,state:t[0].value,stateChanged:t=>{this.storage.setStorageItem(y,t,C).catch((()=>{}))}}),this.injectRateLimit=new o({config:n.injectRateLimit,state:t[1].value,stateChanged:t=>{this.storage.setStorageItem(w,t,C).catch((()=>{}))}}),this.domainLimitController=new s({config:n.domainLimitController,state:t[2].value,stateChanged:(t,e)=>{this.storage.setStorageItem(b,t,C).then((()=>{t.map[e].total===I&&r.enableDtidLogs&&this.logger.daily(4,2,"dtid domain threshold reached",{hostname:e,threshold:I})})).catch((()=>{}))}}),this.injectDiscoverRateLimit=new o({config:n.injectDiscoverRateLimit,state:t[3].value,stateChanged:t=>{this.storage.setStorageItem(S,t,C).catch((()=>{}))}});try{e=JSON.parse(p(t[4].value))}catch(t){}this.hashMappingReporter=new d({config:n.hashMappingReporter,state:e,stateChanged:t=>{this.storage.setStorageItem(x,p(JSON.stringify(t)),C).catch((()=>{}))}});try{a=JSON.parse(p(t[5].value))}catch(t){}this.discoverParamsProvider=new m({config:n.discoverParamsProvider,state:a,stateChanged:t=>{this.storage.setStorageItem(E,p(JSON.stringify(t)),C).catch((()=>{}))}}),this.ids=[],this.logs=[],this.initialized=!0,this.registerToContentRequests(),this.registerToContentResponses()}}async shouldEnableVerboseLogs(){try{if(r.endUserGuid&&"string"==typeof r.endUserGuid){if("number"==typeof r.enableVerboseLogs||"boolean"==typeof r.enableVerboseLogs)return await this.gradualEnroller.shouldActivateByHash(r.endUserGuid,r.enableVerboseLogs);if("[object Array]"===Object.prototype.toString.call(r.enableVerboseLogs))return-1!==r.enableVerboseLogs.indexOf(r.endUserGuid)}}catch(t){}return!1}registerToContentRequests(){this.messageSubscriber.subscribe(r.EVENT_TYPES.shouldRunDtid,(t=>{const e=Date.now(),n=this.getRandomToken(),i={isMatch:!1,token:n,originalHostname:t.location.hostname,startTime:e};try{if(!0===this.isEnabled){r.enableDtidLogs&&this.logger.daily(4,2,"dtid enabled");const o=!t.isRetry&&this.shouldRunDiscover(t);o&&!0===o.value&&(r.enableDtidLogs&&this.logger.info("shouldRun - Discover is true",{token:n,hostname:t.location.hostname,startTime:e}),i.discover=o);const s=this.runRules(t);-1!==s.index&&s.index<r.identifierDetectorApplications.length?(this.enableVerboseLogs&&this.logger.info("DTID Log - injecting rule",{token:n,hostname:t.location.hostname,time:e,ruleIndex:s.index}),i.isMatch=!0,i.appIndex=s.index,i.asyncRules=s.asyncRules):(s.info&&(this.enableVerboseLogs&&this.logger.info("DTID Log - inject limit",{info:s.info,hostname:t.location.hostname,time:e}),this.pushDatabaseLog({info:s.info,hostname:s.hostname})),s.isLimit&&(i.isLimit=!0)),r.reportHashMap&&this.hashMappingReporter.tryReport()}}catch(t){r.enableDtidLogs&&this.logger.daily(5,2,"error in shouldRunDtid handler",{error:t})}return i}))}shouldRunDiscover(t){try{if(!0!==r.enableDtidDiscover)return;const e=t&&t.location;if(e){const t=this.getMatchingDiscoverRule(e),n=t&&t.endUserGuids[r.endUserGuid];if(n){const t=this.discoverParamsProvider.getDiscoverParams(n);if(t.ids.length>0){const n=this.injectDiscoverRateLimit.shouldExecute();if(n.value)return{value:!0,params:t};r.enableDtidLogs&&this.logger.info("runDiscover Limit",{hostname:e.hostname,info:n.info})}else r.enableDtidLogs&&this.logger.info("runDiscover No Ids",{hostname:e.hostname})}}}catch(t){r.enableDtidLogs&&this.logger.daily(5,2,"error in shouldRunDiscover",{error:t})}return{value:!1}}getMatchingDiscoverRule(t){for(let e=0;e<r.discoverRules.length;e++){const n=r.discoverRules[e].urlRules;if(this.urlMatcher.isMatch(n,t))return r.discoverRules[e]}}getRandomToken(){return(1e6*Math.random()|0).toString(16)}runRules(t){const e=this.domainLimitController.shouldExecute(t.location.hostname);if(!0!==e.value)return{index:-1,isLimit:!0,info:`domainLimit:${e.info}`,hostname:t.location.hostname};const n=this.urlMatcherRateLimit.shouldExecute();if(!0!==n.value)return{index:-1,isLimit:!0,info:`urlLimit:${n.info}`,hostname:t.location.hostname};const i=this.getMatchingApplicationIndex(t.location);let o;if(-1!==i&&i<r.identifierDetectorApplications.length){const e=this.injectRateLimit.shouldExecute();if(!0!==e.value)return{index:-1,isLimit:!0,info:`injectLimit:${e.info},rule:${i}`,hostname:t.location.hostname};r.identifierDetectorApplications[i].asyncRules&&(o=this.createAsyncRulesForContent(r.identifierDetectorApplications[i].asyncRules)),this.domainLimitController.reportAttempt(t.location.hostname)}return{index:i,asyncRules:o}}createAsyncRulesForContent(t){return t.map((t=>{const e={type:t.type,value:{...t.value}};return delete e.value.rules,e}))}registerToContentResponses(){this.messageSubscriber.subscribe(r.EVENT_TYPES.runDtid,((t,e)=>{try{const n=r.identifierDetectorApplications[t.appIndex],i=void 0!==t.asyncRuleIndex;if(i&&(!n.asyncRules||!n.asyncRules[t.asyncRuleIndex]))return!1;const o=i?n.asyncRules[t.asyncRuleIndex].value.rules:n.collectionRules,s=i?r.dtidAsyncConfig:n.isQuick?r.dtidQuickConfig:r.dtidRegularConfig,c=n.isQuick||i;this.enableVerboseLogs&&this.logger.info("DTID Log - background invoke",{hostname:t.hostname,appIndex:t.appIndex,token:t.token}),this.pushDatabaseLog({info:"invokeFunctionToPage",hostname:t.hostname}),this.invokeFunctionToPage(a,e.tabId,e.frameId,[o,s,this.enableVerboseLogs,t.token],!0,c)}catch(t){r.enableDtidLogs&&this.logger.daily(5,2,"error in invokeFunctionToPage",{error:t})}return!0})),this.messageSubscriber.subscribe(r.EVENT_TYPES.dtidResult,(t=>{const e={hasValue:!1,token:t.token,hostname:t.result.hostname};try{if(t.result.value){e.hasValue=!0;const n=l.validate(t.result.value);if(n||t.result.allowNonMail)e.isEmail=n,l.isPrivateEmail(t.result.value)?(e.isPrivate=!0,r.enableDtidLogs&&this.logger.daily(4,2,"got private dtidResult",{hostname:t.result.hostname,appIndex:t.appIndex})):(e.isPrivate=!1,this.domainLimitController.reportSuccess(t.result.hostname),n||(t.result.nonMail=!0),this.ids.push(t.result));else{e.isEmail=!1;try{e.value=p(t.result.value.slice(0,200))}catch(t){}r.enableDtidLogs&&this.logger.daily(4,2,"got invalid dtidResult",{hostname:t.result.hostname,appIndex:t.appIndex})}}else r.enableDtidLogs&&this.logger.daily(4,2,"got empty dtidResult",{hostname:t.result.hostname,appIndex:t.appIndex})}catch(t){r.enableDtidLogs&&this.logger.daily(5,2,"error in dtidResult handler",{error:t})}finally{try{this.enableVerboseLogs&&this.logger.info("DTID Log - result",e)}catch(t){}}return!0})),this.messageSubscriber.subscribe(r.EVENT_TYPES.dtidLog,(t=>{try{this.enableVerboseLogs&&this.logger.info("DTID Log - "+t.message,t.logData)}catch(t){}return!0})),this.messageSubscriber.subscribe(r.EVENT_TYPES.runDiscover,((t,e)=>{try{const n={token:t.token,hostname:t.hostname,originalHostname:t.originalHostname,startTime:t.startTime};r.enableDtidLogs&&this.logger.info("DTI Discover Sent To Page",n),this.invokeFunctionToPage(c,e.tabId,e.frameId,[t.discover.params,t.token,n],!0,!1)}catch(e){r.enableDtidLogs&&this.logger.error("error in runDiscover",{error:e,hostname:t.hostname})}return!0})),this.messageSubscriber.subscribe(r.EVENT_TYPES.dtidDiscoverResult,((t,e)=>{try{this.logger.info("DTI Discover Result",{hostname:t.hostname,result:t.result,...t.logData});const n={hostname:t.hostname,result:t.result,logData:t.logData};this.dtidEventsSender.sendDtidEvent(r.ACTIONS.dtidDiscover,n,e)}catch(t){}return!0})),this.messageSubscriber.subscribe(r.EVENT_TYPES.dtiDiscoverLog,(t=>{try{r.enableDtidLogs&&this.logger.info("DTI Discover Log - "+t.logName,{hostname:t.hostname,...t.logData})}catch(t){}return!0}))}getMatchingApplicationIndex(t){for(let e=0;e<r.identifierDetectorApplications.length;e++)try{if(this.urlMatcher.isMatch(r.identifierDetectorApplications[e].urlRules,t))return e}catch(t){r.enableDtidLogs&&this.logger.daily(4,2,"error in dtid urlMatcher",{error:t})}return-1}pushDatabaseLog(t){r.enableDtidLogs&&(this.logs.length<500?this.logs.push(t):this.logger.daily(4,2,"database log limit reached",{limit:500}))}getIdToSend(){if(!0===this.isEnabled){const t=this.ids&&this.ids.shift();if(t){const e={source:t.source,hostname:t.hostname};return t.nonMail&&(e.nonMail=!0),!0===r.disableDtidHashing&&(e.value=t.value),"string"==typeof this.salt&&32===this.salt.length&&(e.hValue=f(t.value,this.salt),r.reportHashMap&&this.hashMappingReporter.recordMapping(e.hValue,t.value),this.discoverParamsProvider.reportEmail(e.hValue,t.value)),e}}}getLogsToSend(){if(!0===this.isEnabled&&!0===r.enableDtidLogs)return this.logs&&this.logs.splice(0,3)}}}},1435:t=>{t.exports={applications:[{urlRules:[{type:"equals",source:"hostname",value:"onedrive.live.com"}],collectionRules:[{type:"variable",value:"$Config.email",source:"onedrive"}]},{urlRules:[{type:"ofDomain",source:"hostname",value:"office.com"},{type:"ofDomain",source:"hostname",value:"live.com"}],collectionRules:[{type:"variable",value:"O365ShellContext.BootHeaderState.userEmail",source:"outlook"}]},{urlRules:[{type:"ofDomain",source:"hostname",value:"lightning.force.com"}],collectionRules:[{type:"variable",value:"UserContext.userName",source:"sfl"}]},{urlRules:[{type:"equals",source:"hostname",value:"docs.google.com"}],collectionRules:[{type:"variable",value:"_docs_flag_initialData.docs-offline-ue",source:"google_doc"},{type:"variable",value:"SK_config.email",source:"google_sk"}]},{urlRules:[{type:"equals",source:"hostname",value:"teams.microsoft.com"}],collectionRules:[{type:"variable",value:"localStorage.ts.userInfo{}.email",source:"teams_s1"},{type:"variable",value:"localStorage.msal.activeUserProfile{}.preferred_username",source:"teams_s2"},{type:"variable",value:"localStorage.msal.activeUserProfile{}.upn",source:"teams_s3"},{type:"variable",value:"localStorage.tw-atp-safelinks-policy{}.value.data.user",source:"teams_s4"},{type:"variable",value:"0.localStorage.tw-atp-safelinks-policy{}.value.data.user",source:"teams_s4_f"}]},{urlRules:[{type:"ofDomain",source:"hostname",value:"microsoft.com"}],collectionRules:[{type:"variable",value:"msauth.EmailAddress",source:"microsoft"}]},{urlRules:[{type:"equals",source:"hostname",value:"mail.google.com"}],collectionRules:[{type:"variable",value:"GLOBALS.10",source:"gmail"}]},{urlRules:[{type:"ofDomain",source:"hostname",value:"myworkday.com"}],collectionRules:[{type:"variable",value:"workday.appRoot{}.processingUser",source:"workday"}]},{urlRules:[{type:"ofDomain",source:"hostname",value:"service-now.com"}],collectionRules:[{type:"variable",value:"NOW.user_name",source:"servicenow"}]},{urlRules:[{type:"ofDomain",source:"hostname",value:"okta.com"}],collectionRules:[{type:"variable",value:"localStorage.okta-token-storage{}.idToken.claims.email",source:"okta_storage"},{type:"cookie",value:"ls",source:"okta_cookie"},{type:"elementText",value:"#okta-sign-in form span.identifier",source:"okta_span"}]},{urlRules:[{type:"ofDomain",source:"hostname",value:"zendesk.com"}],collectionRules:[{type:"variable",value:"HelpCenter.user.email",source:"zendesk"}]},{urlRules:[{type:"equals",source:"hostname",value:"calendar.google.com"}],collectionRules:[{type:"variable",value:"gbar_.CONFIG.0.4.ua.5",source:"google_cal"}]},{urlRules:[{type:"ofDomain",source:"hostname",value:"sharepoint.com"},{type:"ofDomain",source:"hostname",value:"sharepoint.com.mcas.ms"}],collectionRules:[{type:"variable",value:"_spPageContextInfo.userEmail",source:"sharepoint"}]},{urlRules:[{type:"equals",source:"hostname",value:"app.powerbi.com"}],collectionRules:[{type:"variable",value:"powerbi.session.userInfo.name",source:"powerbi"}]},{urlRules:[{type:"ofDomain",source:"hostname",value:"concursolutions.com"}],collectionRules:[{type:"variable",value:"CNQR.expense.emp.EmailAddress",source:"concursolutions"}]},{urlRules:[{type:"ofDomain",source:"hostname",value:"dynamics.com"}],collectionRules:[{type:"variable",value:"clientApiGlobalStoreManager._eventManager._eventListeners.0.applicationContext.DataSource._userContext._userEmail",source:"dynamics_s1"},{type:"variable",value:"0.clientApiGlobalStoreManager._eventManager._eventListeners.0.applicationContext.DataSource._userContext._userEmail",source:"dynamics_s2"},{type:"variable",value:"1.clientApiGlobalStoreManager._eventManager._eventListeners.0.applicationContext.DataSource._userContext._userEmail",source:"dynamics_s3"}]},{urlRules:[{type:"equals",source:"hostname",value:"login.microsoftonline.com"}],isQuick:!0,collectionRules:[{type:"variable",value:"$Config.sPOST_Username",source:"login_microsoftonline"},{type:"variable",value:"$Config.oGetCredTypeResult.Username",source:"login_microsoftonline2"}]}]}},9255:t=>{t.exports=function(){try{var t;return e={43:t=>{t.exports={fetchCookie:function(t){try{const e=document.cookie.split("; ");for(let n=0;n<e.length;n++)try{const r=e[n].split("=");if(decodeURIComponent(r[0])===t)return{value:decodeURIComponent(r[1]),debug:t}}catch{}}catch{}return{debug:"cannot fetch cookie: "+t}}}},480:t=>{t.exports={fetchElementValue:function(t){try{const e=document.querySelector(t);return e?e.value?{value:e.value.trim(),debug:t}:{debug:"no element value for selector: "+t}:{debug:"no element for selector: "+t}}catch{}return{debug:"cannot fetch for selector: "+t}},fetchElementText:function(t){try{const e=document.querySelector(t);return e?e.textContent?{value:e.textContent.trim(),debug:t}:{debug:"no element text for selector: "+t}:{debug:"no element for selector: "+t}}catch{}return{debug:"cannot fetch for selector: "+t}}}},80:(t,e,n)=>{const r=n(43),i=n(480),o=n(402);t.exports={evaluate:function(t){switch(t.type){case"variable":return o.fetchVariable(t.value);case"cookie":return r.fetchCookie(t.value);case"elementText":return i.fetchElementText(t.value);case"elementValue":return i.fetchElementValue(t.value)}}}},457:(t,e,n)=>{const r=n(80),i={dtidResult:"dtidResult",dtidLog:"dtidLog"};let o=!1,s=0,a=0,c=!1,u=!1;function l(t,e,n,u){if(!o){d(n,"runLogic",{runReason:u});for(let e=0;e<t.length&&!o;e++)try{const s=r.evaluate(t[e]);if(void 0!==s.value&&"string"==typeof s.value&&s.value.length<=320&&(t[e].allowNonMail||h(s.value)))o=!0,window.dispatchEvent(new CustomEvent("wm_dtid_"+n,{detail:{action:i.dtidResult,identifier:{value:s.value,source:t[e].source,retries:a,allowNonMail:t[e].allowNonMail}}})),d(n,"evaluation succeeded",{runReason:u,debug:s.debug,idLength:s.value.length,remove:!0,url:f()});else{let r="";void 0===s.value?r="no value":"string"!=typeof s.value?r="value not string: "+typeof s.value:s.value.length>320?r="value too long: "+s.value.length:h(s.value)||(r='missing "at" char'),d(n,"evaluation failed",{runReason:u,debug:s.debug,failReason:r,source:t[e].source,path:t[e].value,url:f()})}}catch(t){try{d(n,"evaluation errored",{runReason:u,error:t.message})}catch(t){}}if(!o)if(a<s)a++,setTimeout((()=>{try{l(t,e,n,"timeout:"+a)}catch(t){}}),e.retryInterval);else if(c)window.dispatchEvent(new CustomEvent("wm_dtid_"+n,{detail:{action:i.dtidResult}})),d(n,"gave up",{remove:!0});else{c=!0;const r=()=>{try{window.removeEventListener("mousedown",r),l(t,e,n,"mousedown listener")}catch(t){}};window.addEventListener("mousedown",r)}}}function h(t){return-1!==t.indexOf("@")}function d(t,e,n){!0!==u||a>=4&&n&&!0!==n.remove||((n=n||{}).time=Date.now(),window.dispatchEvent(new CustomEvent("wm_dtid_"+t,{detail:{action:i.dtidLog,message:e,logData:n}})))}function f(){return(window.location.origin+window.location.pathname).slice(0,500)}t.exports=function(t,e,n,r){u=n,d(r,"injected",{url:f()}),s=e.allowedRetries,e.waitForDocLoad&&"complete"!==document.readyState?window.addEventListener("load",(()=>l(t,e,r,"load listener"))):l(t,e,r,"skip page load")}},402:t=>{function e(t,e){return t.slice(0,e).join(".")}t.exports={fetchVariable:function(t){if("string"==typeof t){const n=t.split(".");let r=window,i=0;for(;i<n.length&&null!=r;i++){const o=n[i].endsWith("{}");if(r=r[o?n[i].substring(0,n[i].length-2):n[i]],o){if("string"!=typeof r)return{debug:"json-wrong-type:"+typeof r+","+e(n,i+1)};if(r.length>2e4)return{debug:"json-too-long:"+r.length+","+e(n,i+1)};try{r=JSON.parse(r)}catch(t){return{debug:"json-broken:"+e(n,i+1)}}}}const o={};return null!=r?(o.value=r,o.debug=e(n,i)):o.debug=e(n,i-1),o}return{debug:"invalid path type"}}}}},n={},(t=function t(r){var i=n[r];if(void 0!==i)return i.exports;var o=n[r]={exports:{}};return e[r](o,o.exports,t),o.exports}(457)).apply(t,arguments)}catch(e){}var e,n}},1184:t=>{t.exports={RateLimitController:class{constructor(t){this.updateConfig(t.config),this.stateChanged=t.stateChanged,this.state=this.validateState(t.state)?t.state:{lastCallTime:-1,windowStartTime:-1,callCounter:0}}updateConfig(t){this.maxCounter=t.maxCounter,this.intervalLimit=t.intervalLimit,this.minInterval=t.minInterval}validateState(t){return t&&"number"==typeof t.lastCallTime&&"number"==typeof t.windowStartTime&&"number"==typeof t.callCounter}shouldExecute(){const t=Date.now();if(t<this.state.lastCallTime+this.minInterval)return{value:!1,info:"tooFrequent"};if(t-this.state.windowStartTime>this.intervalLimit&&(this.state.windowStartTime=t,this.state.callCounter=0),this.state.callCounter>=this.maxCounter)return{value:!1,info:"maxCounter"};this.state.callCounter++,this.state.lastCallTime=t;try{this.stateChanged&&this.stateChanged(this.state)}catch(t){}return{value:!0}}}}},1025:t=>{t.exports={UrlMatcher:class{constructor(t){this.updateConfig(t&&t.config)}updateConfig(t){this.regexLengthLimit=t&&t.regexLengthLimit}isMatch(t,e){for(let n=0;n<t.length;n++)try{if(this.isRuleMatch(t[n],e))return!0}catch(t){}return!1}isRuleMatch(t,e){const n=this.getLocationInput(t,e);if("string"==typeof n)switch(t.type){case"startsWith":return n.startsWith(t.value);case"endsWith":return n.endsWith(t.value);case"ofDomain":return n===t.value||n.endsWith("."+t.value);case"contains":return n.includes(t.value);case"equals":return n===t.value;case"regex":return this.testRegex(t.value,n)}}testRegex(t,e){const n=new RegExp(t);return e.length>this.regexLengthLimit&&(e=e.substring(0,this.regexLengthLimit)),n.test(e)}getLocationInput(t,e){switch(t.source){case"hostname":return e.hostname;case"pathname":return e.pathname;case"href":return e.href;case"hostname+pathname":return e.hostname+e.pathname}}}}},3250:(t,e,n)=>{const r=n(5491);t.exports=new class{create(t,e){const n={};let i=r.getByRange(t,e);if(0===i.length)if(i=r.getOlderThan(t,5),0!==i.length)n.old=1;else{const t=r.getLastStatus();if(!t)return n;i=[t],n.last=1}n.index=i[0]&&i[0].index,n.euId=[],n.statuses=[];let o=0;for(let t=i.length-1;t>=0&&o<1500;t--){const e=this.minifyStatus(i[t],n.euId),r=JSON.stringify(e).length;o+r<=1500&&(o+=r,n.statuses.unshift(e))}return n}minifyStatus(t,e){const n={t:t.time,s:this.convertStatusType(t.status)};if(void 0!==t.euId&&null!==t.euId){let r=e.indexOf(t.euId);-1===r&&(e.push(t.euId),r=e.length-1),n.u=r}return void 0!==t.provider&&(n.p=t.provider),void 0!==t.count&&(n.c=t.count),n}convertStatusType(t){switch(t){case"loaded":return"lo";case"restarted":return"re";case"stopped":return"st";case"cacheSuccess":return"cs";case"authenticating":return"au";case"success":return"su";case"failure":return"fa";case"beforeInit":return"bi";case"beforeStop":return"bs";default:return t}}}},5491:(t,e,n)=>{const r=n(6602);t.exports=new class{constructor(){this.index=0,this.statuses=[],this.lastStatus=null}reportStatusChange(t){!0===r.enableIdpStatus&&(t.index=this.index,this.statuses.push(t),this.index++,this.lastStatus=t,this.statuses.length>500&&this.statuses.splice(0,50))}getByRange(t,e){return this.statuses.filter((n=>n.time>=t&&n.time<e))}getOlderThan(t,e){const n=this.statuses.filter((e=>e.time<t));return void 0===e?n:n.slice(-e)}getLastStatus(){return this.lastStatus}removeStatusesOlderThan(t){this.statuses=this.statuses.filter((e=>e.time>=t))}}},8925:(t,e,n)=>{const r=n(9544),i=n(6602),o=n(5491);t.exports={IdpUserManager:class{constructor(t){this.endUserGuid=t,this.msaGuid,this.reportStatusChange=o.reportStatusChange.bind(o)}callIdpInit(t,e,n,o){const s=e.extensionAnalytics.EnterpriseAccountGuid;this.msaGuid=s,this.reportInternalStatusChange("beforeInit"),r.initPd({iframeApi:o,reportStatusChange:this.reportStatusChange,storage:t,msaGuid:s,extensionEndUserId:this.endUserGuid,extensionGuid:e.extensionGuid,env:e.env,dtiRefreshInterval:i.dtiIdpRefreshInterval,extVersion:e.extVersion,enableIdpPdLogs:i.enableIdpPdLogs,hostData:n})}callIdpStop(){this.reportInternalStatusChange("beforeStop"),r.stopPd()}reportInternalStatusChange(t){o.reportStatusChange({time:Date.now(),status:t})}}}},3232:(t,e,n)=>{const r=n(6602),i=n(8893),o=n(4100),s=n(9106).contextQueue;t.exports={PostContextManager:class{constructor(t){this.insightsDataSender=new o(t),this.postMessageIntervalInSeconds=r.postMessageIntervalInSeconds,this.postContextInterval=void 0,this.startPostContextInterval()}updatePostContextIntervalThreshold(){this.postMessageIntervalInSeconds!==r.postMessageIntervalInSeconds&&(this.postMessageIntervalInSeconds=r.postMessageIntervalInSeconds,this.stopPostContextInterval(),this.startPostContextInterval())}stopPostContextInterval(){clearInterval(this.postContextInterval),this.postContextInterval=void 0}startPostContextInterval(){r.postMessageIntervalInSeconds?this.postContextInterval||(this.postContextInterval=setInterval(this.postContextToInsights.bind(this),1e3*this.postMessageIntervalInSeconds)):this.stopPostContextInterval()}pushContextDataToQueue(t){s.enqueue(t),this.postContextInterval||this.postContextToInsights()}postContextToInsights(){const t=i.getEnvAndExtensionGuid();if(!t.env||!t.extensionGuid)return;const e=[];let n=0;for(;!s.isEmpty()&&(!r.postMessageCountLimit||n<=r.postMessageCountLimit);){const t=s.dequeue(),i=this.insightsDataSender.convertContextToInsightsData(t);e.push(i),r.postMessageCountLimit&&n++}e.length&&this.insightsDataSender.postContextToInsights(e,t.env,t.extensionGuid)}}}},4815:(t,e,n)=>{const r=n(8912),i=n(8150).DiscoveryManager,o=new class{constructor(){this.intervalObj=0,this.timeoutObj=0}initDiscoveryManager(t,e,n,r,o){this.iframeApi=o,this.discoveryManager=new i(t,e,n,r)}getShouldLoadBackgroundTracker(){return r.getShouldLoadBackgroundTracker()}async updateTrackerLoadingCondition(t,e,n,i,o){this.extData=e;let s=!1;return n&&(await this.discoveryManager.updateTrackerLoadingCondition(e,i,o),r.updateTrackerLoadingCondition(n,e,i),s=r.getShouldLoadBackgroundTracker()),s?this.discoveryManager.initBackgroundTracker(e,i,this.iframeApi):(r.setShouldLoadBackgroundTracker(!1),this.discoveryManager.stopBackgroundTracker()),s}async generateContextChain(t){this.discoveryManager.generateContextChain(t)}storeLogEvent(t,e){e.extData=this.extData,this.discoveryManager.storeLogEvent(t,e)}getSessionData(){return this.discoveryManager.getSessionData()}};t.exports=o},3359:(t,e,n)=>{const r=n(6602),i=n(1353),o=(t,e)=>{for(let n=0;n<e.length;n++)if(t.includes(e[n]))return!0;return!1};t.exports={extractContextNameFromUrl:t=>{if(!t||"NA"===t)return"NA";for(const e in r.applications)if(r.applications.hasOwnProperty(e)&&o(t,r.applications[e]))return e;return i.getDomainName(t)}}},4641:(t,e,n)=>{const r=n(4815),i=n(6602);class o{constructor(){this.isWindowFocus=void 0,this.windowId=-1,this.isEventSent=!1}onFocusChanged(t,e,n,r){(n=n||{}).nowTime=r,this.isEventSent=!1,this.handleWindowChange(e,n,r),this.handleFocusChange(t,n,r)}handleWindowChange(t,e,n){-1!==t&&(this.isWindowFocus&&this.windowId!==t&&(r.storeLogEvent(i.ACTIONS.windowSwitch,{details:e}),this.isEventSent=!0),this.windowId=t)}handleFocusChange(t,e,n){if(void 0!==this.isWindowFocus&&this.isWindowFocus!==t){const n=t?i.ACTIONS.windowFocus:i.ACTIONS.windowOutOfFocus;this.isEventSent||r.storeLogEvent(n,{details:e})}this.isWindowFocus=t}}const s=new o;t.exports={windowFocusTracker:s,WindowFocusTracker:o}},1353:(t,e,n)=>{const r=n(1354),i=t=>null!=t&&t.length>2&&"string"==typeof t[2]&&t[2].length>0?t[2]:null;t.exports={requestData:async t=>{try{if(!t)return;const e=await fetch(t,{method:"GET",mode:"cors",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"}});return await e.json()}catch{return}},postData:async(t,e,n,r=!1)=>{if(!t)return;const i=((t,e)=>e?`${t.map((t=>JSON.stringify(t))).join("\n")}`:JSON.stringify(t))(e,r),o={"Content-Type":"application/json;charset=UTF-8"};if(n)for(const t of n)o[t.name]=t.value;return(await fetch(t,{method:"POST",mode:"cors",cache:"no-cache",headers:o,body:i})).text()},hashStringSha256:t=>r.SHA256(t).toString().substring(0,40),getDomainName:t=>{const e=(t=>{const e=t.split("/");let n=i(e);if(!n){const e=t.match(/:\/\/(www[0-9]?\.)?(.[^/:]+)/i);n=i(e)}return n||t})(t),n=e.match(/^www\.(.*)\.[a-zA-Z0-9]/);return n?n[1]:e.substring(0,e.lastIndexOf("."))||e},calcTimeDiff:(t,e)=>Math.round((t-e+Number.EPSILON)/10)/100,setTimeAheadBySeconds:(t,e)=>{const n=new Date;return n.setSeconds(new Date(t).getSeconds()+e),n},setTimeAheadByMilliseconds:(t,e)=>{const n=new Date(t);return n.setMilliseconds(n.getMilliseconds()+e),new Date(n)},getUrlPath:t=>t?t.split("?")[0]:"",allSettled:function(t){const e=t.map((t=>t.then((t=>({status:"fulfilled",value:t}))).catch((t=>({status:"rejected",reason:t})))));return Promise.all(e)},truncateString:function(t,e){return t&&t.length>e?t.substring(0,e):t}}},669:t=>{t.exports=new class{setIdFetcherController(t){this.idFetcherController=t}addDebugDataToContextChain(t,e){try{t.data.chainData.debugData=t.data.chainData.debugData||{};const e=this.idFetcherController&&this.idFetcherController.getIdToSend();if(e)t.data.chainData.debugData.identifier=e,t.data.chainData.identifierValue=e.hValue,t.data.chainData.identifierSource=e.source;else{const e=this.idFetcherController&&this.idFetcherController.getLogsToSend();e&&0!==e.length&&(t.data.chainData.debugData.logs=e)}}catch(t){}}}},3093:t=>{t.exports={headerTimestamp:"Wm-Client-Timestamp",namespace:"dti",dtiVersion:"1.0.0",ENVIRONMENTS:{Production:{insightsHost:"https://ec.walkme.com/event/backEvent",reportHashMapEndPoint:"https://papi.walkme.com/deepui/api/discovery-service/api/dti/public/dtid/reportHashMap"},ProductionEu:{insightsHost:"https://eu-ec.walkme.com/event/backEvent",reportHashMapEndPoint:"https://eu-papi.walkme.com/deepui/api/discovery-service/api/dti/public/dtid/reportHashMap"},QA:{insightsHost:"https://ec.walkmeqa.com/event/backEvent",reportHashMapEndPoint:"https://papi.walkmeqa.com/deepui/api/discovery-service/api/dti/public/dtid/reportHashMap"},Dev2:{insightsHost:"https://ec.walkmeqa.com/event/backEvent"}}}},199:(t,e,n)=>{const r=n(1353);t.exports=class{run(t,e){if(e)for(const n in e)if(e.hasOwnProperty(n)&&"truncateStringToLength"===n&&"string"==typeof t)return r.truncateString(t,e[n]);return t}}},3653:(t,e,n)=>{const r=n(1597),i=n(199),o=n(6602),s={bd:{name:"msaAccountGuid",type:"string",validations:{length:[32],mandatory:!0,contextNotEqualToPrev:!0}},ah:{name:"sessionGuid",type:"string",validations:{length:[32],mandatory:!0}},jc:{name:"endUserGuid",type:"string",validations:{length:[32],mandatory:!0}},yl:{name:"extensionVersion",type:"string",validations:{minLength:1,mandatory:!0}},dw:{name:"tabId",type:"string",validations:{minVal:-1,mandatory:!0}},ed:{name:"contentIdentifier",type:"string",validations:{length:[40]}},su:{name:"type",type:"string",validations:{included:["application","context","dtid"],mandatory:!0}},wi:{name:"contextChain",type:"stringified",validations:{isMatchUrl:!0,mandatory:!0}},r:{name:"chromeLanguage",type:"string",validations:{minLength:1}},an:{name:"url",type:"string",validations:{assertNoMetrics:"chrome://newtab/"},actions:{truncateStringToLength:o.urlMaxLength}},iu:{name:"topUrl",type:"string",validations:{assertNoMetrics:"chrome://newtab/"},actions:{truncateStringToLength:o.urlMaxLength}},xm:{name:"reason",type:"string",validations:{minLength:1,mandatory:!0,noDuplicateValue:o.ACTIONS.windowOutOfFocus}},be:{name:"timeStart",type:"string",validations:{minLength:1,mandatory:!0,greaterOrEqualThanPrevVal:!0}},rp:{name:"timeSpent",type:"float",validations:{greaterThanVal:0,mandatory:!0}},dh:{name:"idleTime",type:"float",validations:{minVal:0,mandatory:!0,lessOrEqualThanField:"timeSpent",assertNoMetrics:"timeSpent"}},vr:{name:"mouseDownCount",type:"int",validations:{minVal:0}},cv:{name:"tabTitle",type:"string"},bi:{name:"browserId",type:"string"},bw:{name:"browserExtensionId",type:"string"},mi:{name:"machineId",type:"string"},ei:{name:"extensionId",type:"string"},d:{name:"envBrowserName",type:"string"},e:{name:"envBrowserVersion",type:"string"},y:{name:"envOsName",type:"string"},a:{name:"envOsVersion",type:"string"},az:{name:"textValuesEntryCount",type:"int",validations:{minVal:0}},rm:{name:"tabClickCount",type:"int",validations:{minVal:0}},yc:{name:"charCount",type:"int",validations:{minVal:0}},pq:{name:"rageCount",type:"int",validations:{minVal:0}},hc:{name:"scrollCount",type:"int",validations:{minVal:0}},ub:{name:"testedUuid",type:"stringified"},dd:{name:"debugData",type:"stringified"},jt:{name:"interactionEvents",type:"stringified",validations:{assertMetrics:!0}},uid:{name:"systemId",type:"string",validations:{length:[4,32,36]}},mx:{name:"firstInputDelay",type:"int"},kh:{name:"cumLayoutShift",type:"int"},cp:{name:"firstContentfulPaint",type:"int"},fv:{name:"largestContentfulPaint",type:"int"},br:{name:"timeToFirstByte",type:"int"},sn:{name:"timeToInteractive",type:"int"},cq:{name:"longTasksCount",type:"int"},kj:{name:"resourcesCount",type:"int"},iv:{name:"identifierValue",type:"string",validations:{maxLength:320}},is:{name:"identifierSource",type:"string",validations:{maxLength:36}}};t.exports=class{constructor(t){this.datadogLogger=t,this.contextValidator=new r(t),this.contextActionRunner=new i}convertContextToInsightsData(t){const e={},n=t.chainData;for(const t in s)if(s.hasOwnProperty(t)){const r=this.extractValueFromContext(s[t],n);void 0!==r&&(e[t]=r)}return this.contextValidator.updatePrevContext(n),e}convertFloatFieldsToInt(t){return t*=1e3,Math.round(t)}extractValueFromContext(t,e){const n=t.name,r=t.type,i=t.validations;let o;if(this.contextValidator.validateContextField(e,n,i),void 0===e[n])return o;switch(r){case"stringified":o=JSON.stringify(e[n]);break;case"keyInJsonArray":o=Object.keys(e[n][0])[0];break;case"float":o=this.convertFloatFieldsToInt(e[n]);break;default:o=e[n]}return o=this.contextActionRunner.run(o,t.actions),o}}},1597:(t,e,n)=>{const r=n(3359);t.exports=class{constructor(t){this.prevContextData=void 0,this.datadogLogger=t}validateContextField(t,e,n){for(const i in n)if(n.hasOwnProperty(i))switch(i){case"length":t[e]&&!n[i].includes(t[e].length)&&this.printInvalidMessage(t,e,i,n[i]);continue;case"minLength":t[e]&&t[e].length<n[i]&&this.printInvalidMessage(t,e,i,n[i]);continue;case"maxLength":t[e]&&t[e].length>n[i]&&this.printInvalidMessage(t,e,i,n[i]);continue;case"mandatory":void 0===t[e]&&this.printInvalidMessage(t,e,i,n[i]);continue;case"equals":t[e]&&t[e]!==n[i]&&this.printInvalidMessage(t,e,i,n[i]);continue;case"isMatchUrl":t.url&&r.extractContextNameFromUrl(t.url)!==Object.keys(t[e])[0]&&this.printInvalidMessage(t,e,i,n[i]);continue;case"greaterThanVal":t[e]&&"number"==typeof t[e]&&t[e]<=n[i]&&this.printInvalidMessage(t,e,i,n[i]);continue;case"minVal":t[e]&&"number"==typeof t[e]&&t[e]<n[i]&&this.printInvalidMessage(t,e,i,n[i]);continue;case"included":t[e]&&!n[i].includes(t[e])&&this.printInvalidMessage(t,e,i,n[i]);continue;case"lessOrEqualThanField":t[e]&&"number"==typeof t[e]&&t[e]>t[n[i]]&&this.printInvalidMessage(t,e,i,n[i]);continue;case"assertMetrics":!t[e].length||t.mouseDownCount||t.textValuesEntryCount||t.tabClickCount||t.charCount||t.rageCount||t.scrollCount||this.printInvalidMessage(t,e,i,n[i]);continue;case"assertNoMetrics":{const r=t[n[i]]?t[n[i]]:n[i];t[e]===r&&(t.mouseDownCount||t.textValuesEntryCount||t.tabClickCount||t.charCount||t.rageCount||t.scrollCount)&&this.printInvalidMessage(t,e,i,n[i]);continue}case"noDuplicateValue":this.prevContextData&&this.prevContextData[e]===n[i]&&this.prevContextData[e]===t[e]&&this.printInvalidMessage(t,e,i,n[i]);continue;case"greaterOrEqualThanPrevVal":this.prevContextData&&this.prevContextData[e]>t[e]&&this.printInvalidMessage(t,e,i,n[i]);continue;case"contextNotEqualToPrev":this.prevContextData&&JSON.stringify(this.prevContextData)===JSON.stringify(t)&&this.printInvalidMessage(t,e,i,n[i]);continue;default:continue}}updatePrevContext(t){this.prevContextData=t}printInvalidMessage(t,e,n,r){const i="Process-Discovery-Validation: Validation of "+e+", failed for type "+n+" with value "+r,o={context:t};this.datadogLogger.sendInfo(i,o)}}},4100:(t,e,n)=>{const r=n(1353),i=n(3653),o=n(3093),s=["c9d61ded81fc","22563400a7eb","ce0cbbf8f9f3","403c0ba38b17"];t.exports=class{constructor(t){this.datadogLogger=t,this.contextConverter=new i(t)}convertContextToInsightsData(t){const e=this.contextConverter.convertContextToInsightsData(t);if(!e)return;const n=Date.now();return this.buildMessage(e,n)}postContextToInsights(t,e,n){const r=Date.now();this.sendToInsights(e,t,r);const i=n.slice(0,12);"QA"!=e&&s.includes(i)&&this.sendToInsights("QA",t,r)}sendToInsights(t,e,n){const i=o.ENVIRONMENTS[t].insightsHost;r.postData(i,e,this.getHeaders(n),!0).then((function(t){}))}getHeaders(t){const e=[];return e.push({name:o.headerTimestamp,value:t}),e}buildMessage(t,e){const n={};return n.ns=o.namespace,n.data=t,n.data.ts=e,n.data.dv=o.dtiVersion,n}}},2480:()=>{},5825:t=>{"use strict";t.exports=JSON.parse('{"api":{"idpServer":{"host":"https://papi.walkmeqa.com/ic/idp/p","timeout":5000}},"isAliveManager":{"checkEvery":600,"actionInterval":86400},"settingManager":{"checkEvery":600,"actionInterval":43200},"authManager":{"checkEvery":600,"actionInterval":0,"nextRunAfterFirstLoad":1800,"nextRunAfterFailed":3600},"dtiRefreshInterval":86400,"idpEidTtl":600,"endUserTimeOut":4000,"userPerformLoginTtl":3600,"logger":{"loggerUrl":"https://ec.walkmeqa.com/event/log","enableLogs":false}}')},9442:t=>{"use strict";t.exports=JSON.parse('{"api":{"idpServer":{"host":"https://papi.walkme.com/ic/idp/p","timeout":5000}},"isAliveManager":{"checkEvery":600,"actionInterval":86400},"settingManager":{"checkEvery":600,"actionInterval":43200},"authManager":{"checkEvery":600,"actionInterval":0,"nextRunAfterFirstLoad":1800,"nextRunAfterFailed":3600},"dtiRefreshInterval":86400,"idpEidTtl":600,"endUserTimeOut":5000,"userPerformLoginTtl":3600,"logger":{"loggerUrl":"https://ec.walkme.com/event/log","enableLogs":true}}')},635:t=>{"use strict";t.exports=JSON.parse('{"api":{"idpServer":{"host":"https://eu-papi.walkme.com/ic/idp/p","timeout":5000}},"isAliveManager":{"checkEvery":600,"actionInterval":86400},"settingManager":{"checkEvery":600,"actionInterval":43200},"authManager":{"checkEvery":600,"actionInterval":0,"nextRunAfterFirstLoad":1800,"nextRunAfterFailed":3600},"dtiRefreshInterval":86400,"idpEidTtl":600,"endUserTimeOut":5000,"userPerformLoginTtl":3600,"logger":{"loggerUrl":"https://eu-ec.walkme.com/event/log","enableLogs":true}}')},3337:t=>{"use strict";t.exports=JSON.parse('{"api":{"idpServer":{"host":"https://papi.walkmeqa.com/ic/idp/p","timeout":5000}},"isAliveManager":{"checkEvery":600,"actionInterval":86400},"settingManager":{"checkEvery":600,"actionInterval":43200},"authManager":{"checkEvery":600,"actionInterval":0,"nextRunAfterFirstLoad":1800,"nextRunAfterFailed":3600},"dtiRefreshInterval":86400,"idpEidTtl":600,"endUserTimeOut":5000,"userPerformLoginTtl":3600,"logger":{"loggerUrl":"https://ec.walkmeqa.com/event/log","enableLogs":true}}')},4891:t=>{"use strict";t.exports=JSON.parse('{"api":{"idpServer":{"host":"http://localhost:4002/ic/idp/p","timeout":5000}},"isAliveManager":{"checkEvery":600,"actionInterval":86400},"settingManager":{"checkEvery":600,"actionInterval":43200},"authManager":{"checkEvery":20,"actionInterval":0,"nextRunAfterFirstLoad":45,"nextRunAfterFailed":45},"dtiRefreshInterval":86400,"idpEidTtl":600,"endUserTimeOut":5000,"userPerformLoginTtl":3600,"logger":{"loggerUrl":"https://ec.walkmeqa.com/event/log","enableLogs":false}}')},8500:t=>{"use strict";t.exports=JSON.parse('{"api":{"idpServer":{"host":"https://test.walkme.com/ic/idp/p","timeout":5000}},"isAliveManager":{"checkEvery":600,"actionInterval":86400},"settingManager":{"checkEvery":600,"actionInterval":43200},"authManager":{"checkEvery":600,"actionInterval":0,"nextRunAfterFirstLoad":1800,"nextRunAfterFailed":3600},"dtiRefreshInterval":86400,"idpEidTtl":600,"endUserTimeOut":4000,"userPerformLoginTtl":3600,"logger":{"loggerUrl":"https://ec.walkmeqa.com/event/log","enableLogs":false}}')},1329:t=>{"use strict";t.exports=JSON.parse('{"name":"wm-idp-pd-ext","version":"1.0.1","description":"IDP for extension","main":"index.js","scripts":{"lint":"eslint \\"**/*.js\\" --ignore-pattern node_modules/ --ignore-pattern test/coverage --ignore-pattern .eslintrc.js","tnt":"eslint --init","start":"node index.js","test":"mocha --require test/init.js --recursive --exit \\"./test/**/*.spec.js\\" --timeout 100000"},"engines":{"node":">=10.16.0 <12.0.0","npm":">=6.7.0"},"author":"yossi.s@walkme.com","license":"Walkme Copyright","keywords":[],"pre-commit":["lint"],"devDependencies":{"@wm-sg/dev-configs":"0.0.24","@wm-sg/hafuch":"^16.2.0","chai":"^4.3.4","dirty-chai":"^2.0.1","eslint":"^8.7.0","eslint-plugin-import":"^2.25.4","jsdom":"^19.0.0","jsdom-global":"^3.0.2","isomorphic-fetch":"^3.0.0","mocha":"^6.2.2","mock-require":"^3.0.3","sinon":"^11.1.2","nock":"^13.3.0"},"dependencies":{"buffer":"^6.0.3","dom-parser":"^0.1.6","he":"^1.2.0","lodash":"^4.17.21","uuid":"^9.0.0"}}')}},e={};function n(r){var i=e[r];if(void 0!==i)return i.exports;var o=e[r]={id:r,loaded:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.nmd=t=>(t.paths=[],t.children||(t.children=[]),t),(()=>{"use strict";var t={};n.r(t),n.d(t,{getAllLocalStorageItems:()=>ut,getData:()=>lt,getStorageItem:()=>lt,getStorageItems:()=>ct,removeData:()=>ht,removeStorageItem:()=>ht,setData:()=>at,setStorageItem:()=>at});const e="forward",r="consoleLog",i="logToEventCollector",o="raiseEvent";var s;!function(t){t[t.Deny=0]="Deny",t[t.Accept=1]="Accept",t[t.Neutral=2]="Neutral"}(s||(s={}));const a=(t,e)=>{for(let n=0;n<t.length;n++){const r=t[n].getFilterResult(e);if(r==s.Deny)return!1;if(r==s.Accept)return!0}return!0};var c;!function(t){t[t.Silly=0]="Silly",t[t.Verbose=1]="Verbose",t[t.Debug=2]="Debug",t[t.Info=3]="Info",t[t.Warn=4]="Warn",t[t.Error=5]="Error"}(c||(c={}));const u="Communication",l="Monitor",h=[],d=[],f=new class{constructor(t,e){this.appenders=t,this.logFilters=e,this.logsPerLevel=100,this.allLogs={},this.sendTimeByMessage={};for(const t in c){const e=Number(c[t]);this.allLogs[e]=[]}}getHistory(t){return this.allLogs[t]}log(t,e,n,r){const i={level:t,message:e,subject:r,data:n,time:Date.now()};a(this.logFilters,i)&&(this.addToLogHistory(i),this.appenders.map((t=>{try{t.log(i)}catch(t){}})))}addToLogHistory(t){for(const e in c){const n=Number(c[e]);if(n<=t.level){const e=this.allLogs[n];for(e.push(t);e.length>this.logsPerLevel;)e.splice(0,1)}}}silly(t,e,n){this.log(c.Silly,t,e,n)}verbose(t,e,n){this.log(c.Verbose,t,e,n)}trace(t,e,n){this.log(c.Verbose,t,e,n)}debug(t,e,n){this.log(c.Debug,t,e,n)}info(t,e,n){this.log(c.Info,t,e,n)}warn(t,e,n){this.log(c.Warn,t,e,n)}error(t,e,n){this.log(c.Error,t,e,n)}daily(t,e,n,r,i){this.limited(t,e,n,864e5,r,i)}limited(t,e,n,r,i,o){const s=Date.now(),a=this.sendTimeByMessage[n];void 0!==a&&s-a<r?this.log(e,n,i,o):(this.sendTimeByMessage[n]=s,this.log(t,n,i,o))}}(d,h);var p=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))};class g{constructor(t,e,n){this.action=t,this.allowedOrigins=e,this.blockedOrigins=n}handle(t,e){return p(this,void 0,void 0,(function*(){if(f.trace("messageHandler handle called",t,u),t.action!=this.action)throw"unsupported action: "+t.action+", expected: "+this.action;return this.handleImpl(e)}))}}class v{constructor(t,e,n){this.action=t,this.allowedOrigins=e,this.blockedOrigins=n}handle(t,e){return p(this,void 0,void 0,(function*(){if(f.trace("messageHandler handle called",t,u),t.action!=this.action)throw"unsupported action: "+t.action+", expected: "+this.action;const n=t.data;return this.handleImpl(n,e)}))}}class m{constructor(t){this.name=t}set(t){this.data=t}get(){if(void 0===this.data)throw`'${this.name} - data was not yet set`;return this.data}}const y=new m("sendMessageProvider"),w=(t,e)=>{return n=void 0,r=void 0,o=function*(){return y.get()(e,t)},new((i=void 0)||(i=Promise))((function(t,e){function s(t){try{c(o.next(t))}catch(t){e(t)}}function a(t){try{c(o.throw(t))}catch(t){e(t)}}function c(e){var n;e.done?t(e.value):(n=e.value,n instanceof i?n:new i((function(t){t(n)}))).then(s,a)}c((o=o.apply(n,r||[])).next())}));var n,r,i,o};const b=(t,n)=>({action:e,data:{destination:t,message:n},needsResponse:n.needsResponse});var x;let S;!function(t){t[t.Background=1]="Background",t[t.ActiveTabTopContent=2]="ActiveTabTopContent",t[t.ActiveTabTopPage=3]="ActiveTabTopPage",t[t.AllContents=4]="AllContents",t[t.AllPages=5]="AllPages",t[t.OwnerContent=6]="OwnerContent",t[t.OwnedPage=7]="OwnedPage",t[t.OptionsPage=8]="OptionsPage",t[t.ActionPage=9]="ActionPage",t[t.SiblingContent=10]="SiblingContent",t[t.SiblingMediator=11]="SiblingMediator",t[t.Offscreen=12]="Offscreen"}(x||(x={})),S="undefined"!=typeof chrome?chrome:browser;const E=S.runtime.sendMessage,A=()=>S.runtime.lastError,D=S.runtime.reload,C=S.runtime.onInstalled,I=new m("currentMessageOriginProvider"),T=(t,e)=>new Promise(((n,r)=>{const i=e;i.originPart=I.get(),t(i,(t=>{const e=A();e?r("Runtime last error: "+e.message):(null==t?void 0:t.success)?n(t.result):r(null==t?void 0:t.error)}))})),_=S.tabs.onUpdated,k=S.tabs.onActivated,R=S.tabs.onRemoved,L=S.tabs.get,P=S.tabs.query,O=S.tabs.sendMessage,N=t=>new Promise(((e,n)=>{P({active:!0,currentWindow:!0},(r=>{if(r.length){const i=(t,e)=>{O(r[0].id,t,{frameId:0},e)};T(i,t).then(e).catch(n)}}))})),M=t=>new Promise(((e,n)=>{P({},(n=>{n.forEach((e=>{e&&e.id&&O(e.id,t,(()=>{A()}))})),e()}))}));const B=(t,e)=>{return n=void 0,r=void 0,o=function*(){switch(t){case x.ActiveTabTopContent:return N(e);case x.ActiveTabTopPage:{const t=b(x.OwnedPage,e);return N(t)}case x.AllContents:return M(e);case x.AllPages:{const t=b(x.OwnedPage,e);return M(t)}case x.Offscreen:return(t=>T(E,t))(e);case x.OwnerContent:case x.OwnedPage:throw"can't send from background to "+t;default:throw"unknown target: "+t}},new((i=void 0)||(i=Promise))((function(t,e){function s(t){try{c(o.next(t))}catch(t){e(t)}}function a(t){try{c(o.throw(t))}catch(t){e(t)}}function c(e){var n;e.done?t(e.value):(n=e.value,n instanceof i?n:new i((function(t){t(n)}))).then(s,a)}c((o=o.apply(n,r||[])).next())}));var n,r,i,o};var U=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))};class F{constructor(t){this.name=t,this.wasSet=!1}set(t){f.debug(`${this.name} - getAsync - setting data`,t),this.data=t,this.wasSet=!0,this.resolveFunc&&(this.resolveFunc(t),this.resolveFunc=void 0,this.resolvePromise=void 0)}get(){return U(this,void 0,void 0,(function*(){return this.wasSet?(f.trace(`${this.name} - getAsync - data already available`,this.data),this.data):(this.resolvePromise||(f.debug(`${this.name} - getAsync - creating promise`),this.resolvePromise=new Promise((t=>{this.resolveFunc=t}))),this.resolvePromise)}))}getSync(){return{wasSet:this.wasSet,data:this.data}}}class q{constructor(t){this.getLogic=t,this.wasSet=!1}get(){return U(this,void 0,void 0,(function*(){if(!this.wasSet)try{const t=yield this.getLogic();this.data=t,this.wasSet=!0}catch(t){}return this.data}))}}const H=new F("extensionDataProvider"),j=(t,e)=>{if(e instanceof Error)try{const t={};return Object.getOwnPropertyNames(e).forEach((n=>{t[n]=e[n]})),t}catch(t){}return e};var V=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))};const G=(t,e)=>V(void 0,void 0,void 0,(function*(){return(yield fetch(t,{method:"POST",mode:"cors",cache:"no-cache",headers:{"Content-Type":"application/json"},body:JSON.stringify(e,j)})).status}));var W;!function(t){t[t.withCache=0]="withCache",t[t.noCacheByHeader=1]="noCacheByHeader",t[t.noCacheByUrlCacheBust=2]="noCacheByUrlCacheBust"}(W||(W={}));class z{constructor(t){this.postLogUrl=t+"/event/log"}postLog(t){G(this.postLogUrl,t)}}const K=new F("eventCollectorLogSenderProvider"),$=t=>{return e=void 0,n=void 0,i=function*(){var e;try{null===(e=yield K.get())||void 0===e||e.postLog(t)}catch(t){}},new((r=void 0)||(r=Promise))((function(t,o){function s(t){try{c(i.next(t))}catch(t){o(t)}}function a(t){try{c(i.throw(t))}catch(t){o(t)}}function c(e){var n;e.done?t(e.value):(n=e.value,n instanceof r?n:new r((function(t){t(n)}))).then(s,a)}c((i=i.apply(e,n||[])).next())}));var e,n,r,i},J=()=>S.runtime.getManifest().version,Y=2==S.runtime.getManifest().manifest_version?(()=>{const t=S.runtime.getManifest();return{getGlobalScope:()=>window,getHostPermissions:()=>t.permissions,setIcon:S.browserAction.setIcon,isServiceWorker:!1}})():(()=>{const t=S.runtime.getManifest();return{getGlobalScope:()=>self,getHostPermissions:()=>t.host_permissions,setIcon:S.action.setIcon,isServiceWorker:!0}})();var Z;!function(t){t.EdgeChromium="Edge-Chromium",t.Chrome="Chrome",t.Firefox="Firefox",t.Unknown="Unknown"}(Z||(Z={}));const X=t=>{let e,n,r;return-1!==(r=t.indexOf("Edg"))?(e=Z.EdgeChromium,n=t.substring(r+4)):-1!==(r=t.indexOf("Chrome"))?(e=Z.Chrome,n=t.substring(r+7,t.lastIndexOf(" "))):/Firefox\/(\S+)/.test(t)?(e=Z.Firefox,n=RegExp.$1):(e=Z.Unknown,n="Unknown"),{name:e,version:n}},Q={Win:"Windows",Mac:"MacOS",Linux:"Linux",X11:"UNIX",Android:"Android",iPad:"iOS",iPod:"iOS",iPhone:"iOS"},tt=t=>{let e;for(const n in Q)if(Object.prototype.hasOwnProperty.call(Q,n)&&-1!==t.indexOf(n)){e=Q[n];break}return e||(e="Unknown"),{name:e,version:""}};let et;const nt=()=>{if(!et){const t=Y.getGlobalScope().navigator.userAgent;et={browser:X(t),os:tt(t)}}return et};let rt;const it=()=>{if(!rt){const t=nt();rt={},rt.browser=t.browser,rt.os=t.os,rt.timezone=(new Date).getTimezoneOffset()}return rt};class ot{static empty(){return"ffffffffffffffffffffffffffffffff"}static newGuid(){return ot.newGuidByPattern("xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx")}static newGuidNoHyphens(){return ot.newGuidByPattern("xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx")}static newGuidByPattern(t){return t.replace(/[xy]/g,(t=>{const e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)}))}}var st=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))};const at=(t,e,n)=>st(void 0,void 0,void 0,(function*(){const r={[t]:e};try{return yield dt(n).set(r),!0}catch(t){return!1}})),ct=t=>st(void 0,void 0,void 0,(function*(){return new Promise((e=>{dt(t).get(null,(t=>{e(t||{})}))}))})),ut=()=>st(void 0,void 0,void 0,(function*(){return ct("local")})),lt=(t,e)=>new Promise((n=>{dt(e).get(t,(e=>{n(e?e[t]:"")}))})),ht=(t,e)=>st(void 0,void 0,void 0,(function*(){try{return yield dt(e).remove(t),!0}catch(t){return!1}})),dt=t=>S.storage[t||"sync"];var ft=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))};class pt{constructor(t,e,n,r){this.storageKey=t,this.initValueFunc=e,this.storageName=n,this.migrateFromStorageName=r,this.didInit=!1}get(){return ft(this,void 0,void 0,(function*(){return this.runningOperation&&(yield this.runningOperation),this.didInit?this.data:(this.runningOperation=this.getDataToUseAndPersistToStorage().then((t=>(this.data=t,this.didInit=!0,this.runningOperation=void 0,this.data))),this.runningOperation)}))}getDataToUseAndPersistToStorage(){return lt(this.storageKey,this.storageName).then((t=>ft(this,void 0,void 0,(function*(){if(void 0!==t&&""!==t)return t;{const t=yield this.getValueFromPreviousStorage();if(void 0!==t&&""!==t)return yield at(this.storageKey,t,this.storageName),t;{const t=this.initValueFunc();return yield at(this.storageKey,t,this.storageName),t}}}))))}getValueFromPreviousStorage(){return ft(this,void 0,void 0,(function*(){if(this.migrateFromStorageName){const t=yield lt(this.storageKey,this.migrateFromStorageName);if(void 0!==t&&""!==t)return t}}))}}var gt=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))};const vt="WalkMeUserIdGuid";let mt,yt=0;const wt=new pt(vt,ot.newGuidNoHyphens,"local","sync"),bt=()=>gt(void 0,void 0,void 0,(function*(){return void 0===mt&&(mt=yield wt.get()),gt(void 0,void 0,void 0,(function*(){if(!(()=>{const t=Date.now();return t-yt>=864e5&&(yt=t,!0)})())return;const t=mt,e=yield lt(vt,"local");e&&t===e||(f.warn("End User Storage Mismatch",{localEndUserGuid:e,memoryEndUserGuid:t}),yt=Date.now())})),mt})),xt=()=>S.runtime.id;const St="Production",Et=(t,e)=>{var n;return{settingsUrl:t.u,environment:t.env||St,cacheTime:t.ct,checkExtDataSignature:null===(n=t.checkExtDataSignature)||void 0===n||n,aioGuid:t.aioGuid,source:e}};var At=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))};const Dt=()=>At(void 0,void 0,void 0,(function*(){const t=yield At(void 0,void 0,void 0,(function*(){try{const t=yield lt("wmExtConfig","managed");if(""===t||void 0===t)return;return t}catch(t){return void f.daily(c.Warn,c.Debug,"GetExtensionConfigFromManagedStorage - failed reading from storage",t)}}));if(void 0===t)return;const e=(t=>{try{return JSON.parse(t.toString())}catch(e){const n={configFromStorage:t,error:e};return void f.daily(c.Warn,c.Debug,"GetExtensionConfigFromManagedStorage - failed parseToManagedStorageModel",n)}})(t);if(void 0!==e)try{return Et(e,"managed")}catch(n){const r={configFromStorage:t,storageConfigModel:e,error:n};return void f.daily(c.Warn,c.Debug,"GetExtensionConfigFromManagedStorage - failed convertExtensionConfigStorageModelToInternalModel",r)}}));var Ct=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))};const It=new class{constructor(t,e,n){this.funcToRun=t,this.maxTries=e,this.minDeltaMs=n,this.timesTried=0,this.lastTry=0}get(){return t=this,e=void 0,r=function*(){if(this.runningPromise)try{yield this.runningPromise}catch(t){}if(void 0!==this.result)return this.result;if(this.timesTried>this.maxTries)return this.result;const t=Date.now();if(t-this.lastTry<this.minDeltaMs)return this.result;this.lastTry=t,this.timesTried++;try{this.runningPromise=this.funcToRun(),this.result=yield this.runningPromise}catch(t){}return this.runningPromise=void 0,this.result},new((n=void 0)||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}));var t,e,n,r}}((()=>Ct(void 0,void 0,void 0,(function*(){try{const t=yield Dt();return null==t?void 0:t.aioGuid}catch(t){return void f.daily(c.Error,c.Verbose,"GetAllInOneInstallGuid - failed to get extensions config from managed storage",t)}}))),5,1e3),Tt=()=>Ct(void 0,void 0,void 0,(function*(){return It.get()}));const _t=new pt("wm-ext-installGuid",ot.newGuidNoHyphens,"local"),kt=()=>{return t=void 0,e=void 0,r=function*(){return yield _t.get()},new((n=void 0)||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}));var t,e,n,r};const Rt=t=>{return e=void 0,n=void 0,i=function*(){var e;const n=yield Tt(),r=yield bt(),i=null===(e=null==t?void 0:t.Analytics)||void 0===e?void 0:e.EnterpriseAccountGuid,o=yield kt(),s=xt();return{extId:null==t?void 0:t.Guid,browserExtId:s,installGuid:o,aioGuid:n,msaId:i,euId:r,customer:null==t?void 0:t.Customer,profile:null==t?void 0:t.Profile}},new((r=void 0)||(r=Promise))((function(t,o){function s(t){try{c(i.next(t))}catch(t){o(t)}}function a(t){try{c(i.throw(t))}catch(t){o(t)}}function c(e){var n;e.done?t(e.value):(n=e.value,n instanceof r?n:new r((function(t){t(n)}))).then(s,a)}c((i=i.apply(e,n||[])).next())}));var e,n,r,i};let Lt,Pt;const Ot=()=>{return t=void 0,e=void 0,r=function*(){return Pt&&(yield Pt),Lt},new((n=void 0)||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}));var t,e,n,r};const Nt=t=>Math.round(100*(t+Number.EPSILON))/100;const Mt=(t,e)=>{return n=void 0,r=void 0,o=function*(){const n={app:"extension",subject:t.subject,level:(a=t.level,c[a].toLowerCase()),message:t.message,logData:t.data,time:t.time,extensionPart:t.extensionPart,envData:it(),extData:yield Rt(e),runData:yield(r=void 0,i=void 0,o=void 0,s=function*(){const t=yield Ot(),e=Date.now(),n=(e-t.startTime)/1e3/60/60,r=(e-t.installTime)/1e3/60/60/24;return{runId:t.runId,startTime:t.startTime,installTime:t.installTime,hoursSinceStarted:Nt(n),daysSinceInstalled:Nt(r)}},new(o||(o=Promise))((function(t,e){function n(t){try{c(s.next(t))}catch(t){e(t)}}function a(t){try{c(s.throw(t))}catch(t){e(t)}}function c(e){var r;e.done?t(e.value):(r=e.value,r instanceof o?r:new o((function(t){t(r)}))).then(n,a)}c((s=s.apply(r,i||[])).next())}))),extVersion:J(),extManifestVersion:S.runtime.getManifest().manifest_version};var r,i,o,s,a;return n},new((i=void 0)||(i=Promise))((function(t,e){function s(t){try{c(o.next(t))}catch(t){e(t)}}function a(t){try{c(o.throw(t))}catch(t){e(t)}}function c(e){var n;e.done?t(e.value):(n=e.value,n instanceof i?n:new i((function(t){t(n)}))).then(s,a)}c((o=o.apply(n,r||[])).next())}));var n,r,i,o};const Bt=t=>{return e=void 0,n=void 0,i=function*(){const e=yield H.get(),n=yield Mt(t,e);return $(n)},new((r=void 0)||(r=Promise))((function(t,o){function s(t){try{c(i.next(t))}catch(t){o(t)}}function a(t){try{c(i.throw(t))}catch(t){o(t)}}function c(e){var n;e.done?t(e.value):(n=e.value,n instanceof r?n:new r((function(t){t(n)}))).then(s,a)}c((i=i.apply(e,n||[])).next())}));var e,n,r,i},Ut=new class{constructor(t){this.logger=t}getAllLogs(t=c.Debug){return this.logger.getHistory(t)}getLogger(){return this.logger}}(f);class Ft{constructor(){this.log=Ut}}const qt=t=>{S.runtime.onMessage.addListener(t)};class Ht{constructor(t,e){this.registerToMessages=t,this.router=e}start(){this.registerToMessages(((t,e,n)=>this.handleNativeMessage(t,e,n)))}handleNativeMessage(t,e,n){f.trace("handleNativeMessage",t,u);const r=(t=>({tabId:t.tab?t.tab.id:void 0,tabUrl:t.tab?t.tab.url:void 0,frameId:t.frameId}))(e);return this.router.handleMessage(t,n,r)}}const jt=new class extends v{constructor(){super("getFeature")}handleImpl(t){return e=this,n=void 0,i=function*(){const e=(yield H.get()).Features.filter((e=>e.Id==t.featureId))[0];return null==e?void 0:e.Name},new((r=void 0)||(r=Promise))((function(t,o){function s(t){try{c(i.next(t))}catch(t){o(t)}}function a(t){try{c(i.throw(t))}catch(t){o(t)}}function c(e){var n;e.done?t(e.value):(n=e.value,n instanceof r?n:new r((function(t){t(n)}))).then(s,a)}c((i=i.apply(e,n||[])).next())}));var e,n,r,i}},Vt=(t,e,n,r)=>{const i=!!e.IntegrityHash;return{UseNonceFromMetaTag:t.UseNonceFromMetaTag,SnippetDetect:t.SnippetDetect,IsStronger:t.IsStronger,Configuration:t.Configuration,IntegrityHash:e.IntegrityHash,SetAnonymousCors:i,Snippet:e.Snippet,UserGuid:n,EnvironmentId:r}};var Gt=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))};const Wt=new class{constructor(t){this.storageKey=t,this.didInit=!1,this.runningOperation=Promise.resolve()}get(){return Gt(this,void 0,void 0,(function*(){if(yield this.runningOperation,this.didInit)return this.data;const t=lt(this.storageKey,"local").then((t=>{try{void 0!==t&&""!==t&&(this.data=JSON.parse(t))}catch(t){}return this.didInit=!0,this.data}));return this.runningOperation=t,t}))}setOrClear(t){return Gt(this,void 0,void 0,(function*(){return void 0===t?this.clear():this.set(t)}))}set(t){return Gt(this,void 0,void 0,(function*(){yield this.runningOperation,this.data=t;const e=JSON.stringify(t),n=at(this.storageKey,e,"local").finally();return this.runningOperation=n,n}))}clear(){return Gt(this,void 0,void 0,(function*(){yield this.runningOperation,this.data=void 0;const t=ht(this.storageKey,"local").finally();return this.runningOperation=t,t}))}}("wm-package-env-override");var zt,Kt;!function(t){t[t.NoSnippetInSite=0]="NoSnippetInSite",t[t.SnippetInSite=1]="SnippetInSite",t[t.AutoDetect=2]="AutoDetect",t[t.SnippetInSiteTimeout=3]="SnippetInSiteTimeout"}(zt||(zt={})),function(t){t[t.OnlyTop=1]="OnlyTop",t[t.TopAndCdIframes=2]="TopAndCdIframes"}(Kt||(Kt={}));const $t=t=>new Promise((e=>{setTimeout((()=>e()),t)})),Jt=(t,e)=>new Promise(((n,r)=>{let i=!1,o=!1;t.then((t=>{i||(o=!0,n(t))})).catch((t=>{i||r(t)})),$t(e).then((()=>{o||(i=!0,r("timeout"))}))}));const Yt=t=>{return e=void 0,n=void 0,i=function*(){try{yield $t(1e3);const{newConventionRegex:e,urlToTest:n,regularRegexResult:r,userGuid:i,newConventionRegexString:o,regularRegexString:s,validationScope:a}=t;if(!e)return;const c=e.test(n);if(c!=r){const t={userGuid:i,validationScope:a,newConventionRegexString:o,regularRegexString:s,newConventionResult:c,regularRegexResult:r,urlWithoutQueryString:n.split("?",1)[0]};f.warn("Legacy regex mismatch",t)}}catch(t){}},new((r=void 0)||(r=Promise))((function(t,o){function s(t){try{c(i.next(t))}catch(t){o(t)}}function a(t){try{c(i.throw(t))}catch(t){o(t)}}function c(e){var n;e.done?t(e.value):(n=e.value,n instanceof r?n:new r((function(t){t(n)}))).then(s,a)}c((i=i.apply(e,n||[])).next())}));var e,n,r,i},Zt=["CDhiddenIframe","ajaxProxyIframe"];class Xt{constructor(t,e,n=!1){this.shouldVerifyNewConventionRegex=n,this.winData=this.constructWinData(t,e)}getValidPackages(t){const e=[];return t.forEach(((t,n)=>{const r=this.isPackageValid(t);f.trace(`PackageSelector: Package #${n} checked for ${this.winData.url}, is valid: ${r}`,t),r&&(f.debug("package valid for "+this.winData.url,t),e.push(t))})),e}getWinDataUrl(){return this.winData.url}getWinDataTopUrl(){return this.winData.topUrl}constructWinData(t,e){const n=JSON.parse(JSON.stringify(t));return n.url=e?n.url.split("?")[0]:n.url,n.topUrl=n.topUrl&&e?n.topUrl.split("?")[0]:n.topUrl,n}isPackageValid(t){try{const e=((t,e,n=!1)=>{try{if(!t.IsActive)return{isValid:!1,reason:"Is not active"};if(Zt.some((t=>-1!==e.url.indexOf(t))))return{isValid:!1,reason:"Extension is not injecting to hidden iframe"};if(e.iframe&&(t.LoadOptions!==Kt.TopAndCdIframes||!e.iframe.crossDomain))return{isValid:!1,reason:"Does not match iframe options"};if(t.SelfRegex){const r=t.SelfRegex.test(e.url);if(n){const n={newConventionRegex:t.NewConventionSelfRegex,newConventionRegexString:t.NewConventionSelfRegexString,regularRegexResult:r,regularRegexString:t.SelfRegexString,urlToTest:e.url,userGuid:t.UserGuid,validationScope:"Self"};Yt(n)}if(!r)return{isValid:!1,reason:"Does not match self domain"}}if(e.topUrl&&t.TopRegex){const r=t.TopRegex.test(e.topUrl);if(n){const n={newConventionRegex:t.NewConventionTopRegex,newConventionRegexString:t.NewConventionTopRegexString,regularRegexResult:r,regularRegexString:t.TopRegexString,urlToTest:e.topUrl,userGuid:t.UserGuid,validationScope:"Top"};Yt(n)}if(!r)return{isValid:!1,reason:"Does not match top domain"}}const r=!e.size||e.size.height>100&&e.size.width>100;if(t.IsCheckWindowSize&&!r)return{isValid:!1,reason:"Iframe isn't large enough"}}catch(t){return f.error("Package Validator: error while running isPackageValid",t),{isValid:!1,reason:"Exception"}}return{isValid:!0,reason:"Extension package is valid"}})(t,this.winData,this.shouldVerifyNewConventionRegex);return e.reason&&f.trace(`isPackageValid result: ${e.isValid}, with reason: ${e.reason}`,t),e.isValid}catch(e){return f.warn("PackageSelector: Error while validating package, skipping",{error:e,package:t}),!1}}}const Qt=(t,e)=>!!e&&e.some((e=>e.Id==t));let te=0,ee=0;const ne=(t,e)=>{return n=void 0,r=void 0,o=function*(){const n=(t=>t.IsActive?t.Packages:[])(e),r=(t=>{const e=t.Features;return Qt(13,e)})(e),i=((t,e)=>{var n;if(null===(n=t.Configuration)||void 0===n?void 0:n.disableVerifyRegex)return!1;if(e.iframe){if(ee++,30===ee)return ee=0,!0}else if(te++,10===te)return te=0,!0;return!1})(e,t);return new Xt(t,r,i).getValidPackages(n)},new((i=void 0)||(i=Promise))((function(t,e){function s(t){try{c(o.next(t))}catch(t){e(t)}}function a(t){try{c(o.throw(t))}catch(t){e(t)}}function c(e){var n;e.done?t(e.value):(n=e.value,n instanceof i?n:new i((function(t){t(n)}))).then(s,a)}c((o=o.apply(n,r||[])).next())}));var n,r,i,o};var re=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))};const ie=(t,e,n)=>{var r,i,o;try{const s={timeTook:e,threshold:n,urlLength:null===(r=null==t?void 0:t.url)||void 0===r?void 0:r.length,topUrlLength:null===(i=null==t?void 0:t.topUrl)||void 0===i?void 0:i.length,topFrame:null==t?void 0:t.topFrame,crossDomainIframe:null===(o=null==t?void 0:t.iframe)||void 0===o?void 0:o.crossDomain};f.daily(c.Warn,c.Debug,"getRelevantPackages exceed threshold",s)}catch(t){}};const oe=new class extends v{constructor(){super("getRelevantPackages")}handleImpl(t,e){return n=this,r=void 0,o=function*(){return t.topUrl=null==e?void 0:e.tabUrl,n=t,re(void 0,void 0,void 0,(function*(){const t=yield H.get(),e=Date.now(),r=yield ne(n,t),i=Date.now()-e;i>3e3&&ie(n,i,3e3);const o=yield Promise.all(r.map((e=>{return n=e,r=t.SystemData,re(void 0,void 0,void 0,(function*(){const t=yield Wt.get(),e=n,i=((t,e,n)=>{var r;if(void 0!==e&&void 0!==n&&void 0!==t){const i=null===(r=t[e])||void 0===r?void 0:r.PublishEnvironments[n];if(i)return i}})(r,n.UserGuid,t);if(i)return Vt(e,i,n.UserGuid,t);const o=(t=>{const e=!!t.PrivateSnippetFilePath&&!!t.IntegrityHash;return{Snippet:e?t.PrivateSnippetFilePath:t.Snippet,IntegrityHash:e?t.IntegrityHash:void 0}})(n);return Vt(e,o,n.UserGuid,n.EnvironmentId)}));var n,r})));return o}));var n},new((i=void 0)||(i=Promise))((function(t,e){function s(t){try{c(o.next(t))}catch(t){e(t)}}function a(t){try{c(o.throw(t))}catch(t){e(t)}}function c(e){var n;e.done?t(e.value):(n=e.value,n instanceof i?n:new i((function(t){t(n)}))).then(s,a)}c((o=o.apply(n,r||[])).next())}));var n,r,i,o}},se=()=>new Promise((t=>{S.management.getSelf((e=>{const n=e.installType,r=e.mayDisable,i=((t,e)=>"admin"!=t||e?"normal"==t||"development"==t?"manual":"admin"==t||"sideload"==t?"forceNormal":"other":"forceInstall")(n,r);t({browserExtensionInstallType:n,browserMayDisable:r,walkMeInstallMode:i})}))}));var ae=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))};const ce="isLocalLogsEnabled",ue="settingsUrl",le="extensionDataOverride",he=()=>ae(void 0,void 0,void 0,(function*(){const t=yield lt(le,"local");if(void 0===t||""===t)return{};try{return JSON.parse(t)}catch(e){return f.error(`Failed to parse extensionDataOverride. ExtensionDataOverride: ${t}. Error: ${e}`),{}}}));const de=new class extends g{constructor(){super("getExtensionDetails")}handleImpl(){return t=this,e=void 0,r=function*(){const t=yield H.get(),e=t.Customer,n=t.Profile,r=t.Guid,i=J(),o=yield bt(),s=yield kt(),a=yield(u=void 0,l=void 0,h=void 0,d=function*(){return!1===(yield he()).IsActive},new(h||(h=Promise))((function(t,e){function n(t){try{i(d.next(t))}catch(t){e(t)}}function r(t){try{i(d.throw(t))}catch(t){e(t)}}function i(e){var i;e.done?t(e.value):(i=e.value,i instanceof h?i:new h((function(t){t(i)}))).then(n,r)}i((d=d.apply(u,l||[])).next())}))),c=t.PopupCustomization;var u,l,h,d;let f="other";try{f=(yield se()).walkMeInstallMode}catch(t){}return{customer:e,profile:n,version:i,isExtensionDisabledFromOptions:a,endUser:o,installGuid:s,extensionGuid:r,installMode:f,popupCustomization:c}},new((n=void 0)||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}));var t,e,n,r}};const fe=new class extends v{constructor(){super("sendExtensionFailedStatusLog")}handleImpl(t){return e=this,n=void 0,i=function*(){f.error("Extension failed to load",t)},new((r=void 0)||(r=Promise))((function(t,o){function s(t){try{c(i.next(t))}catch(t){o(t)}}function a(t){try{c(i.throw(t))}catch(t){o(t)}}function c(e){var n;e.done?t(e.value):(n=e.value,n instanceof r?n:new r((function(t){t(n)}))).then(s,a)}c((i=i.apply(e,n||[])).next())}));var e,n,r,i}};var pe;!function(t){t[t.TabError=1]="TabError",t[t.PageError=2]="PageError",t[t.LibError=3]="LibError",t[t.TimeOut=4]="TimeOut"}(pe||(pe={}));const ge=S.cookies||{get:t=>t(null),onChanged:{hasListener:t=>!0,addListener:t=>{}},getAllCookieStores:t=>t([])},ve=ge.onChanged;var me=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))};const ye=(t,e)=>me(void 0,void 0,void 0,(function*(){return(yield be())?yield we(t):xe(t,e=null!=e?e:20)})),we=t=>me(void 0,void 0,void 0,(function*(){try{const e=yield(t=>new Promise(((e,n)=>{try{ge.get(t,(t=>{const r=A();r?n(r):e(t)}))}catch(t){n(t)}})))(t);return e}catch(t){return f.debug("Failed getCookie",t),null}})),be=()=>me(void 0,void 0,void 0,(function*(){try{return!!(yield new Promise(((t,e)=>{try{ge.getAllCookieStores((e=>{t(e)}))}catch(t){e(t)}}))).length}catch(t){return f.debug("Failed checkIfCookieStoreAvailable",t),!1}})),xe=(t,e)=>me(void 0,void 0,void 0,(function*(){return new Promise((n=>{if(e>0)f.debug(`Failed to read cookie, retrying... (${e} more tries)`),setTimeout((()=>me(void 0,void 0,void 0,(function*(){const r=yield ye(t,e-1);n(r)}))),500);else{const t="Failed to read cookie, No cookie store available";f.debug(t),n(null)}}))}));const Se="wm-editor-alive",Ee="walkme.com",Ae=(t,e)=>{De(t.cookie)&&e(!t.removed&&"overwrite"!==t.cause)},De=t=>t.secure&&t.httpOnly&&t.domain===Ee&&t.name===Se;const Ce=new class{constructor(){this.isEditorAlive=!1,this.onEditorStatusChangedListeners=[]}initEditorStatus(){this.setIsEditorAliveFromCookie(),this.registerForEditorStatusChange()}setIsEditorAliveFromCookie(){return t=this,e=void 0,r=function*(){const t=yield(e=void 0,n=void 0,r=void 0,i=function*(){const t={name:Se,url:"https://"+Ee};return yield ye(t)},new(r||(r=Promise))((function(t,o){function s(t){try{c(i.next(t))}catch(t){o(t)}}function a(t){try{c(i.throw(t))}catch(t){o(t)}}function c(e){var n;e.done?t(e.value):(n=e.value,n instanceof r?n:new r((function(t){t(n)}))).then(s,a)}c((i=i.apply(e,n||[])).next())})));var e,n,r,i;this.setIsEditorAlive(!!t)},new((n=void 0)||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}));var t,e,n,r}setIsEditorAlive(t){this.isEditorAlive=t,this.raiseEditorStatusChanged(t)}raiseEditorStatusChanged(t){for(let e=0;e<this.onEditorStatusChangedListeners.length;e++)this.onEditorStatusChangedListeners[e](t)}getIsEditorAlive(){return this.isEditorAlive}registerOnEditorStatusChanged(t){-1===this.onEditorStatusChangedListeners.indexOf(t)&&this.onEditorStatusChangedListeners.push(t)}registerForEditorStatusChange(){var t,e;t=t=>{this.setIsEditorAlive(t)},e=e=>{Ae(e,t)},ve.hasListener(e)||ve.addListener(e)}};Ce.initEditorStatus();var Ie=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))};const Te=new F("extensionConfiguration");const _e=(t,e=W.withCache)=>{return n=void 0,r=void 0,o=function*(){const n=yield((t,e=W.withCache)=>V(void 0,void 0,void 0,(function*(){const n=e==W.noCacheByHeader?"reload":"default";e==W.noCacheByUrlCacheBust&&(t+="?wmCacheBust="+Date.now());const r=yield fetch(t,{method:"GET",mode:"cors",cache:n,headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"}});return yield r.json()})))(t,e);return n},new((i=void 0)||(i=Promise))((function(t,e){function s(t){try{c(o.next(t))}catch(t){e(t)}}function a(t){try{c(o.throw(t))}catch(t){e(t)}}function c(e){var n;e.done?t(e.value):(n=e.value,n instanceof i?n:new i((function(t){t(n)}))).then(s,a)}c((o=o.apply(n,r||[])).next())}));var n,r,i,o},ke="<all_urls>",Re="sub_frame",Le="main_frame",Pe=(t,e,n)=>{if(!e)return t;if(!t)return e;const r=t.split(n),i=e.split(n);return[...new Set([...r,...i])].join(n)},Oe=(t,e)=>{if(!e)return t;if(!t)return e;const n={};return Object.assign(n,e,t),n},Ne=(t,e)=>{e&&0!=e.length&&e.forEach((e=>{t.includes(e)||t.push(e)}))},Me=(t,e)=>e?t?(e&&e.forEach((e=>{const n=t.find((t=>t.FilterRole==e.FilterRole));n?((t,e)=>{t.Urls.includes(ke)||e.Urls.includes(ke)?t.Urls=[ke]:Ne(t.Urls,e.Urls),t.FilterMatchingData.push(...e.FilterMatchingData)})(n,e):t.push(e)})),t):e:t,Be=(t,e)=>{e!=t.EnterpriseAccountGuid&&(t.SecondaryEnterpriseAccountGuids=t.SecondaryEnterpriseAccountGuids||[],t.SecondaryEnterpriseAccountGuids.includes(e)||t.SecondaryEnterpriseAccountGuids.push(e))};var Ue,Fe;class qe{adaptPackages(t){return t.reduce(((t,e)=>{try{const n=this.adaptSinglePackage(e);t.push(n)}catch(t){}return t}),[])}}!function(t){t[t.Top=0]="Top",t[t.SameDomainFrame=1]="SameDomainFrame",t[t.CrossDomainFrame=2]="CrossDomainFrame"}(Ue||(Ue={})),function(t){t[t.Top=0]="Top",t[t.SameDomainFrame=1]="SameDomainFrame",t[t.CrossDomainFrame=2]="CrossDomainFrame",t[t.HttpRequest=3]="HttpRequest"}(Fe||(Fe={}));const He=t=>t.reduce(((t,e)=>{try{if(e.IsActive){const n={};n.AlterCspFrameTypes=[Ue.Top],e.SelfRegex&&(n.ShouldFilterSelfRegex=!0,n.SelfUrlValidationRegex=new RegExp(e.SelfRegex,"i"),n.SelfUrlValidationRegexString=e.SelfRegex),e.LoadOptions==Kt.TopAndCdIframes&&(n.AlterCspFrameTypes.push(Ue.CrossDomainFrame),e.TopRegex&&(n.ShouldFilterTopRegex=!0,n.TopUrlValidationRegex=new RegExp(e.TopRegex,"i"),n.TopUrlValidationRegexString=e.TopRegex)),t.push(n)}}catch(t){}return t}),[]),je=(t,e,n,r)=>{var i,o,s,a,c;const u=(null===(i=t.CspDomains)||void 0===i?void 0:i.WalkmeDomains)||"*.walkme.com",l=(null===(o=t.CspDomains)||void 0===o?void 0:o.ImageDomains)||"s3.walkmeusercontent.com",h=(null===(s=t.CspDomains)||void 0===s?void 0:s.CustomDomains)||t.CustomCspUrls||"",d=null===(c=null===(a=t.CspDomains)||void 0===a?void 0:a.EnableUnsafeEval)||void 0===c||c,f={IsActive:t.AlterCSP,WalkMeDomains:u,ImageDomains:l,CustomUrls:h,EnableUnsafeEval:d,SplitCspHeaderByComma:!!(null==r?void 0:r.cspHeaderCommaSupport)};if(t.AlterCSP){let r=[];Qt(9,t.Features)&&(r=n);const i=((t,e)=>{const n={Matchers:He(t.Packages),WhiteList:e};return{AlterCspRequestTypes:[Fe.Top,Fe.CrossDomainFrame],Urls:[ke],FilterMatchingData:[n],FilterRole:"Regular"}})(e,r);if(f.Filters=[i],t.ServiceWorkersSitesUrls&&t.ServiceWorkersSitesUrls.length>0){const n=((t,e,n)=>{const r={Matchers:He(e.Packages),WhiteList:n};return{AlterCspRequestTypes:[Fe.HttpRequest],Urls:t,FilterMatchingData:[r],FilterRole:"ServiceWorker"}})(t.ServiceWorkersSitesUrls,e,r);f.Filters.push(n)}}return f},Ve=(t,e,n)=>{var r;const i=0!==((null===(r=t.IdpSamlUrls)||void 0===r?void 0:r.join(" "))||"").length,o={IsActive:i};if(i){const r=((t,e,n)=>{const r=He(t.Packages),i=(()=>{try{const t=`^${location.origin}`;return{AlterCspFrameTypes:[Ue.Top],ShouldFilterSelfRegex:!0,SelfUrlValidationRegex:new RegExp(t),SelfUrlValidationRegexString:t,ShouldFilterTopRegex:!1}}catch(t){return}})();return i&&r.push(i),{AlterCspRequestTypes:[Fe.CrossDomainFrame,Fe.SameDomainFrame],Urls:e,FilterMatchingData:[{Matchers:r,WhiteList:n}],FilterRole:"IdpSaml"}})(e,t.IdpSamlUrls,n);o.Filters=[r]}return o},Ge=t=>null!=t&&t.length>1&&"string"==typeof t[1]&&t[1].length>0?t[1]:void 0,We=t=>{const e=t.match(/^(?:https?:\/\/)?(?:www[0-9]?\.)?([^:\/\n?]+)/i);return Ge(e)},ze=(t,e)=>{const n={};for(const t in e){const r=e[t],i=Ke(t,r);n[i.Id]=i}return{Guid:t,PublishEnvironments:n}},Ke=(t,e)=>({Id:Number(t),Name:e.name,IsDev:e.isDev,Snippet:e.snippet,IntegrityHash:e.integrityHash}),$e=new RegExp("https?://.*/customers/(.*)/[^/]*ext_settings");const Je=t=>new q((()=>(t=>{return e=void 0,n=void 0,i=function*(){const e=S.runtime.getURL(t),n=yield fetch(e);return yield n.json()},new((r=void 0)||(r=Promise))((function(t,o){function s(t){try{c(i.next(t))}catch(t){o(t)}}function a(t){try{c(i.throw(t))}catch(t){o(t)}}function c(e){var n;e.done?t(e.value):(n=e.value,n instanceof r?n:new r((function(t){t(n)}))).then(s,a)}c((i=i.apply(e,n||[])).next())}));var e,n,r,i})(t))),Ye=Je("./hardcoded_config/extension_config.json"),Ze=(Je("./hardcoded_config/extension_options_password_hash.json"),Je("./hardcoded_config/extension_signing_certificate.json")),Xe=Je("./hardcoded_config/walkme_servers.json"),Qe=Je("./hardcoded_config/extension_runtime_config.json");var tn=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))};class en extends qe{adaptSinglePackage(t){const e={};return Object.assign(e,t),t.TopRegex&&(e.TopRegex=new RegExp(t.TopRegex,"i"),e.TopRegexString=t.TopRegex),t.SelfRegex&&(e.SelfRegex=new RegExp(t.SelfRegex,"i"),e.SelfRegexString=t.SelfRegex),t.NewConventionTopRegex&&(e.NewConventionTopRegex=new RegExp(t.NewConventionTopRegex,"i"),e.NewConventionTopRegexString=t.NewConventionTopRegex),t.NewConventionSelfRegex&&(e.NewConventionSelfRegex=new RegExp(t.NewConventionSelfRegex,"i"),e.NewConventionSelfRegexString=t.NewConventionSelfRegex),0===t.IsSnippetLoading&&t.SnippetDetect!=zt.NoSnippetInSite&&f.debug('Package "IsSnippetLoading" is "0". This is no longer supported, please fix the package.',t),e}}const nn=t=>{var e,n,r;return{AuditingIntervalSeconds:(null===(e=t.ExtensionAnalytics)||void 0===e?void 0:e.AuditingInterval)||0,EventCollectorUrl:null===(n=t.ExtensionAnalytics)||void 0===n?void 0:n.EventsCollectorUrl,EnterpriseAccountGuid:null===(r=t.ExtensionAnalytics)||void 0===r?void 0:r.EnterpriseAccountGuid}},rn=t=>tn(void 0,void 0,void 0,(function*(){var e,n,r;const i=yield Xe.get(),o=null===(e=t.ExtensionAnalytics)||void 0===e?void 0:e.EventsCollectorUrl,s=(null===(n=t.Services)||void 0===n?void 0:n.WalkMeCdnUrl)||on(i);return{EventsCollectorUrl:(null===(r=t.Services)||void 0===r?void 0:r.EventsCollectorUrl)||o||i.eventCollector,WalkMeCdnUrl:s}})),on=t=>{const e=t.cdnServer;return e.startsWith("http://")||e.startsWith("https://")?e:"https://"+e},sn=t=>t.ServiceWorkersSitesUrls?t.ServiceWorkersSitesUrls.map((t=>(t=>{try{const e=new URL(t);return`${e.protocol}//${e.hostname}`}catch(e){return f.warn(`Got invalid URL: '${t}'. Returning the original one.`),t}})(t))):[],an=t=>(new en).adaptPackages(t.Packages),cn=t=>{if(!t.Systems)return{};const e={};for(const n in t.Systems){const r=t.Systems[n],i=ze(n,r);e[n]=i}return e};const un=t=>{var e,n;function r(t,e,n){null!=t&&("number"==typeof t?this.fromNumber(t,e,n):null==e&&"string"!=typeof t?this.fromString(t,256):this.fromString(t,e))}function i(){return new r(null)}"Microsoft Internet Explorer"==navigator.appName?(r.prototype.am=function(t,e,n,r,i,o){for(var s=32767&e,a=e>>15;--o>=0;){var c=32767&this[t],u=this[t++]>>15,l=a*c+u*s;i=((c=s*c+((32767&l)<<15)+n[r]+(1073741823&i))>>>30)+(l>>>15)+a*u+(i>>>30),n[r++]=1073741823&c}return i},n=30):"Netscape"!=navigator.appName?(r.prototype.am=function(t,e,n,r,i,o){for(;--o>=0;){var s=e*this[t++]+n[r]+i;i=Math.floor(s/67108864),n[r++]=67108863&s}return i},n=26):(r.prototype.am=function(t,e,n,r,i,o){for(var s=16383&e,a=e>>14;--o>=0;){var c=16383&this[t],u=this[t++]>>14,l=a*c+u*s;i=((c=s*c+((16383&l)<<14)+n[r]+i)>>28)+(l>>14)+a*u,n[r++]=268435455&c}return i},n=28),r.prototype.DB=n,r.prototype.DM=(1<<n)-1,r.prototype.DV=1<<n,r.prototype.FV=Math.pow(2,52),r.prototype.F1=52-n,r.prototype.F2=2*n-52;var o,s,a="0123456789abcdefghijklmnopqrstuvwxyz",c=new Array;for(o="0".charCodeAt(0),s=0;s<=9;++s)c[o++]=s;for(o="a".charCodeAt(0),s=10;s<36;++s)c[o++]=s;for(o="A".charCodeAt(0),s=10;s<36;++s)c[o++]=s;function u(t){return a.charAt(t)}function l(t,e){var n=c[t.charCodeAt(e)];return null==n?-1:n}function h(t){var e=i();return e.fromInt(t),e}function d(t){var e,n=1;return 0!=(e=t>>>16)&&(t=e,n+=16),0!=(e=t>>8)&&(t=e,n+=8),0!=(e=t>>4)&&(t=e,n+=4),0!=(e=t>>2)&&(t=e,n+=2),0!=(e=t>>1)&&(t=e,n+=1),n}function f(t){this.m=t}function p(t){this.m=t,this.mp=t.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}function g(t,e){return t&e}function v(t,e){return t|e}function m(t,e){return t^e}function y(t,e){return t&~e}function w(t){if(0==t)return-1;var e=0;return 0==(65535&t)&&(t>>=16,e+=16),0==(255&t)&&(t>>=8,e+=8),0==(15&t)&&(t>>=4,e+=4),0==(3&t)&&(t>>=2,e+=2),0==(1&t)&&++e,e}function b(t){for(var e=0;0!=t;)t&=t-1,++e;return e}function x(){}function S(t){return t}function E(t){this.r2=i(),this.q3=i(),r.ONE.dlShiftTo(2*t.t,this.r2),this.mu=this.r2.divide(t),this.m=t}f.prototype.convert=function(t){return t.s<0||t.compareTo(this.m)>=0?t.mod(this.m):t},f.prototype.revert=function(t){return t},f.prototype.reduce=function(t){t.divRemTo(this.m,null,t)},f.prototype.mulTo=function(t,e,n){t.multiplyTo(e,n),this.reduce(n)},f.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)},p.prototype.convert=function(t){var e=i();return t.abs().dlShiftTo(this.m.t,e),e.divRemTo(this.m,null,e),t.s<0&&e.compareTo(r.ZERO)>0&&this.m.subTo(e,e),e},p.prototype.revert=function(t){var e=i();return t.copyTo(e),this.reduce(e),e},p.prototype.reduce=function(t){for(;t.t<=this.mt2;)t[t.t++]=0;for(var e=0;e<this.m.t;++e){var n=32767&t[e],r=n*this.mpl+((n*this.mph+(t[e]>>15)*this.mpl&this.um)<<15)&t.DM;for(t[n=e+this.m.t]+=this.m.am(0,r,t,e,0,this.m.t);t[n]>=t.DV;)t[n]-=t.DV,t[++n]++}t.clamp(),t.drShiftTo(this.m.t,t),t.compareTo(this.m)>=0&&t.subTo(this.m,t)},p.prototype.mulTo=function(t,e,n){t.multiplyTo(e,n),this.reduce(n)},p.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)},r.prototype.copyTo=function(t){for(var e=this.t-1;e>=0;--e)t[e]=this[e];t.t=this.t,t.s=this.s},r.prototype.fromInt=function(t){this.t=1,this.s=t<0?-1:0,t>0?this[0]=t:t<-1?this[0]=t+this.DV:this.t=0},r.prototype.fromString=function(t,e){var n;if(16==e)n=4;else if(8==e)n=3;else if(256==e)n=8;else if(2==e)n=1;else if(32==e)n=5;else{if(4!=e)return void this.fromRadix(t,e);n=2}this.t=0,this.s=0;for(var i=t.length,o=!1,s=0;--i>=0;){var a=8==n?255&t[i]:l(t,i);a<0?"-"==t.charAt(i)&&(o=!0):(o=!1,0==s?this[this.t++]=a:s+n>this.DB?(this[this.t-1]|=(a&(1<<this.DB-s)-1)<<s,this[this.t++]=a>>this.DB-s):this[this.t-1]|=a<<s,(s+=n)>=this.DB&&(s-=this.DB))}8==n&&0!=(128&t[0])&&(this.s=-1,s>0&&(this[this.t-1]|=(1<<this.DB-s)-1<<s)),this.clamp(),o&&r.ZERO.subTo(this,this)},r.prototype.clamp=function(){for(var t=this.s&this.DM;this.t>0&&this[this.t-1]==t;)--this.t},r.prototype.dlShiftTo=function(t,e){var n;for(n=this.t-1;n>=0;--n)e[n+t]=this[n];for(n=t-1;n>=0;--n)e[n]=0;e.t=this.t+t,e.s=this.s},r.prototype.drShiftTo=function(t,e){for(var n=t;n<this.t;++n)e[n-t]=this[n];e.t=Math.max(this.t-t,0),e.s=this.s},r.prototype.lShiftTo=function(t,e){var n,r=t%this.DB,i=this.DB-r,o=(1<<i)-1,s=Math.floor(t/this.DB),a=this.s<<r&this.DM;for(n=this.t-1;n>=0;--n)e[n+s+1]=this[n]>>i|a,a=(this[n]&o)<<r;for(n=s-1;n>=0;--n)e[n]=0;e[s]=a,e.t=this.t+s+1,e.s=this.s,e.clamp()},r.prototype.rShiftTo=function(t,e){e.s=this.s;var n=Math.floor(t/this.DB);if(n>=this.t)e.t=0;else{var r=t%this.DB,i=this.DB-r,o=(1<<r)-1;e[0]=this[n]>>r;for(var s=n+1;s<this.t;++s)e[s-n-1]|=(this[s]&o)<<i,e[s-n]=this[s]>>r;r>0&&(e[this.t-n-1]|=(this.s&o)<<i),e.t=this.t-n,e.clamp()}},r.prototype.subTo=function(t,e){for(var n=0,r=0,i=Math.min(t.t,this.t);n<i;)r+=this[n]-t[n],e[n++]=r&this.DM,r>>=this.DB;if(t.t<this.t){for(r-=t.s;n<this.t;)r+=this[n],e[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<t.t;)r-=t[n],e[n++]=r&this.DM,r>>=this.DB;r-=t.s}e.s=r<0?-1:0,r<-1?e[n++]=this.DV+r:r>0&&(e[n++]=r),e.t=n,e.clamp()},r.prototype.multiplyTo=function(t,e){var n=this.abs(),i=t.abs(),o=n.t;for(e.t=o+i.t;--o>=0;)e[o]=0;for(o=0;o<i.t;++o)e[o+n.t]=n.am(0,i[o],e,o,0,n.t);e.s=0,e.clamp(),this.s!=t.s&&r.ZERO.subTo(e,e)},r.prototype.squareTo=function(t){for(var e=this.abs(),n=t.t=2*e.t;--n>=0;)t[n]=0;for(n=0;n<e.t-1;++n){var r=e.am(n,e[n],t,2*n,0,1);(t[n+e.t]+=e.am(n+1,2*e[n],t,2*n+1,r,e.t-n-1))>=e.DV&&(t[n+e.t]-=e.DV,t[n+e.t+1]=1)}t.t>0&&(t[t.t-1]+=e.am(n,e[n],t,2*n,0,1)),t.s=0,t.clamp()},r.prototype.divRemTo=function(t,e,n){var o=t.abs();if(!(o.t<=0)){var s=this.abs();if(s.t<o.t)return null!=e&&e.fromInt(0),void(null!=n&&this.copyTo(n));null==n&&(n=i());var a=i(),c=this.s,u=t.s,l=this.DB-d(o[o.t-1]);l>0?(o.lShiftTo(l,a),s.lShiftTo(l,n)):(o.copyTo(a),s.copyTo(n));var h=a.t,f=a[h-1];if(0!=f){var p=f*(1<<this.F1)+(h>1?a[h-2]>>this.F2:0),g=this.FV/p,v=(1<<this.F1)/p,m=1<<this.F2,y=n.t,w=y-h,b=null==e?i():e;for(a.dlShiftTo(w,b),n.compareTo(b)>=0&&(n[n.t++]=1,n.subTo(b,n)),r.ONE.dlShiftTo(h,b),b.subTo(a,a);a.t<h;)a[a.t++]=0;for(;--w>=0;){var x=n[--y]==f?this.DM:Math.floor(n[y]*g+(n[y-1]+m)*v);if((n[y]+=a.am(0,x,n,w,0,h))<x)for(a.dlShiftTo(w,b),n.subTo(b,n);n[y]<--x;)n.subTo(b,n)}null!=e&&(n.drShiftTo(h,e),c!=u&&r.ZERO.subTo(e,e)),n.t=h,n.clamp(),l>0&&n.rShiftTo(l,n),c<0&&r.ZERO.subTo(n,n)}}},r.prototype.invDigit=function(){if(this.t<1)return 0;var t=this[0];if(0==(1&t))return 0;var e=3&t;return(e=(e=(e=(e=e*(2-(15&t)*e)&15)*(2-(255&t)*e)&255)*(2-((65535&t)*e&65535))&65535)*(2-t*e%this.DV)%this.DV)>0?this.DV-e:-e},r.prototype.isEven=function(){return 0==(this.t>0?1&this[0]:this.s)},r.prototype.exp=function(t,e){if(t>4294967295||t<1)return r.ONE;var n=i(),o=i(),s=e.convert(this),a=d(t)-1;for(s.copyTo(n);--a>=0;)if(e.sqrTo(n,o),(t&1<<a)>0)e.mulTo(o,s,n);else{var c=n;n=o,o=c}return e.revert(n)},r.prototype.toString=function(t){if(this.s<0)return"-"+this.negate().toString(t);var e;if(16==t)e=4;else if(8==t)e=3;else if(2==t)e=1;else if(32==t)e=5;else{if(4!=t)return this.toRadix(t);e=2}var n,r=(1<<e)-1,i=!1,o="",s=this.t,a=this.DB-s*this.DB%e;if(s-- >0)for(a<this.DB&&(n=this[s]>>a)>0&&(i=!0,o=u(n));s>=0;)a<e?(n=(this[s]&(1<<a)-1)<<e-a,n|=this[--s]>>(a+=this.DB-e)):(n=this[s]>>(a-=e)&r,a<=0&&(a+=this.DB,--s)),n>0&&(i=!0),i&&(o+=u(n));return i?o:"0"},r.prototype.negate=function(){var t=i();return r.ZERO.subTo(this,t),t},r.prototype.abs=function(){return this.s<0?this.negate():this},r.prototype.compareTo=function(t){var e=this.s-t.s;if(0!=e)return e;var n=this.t;if(0!=(e=n-t.t))return this.s<0?-e:e;for(;--n>=0;)if(0!=(e=this[n]-t[n]))return e;return 0},r.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+d(this[this.t-1]^this.s&this.DM)},r.prototype.mod=function(t){var e=i();return this.abs().divRemTo(t,null,e),this.s<0&&e.compareTo(r.ZERO)>0&&t.subTo(e,e),e},r.prototype.modPowInt=function(t,e){var n;return n=t<256||e.isEven()?new f(e):new p(e),this.exp(t,n)},r.ZERO=h(0),r.ONE=h(1),x.prototype.convert=S,x.prototype.revert=S,x.prototype.mulTo=function(t,e,n){t.multiplyTo(e,n)},x.prototype.sqrTo=function(t,e){t.squareTo(e)},E.prototype.convert=function(t){if(t.s<0||t.t>2*this.m.t)return t.mod(this.m);if(t.compareTo(this.m)<0)return t;var e=i();return t.copyTo(e),this.reduce(e),e},E.prototype.revert=function(t){return t},E.prototype.reduce=function(t){for(t.drShiftTo(this.m.t-1,this.r2),t.t>this.m.t+1&&(t.t=this.m.t+1,t.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);t.compareTo(this.r2)<0;)t.dAddOffset(1,this.m.t+1);for(t.subTo(this.r2,t);t.compareTo(this.m)>=0;)t.subTo(this.m,t)},E.prototype.mulTo=function(t,e,n){t.multiplyTo(e,n),this.reduce(n)},E.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)};var A=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],D=(1<<26)/A[A.length-1];function C(t,e){return new r(t,e)}function I(t,e,n){for(var r="",i=0;r.length<e;)r+=n(String.fromCharCode.apply(String,t.concat([(4278190080&i)>>24,(16711680&i)>>16,(65280&i)>>8,255&i]))),i+=1;return r}r.prototype.chunkSize=function(t){return Math.floor(Math.LN2*this.DB/Math.log(t))},r.prototype.toRadix=function(t){if(null==t&&(t=10),0==this.signum()||t<2||t>36)return"0";var e=this.chunkSize(t),n=Math.pow(t,e),r=h(n),o=i(),s=i(),a="";for(this.divRemTo(r,o,s);o.signum()>0;)a=(n+s.intValue()).toString(t).substr(1)+a,o.divRemTo(r,o,s);return s.intValue().toString(t)+a},r.prototype.fromRadix=function(t,e){this.fromInt(0),null==e&&(e=10);for(var n=this.chunkSize(e),i=Math.pow(e,n),o=!1,s=0,a=0,c=0;c<t.length;++c){var u=l(t,c);u<0?"-"==t.charAt(c)&&0==this.signum()&&(o=!0):(a=e*a+u,++s>=n&&(this.dMultiply(i),this.dAddOffset(a,0),s=0,a=0))}s>0&&(this.dMultiply(Math.pow(e,s)),this.dAddOffset(a,0)),o&&r.ZERO.subTo(this,this)},r.prototype.fromNumber=function(t,e,n){if("number"==typeof e)if(t<2)this.fromInt(1);else for(this.fromNumber(t,n),this.testBit(t-1)||this.bitwiseTo(r.ONE.shiftLeft(t-1),v,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(e);)this.dAddOffset(2,0),this.bitLength()>t&&this.subTo(r.ONE.shiftLeft(t-1),this);else{var i=new Array,o=7&t;i.length=1+(t>>3),e.nextBytes(i),o>0?i[0]&=(1<<o)-1:i[0]=0,this.fromString(i,256)}},r.prototype.bitwiseTo=function(t,e,n){var r,i,o=Math.min(t.t,this.t);for(r=0;r<o;++r)n[r]=e(this[r],t[r]);if(t.t<this.t){for(i=t.s&this.DM,r=o;r<this.t;++r)n[r]=e(this[r],i);n.t=this.t}else{for(i=this.s&this.DM,r=o;r<t.t;++r)n[r]=e(i,t[r]);n.t=t.t}n.s=e(this.s,t.s),n.clamp()},r.prototype.changeBit=function(t,e){var n=r.ONE.shiftLeft(t);return this.bitwiseTo(n,e,n),n},r.prototype.addTo=function(t,e){for(var n=0,r=0,i=Math.min(t.t,this.t);n<i;)r+=this[n]+t[n],e[n++]=r&this.DM,r>>=this.DB;if(t.t<this.t){for(r+=t.s;n<this.t;)r+=this[n],e[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<t.t;)r+=t[n],e[n++]=r&this.DM,r>>=this.DB;r+=t.s}e.s=r<0?-1:0,r>0?e[n++]=r:r<-1&&(e[n++]=this.DV+r),e.t=n,e.clamp()},r.prototype.dMultiply=function(t){this[this.t]=this.am(0,t-1,this,0,0,this.t),++this.t,this.clamp()},r.prototype.dAddOffset=function(t,e){if(0!=t){for(;this.t<=e;)this[this.t++]=0;for(this[e]+=t;this[e]>=this.DV;)this[e]-=this.DV,++e>=this.t&&(this[this.t++]=0),++this[e]}},r.prototype.multiplyLowerTo=function(t,e,n){var r,i=Math.min(this.t+t.t,e);for(n.s=0,n.t=i;i>0;)n[--i]=0;for(r=n.t-this.t;i<r;++i)n[i+this.t]=this.am(0,t[i],n,i,0,this.t);for(r=Math.min(t.t,e);i<r;++i)this.am(0,t[i],n,i,0,e-i);n.clamp()},r.prototype.multiplyUpperTo=function(t,e,n){--e;var r=n.t=this.t+t.t-e;for(n.s=0;--r>=0;)n[r]=0;for(r=Math.max(e-this.t,0);r<t.t;++r)n[this.t+r-e]=this.am(e-r,t[r],n,0,0,this.t+r-e);n.clamp(),n.drShiftTo(1,n)},r.prototype.modInt=function(t){if(t<=0)return 0;var e=this.DV%t,n=this.s<0?t-1:0;if(this.t>0)if(0==e)n=this[0]%t;else for(var r=this.t-1;r>=0;--r)n=(e*n+this[r])%t;return n},r.prototype.millerRabin=function(t){var e=this.subtract(r.ONE),n=e.getLowestSetBit();if(n<=0)return!1;var o=e.shiftRight(n);(t=t+1>>1)>A.length&&(t=A.length);for(var s=i(),a=0;a<t;++a){s.fromInt(A[Math.floor(Math.random()*A.length)]);var c=s.modPow(o,this);if(0!=c.compareTo(r.ONE)&&0!=c.compareTo(e)){for(var u=1;u++<n&&0!=c.compareTo(e);)if(0==(c=c.modPowInt(2,this)).compareTo(r.ONE))return!1;if(0!=c.compareTo(e))return!1}}return!0},r.prototype.clone=function(){var t=i();return this.copyTo(t),t},r.prototype.intValue=function(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},r.prototype.byteValue=function(){return 0==this.t?this.s:this[0]<<24>>24},r.prototype.shortValue=function(){return 0==this.t?this.s:this[0]<<16>>16},r.prototype.signum=function(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1},r.prototype.toByteArray=function(){var t=this.t,e=new Array;e[0]=this.s;var n,r=this.DB-t*this.DB%8,i=0;if(t-- >0)for(r<this.DB&&(n=this[t]>>r)!=(this.s&this.DM)>>r&&(e[i++]=n|this.s<<this.DB-r);t>=0;)r<8?(n=(this[t]&(1<<r)-1)<<8-r,n|=this[--t]>>(r+=this.DB-8)):(n=this[t]>>(r-=8)&255,r<=0&&(r+=this.DB,--t)),0!=(128&n)&&(n|=-256),0==i&&(128&this.s)!=(128&n)&&++i,(i>0||n!=this.s)&&(e[i++]=n);return e},r.prototype.equals=function(t){return 0==this.compareTo(t)},r.prototype.min=function(t){return this.compareTo(t)<0?this:t},r.prototype.max=function(t){return this.compareTo(t)>0?this:t},r.prototype.and=function(t){var e=i();return this.bitwiseTo(t,g,e),e},r.prototype.or=function(t){var e=i();return this.bitwiseTo(t,v,e),e},r.prototype.xor=function(t){var e=i();return this.bitwiseTo(t,m,e),e},r.prototype.andNot=function(t){var e=i();return this.bitwiseTo(t,y,e),e},r.prototype.not=function(){for(var t=i(),e=0;e<this.t;++e)t[e]=this.DM&~this[e];return t.t=this.t,t.s=~this.s,t},r.prototype.shiftLeft=function(t){var e=i();return t<0?this.rShiftTo(-t,e):this.lShiftTo(t,e),e},r.prototype.shiftRight=function(t){var e=i();return t<0?this.lShiftTo(-t,e):this.rShiftTo(t,e),e},r.prototype.getLowestSetBit=function(){for(var t=0;t<this.t;++t)if(0!=this[t])return t*this.DB+w(this[t]);return this.s<0?this.t*this.DB:-1},r.prototype.bitCount=function(){for(var t=0,e=this.s&this.DM,n=0;n<this.t;++n)t+=b(this[n]^e);return t},r.prototype.testBit=function(t){var e=Math.floor(t/this.DB);return e>=this.t?0!=this.s:0!=(this[e]&1<<t%this.DB)},r.prototype.setBit=function(t){return this.changeBit(t,v)},r.prototype.clearBit=function(t){return this.changeBit(t,y)},r.prototype.flipBit=function(t){return this.changeBit(t,m)},r.prototype.add=function(t){var e=i();return this.addTo(t,e),e},r.prototype.subtract=function(t){var e=i();return this.subTo(t,e),e},r.prototype.multiply=function(t){var e=i();return this.multiplyTo(t,e),e},r.prototype.divide=function(t){var e=i();return this.divRemTo(t,e,null),e},r.prototype.remainder=function(t){var e=i();return this.divRemTo(t,null,e),e},r.prototype.divideAndRemainder=function(t){var e=i(),n=i();return this.divRemTo(t,e,n),new Array(e,n)},r.prototype.modPow=function(t,e){var n,r,o=t.bitLength(),s=h(1);if(o<=0)return s;n=o<18?1:o<48?3:o<144?4:o<768?5:6,r=o<8?new f(e):e.isEven()?new E(e):new p(e);var a=new Array,c=3,u=n-1,l=(1<<n)-1;if(a[1]=r.convert(this),n>1){var g=i();for(r.sqrTo(a[1],g);c<=l;)a[c]=i(),r.mulTo(g,a[c-2],a[c]),c+=2}var v,m,y=t.t-1,w=!0,b=i();for(o=d(t[y])-1;y>=0;){for(o>=u?v=t[y]>>o-u&l:(v=(t[y]&(1<<o+1)-1)<<u-o,y>0&&(v|=t[y-1]>>this.DB+o-u)),c=n;0==(1&v);)v>>=1,--c;if((o-=c)<0&&(o+=this.DB,--y),w)a[v].copyTo(s),w=!1;else{for(;c>1;)r.sqrTo(s,b),r.sqrTo(b,s),c-=2;c>0?r.sqrTo(s,b):(m=s,s=b,b=m),r.mulTo(b,a[v],s)}for(;y>=0&&0==(t[y]&1<<o);)r.sqrTo(s,b),m=s,s=b,b=m,--o<0&&(o=this.DB-1,--y)}return r.revert(s)},r.prototype.modInverse=function(t){var e=t.isEven();if(this.isEven()&&e||0==t.signum())return r.ZERO;for(var n=t.clone(),i=this.clone(),o=h(1),s=h(0),a=h(0),c=h(1);0!=n.signum();){for(;n.isEven();)n.rShiftTo(1,n),e?(o.isEven()&&s.isEven()||(o.addTo(this,o),s.subTo(t,s)),o.rShiftTo(1,o)):s.isEven()||s.subTo(t,s),s.rShiftTo(1,s);for(;i.isEven();)i.rShiftTo(1,i),e?(a.isEven()&&c.isEven()||(a.addTo(this,a),c.subTo(t,c)),a.rShiftTo(1,a)):c.isEven()||c.subTo(t,c),c.rShiftTo(1,c);n.compareTo(i)>=0?(n.subTo(i,n),e&&o.subTo(a,o),s.subTo(c,s)):(i.subTo(n,i),e&&a.subTo(o,a),c.subTo(s,c))}return 0!=i.compareTo(r.ONE)?r.ZERO:c.compareTo(t)>=0?c.subtract(t):c.signum()<0?(c.addTo(t,c),c.signum()<0?c.add(t):c):c},r.prototype.pow=function(t){return this.exp(t,new x)},r.prototype.gcd=function(t){var e=this.s<0?this.negate():this.clone(),n=t.s<0?t.negate():t.clone();if(e.compareTo(n)<0){var r=e;e=n,n=r}var i=e.getLowestSetBit(),o=n.getLowestSetBit();if(o<0)return e;for(i<o&&(o=i),o>0&&(e.rShiftTo(o,e),n.rShiftTo(o,n));e.signum()>0;)(i=e.getLowestSetBit())>0&&e.rShiftTo(i,e),(i=n.getLowestSetBit())>0&&n.rShiftTo(i,n),e.compareTo(n)>=0?(e.subTo(n,e),e.rShiftTo(1,e)):(n.subTo(e,n),n.rShiftTo(1,n));return o>0&&n.lShiftTo(o,n),n},r.prototype.isProbablePrime=function(t){var e,n=this.abs();if(1==n.t&&n[0]<=A[A.length-1]){for(e=0;e<A.length;++e)if(n[0]==A[e])return!0;return!1}if(n.isEven())return!1;for(e=1;e<A.length;){for(var r=A[e],i=e+1;i<A.length&&r<D;)r*=A[i++];for(r=n.modInt(r);e<i;)if(r%A[e++]==0)return!1}return n.millerRabin(t)},r.prototype.square=function(){var t=i();return this.squareTo(t),t};var T=20;function _(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}function k(t,e,n){for(var r="",i=0;r.length<e;)r+=n(t+String.fromCharCode.apply(String,[(4278190080&i)>>24,(16711680&i)>>16,(65280&i)>>8,255&i])),i+=1;return r}_.prototype.doPublic=function(t){return t.modPowInt(this.e,this.n)},_.prototype.setPublic=function(t,e){this.isPublic=!0,"string"!=typeof t?(this.n=t,this.e=e):null!=t&&null!=e&&t.length>0&&e.length>0?(this.n=C(t,16),this.e=parseInt(e,16)):alert("Invalid RSA public key")},_.prototype.encrypt=function(t){var e=function(t,e){if(e<t.length+11)return alert("Message too long for RSA"),null;for(var n=new Array,i=t.length-1;i>=0&&e>0;){var o=t.charCodeAt(i--);o<128?n[--e]=o:o>127&&o<2048?(n[--e]=63&o|128,n[--e]=o>>6|192):(n[--e]=63&o|128,n[--e]=o>>6&63|128,n[--e]=o>>12|224)}n[--e]=0;for(var s=new SecureRandom,a=new Array;e>2;){for(a[0]=0;0==a[0];)s.nextBytes(a);n[--e]=a[0]}return n[--e]=2,n[--e]=0,new r(n)}(t,this.n.bitLength()+7>>3);if(null==e)return null;var n=this.doPublic(e);if(null==n)return null;var i=n.toString(16);return 0==(1&i.length)?i:"0"+i},_.prototype.encryptOAEP=function(t,e){var n=function(t,e,n){if(t.length+2*T+2>e)throw"Message too long for RSA";var i,o="";for(i=0;i<e-t.length-2*T-2;i+=1)o+="\0";var s=rstr_sha1("")+o+""+t,a=new Array(T);(new SecureRandom).nextBytes(a);var c=I(a,s.length,n||rstr_sha1),u=[];for(i=0;i<s.length;i+=1)u[i]=s.charCodeAt(i)^c.charCodeAt(i);var l=I(u,a.length,rstr_sha1),h=[0];for(i=0;i<a.length;i+=1)h[i+1]=a[i]^l.charCodeAt(i);return new r(h.concat(u))}(t,this.n.bitLength()+7>>3,e);if(null==n)return null;var i=this.doPublic(n);if(null==i)return null;var o=i.toString(16);return 0==(1&o.length)?o:"0"+o},_.prototype.type="RSA",T=20,_.prototype.doPrivate=function(t){if(null==this.p||null==this.q)return t.modPow(this.d,this.n);for(var e=t.mod(this.p).modPow(this.dmp1,this.p),n=t.mod(this.q).modPow(this.dmq1,this.q);e.compareTo(n)<0;)e=e.add(this.p);return e.subtract(n).multiply(this.coeff).mod(this.p).multiply(this.q).add(n)},_.prototype.setPrivate=function(t,e,n){this.isPrivate=!0,"string"!=typeof t?(this.n=t,this.e=e,this.d=n):null!=t&&null!=e&&t.length>0&&e.length>0?(this.n=C(t,16),this.e=parseInt(e,16),this.d=C(n,16)):alert("Invalid RSA private key")},_.prototype.setPrivateEx=function(t,e,n,r,i,o,s,a){if(this.isPrivate=!0,null==t)throw"RSASetPrivateEx N == null";if(null==e)throw"RSASetPrivateEx E == null";if(0==t.length)throw"RSASetPrivateEx N.length == 0";if(0==e.length)throw"RSASetPrivateEx E.length == 0";null!=t&&null!=e&&t.length>0&&e.length>0?(this.n=C(t,16),this.e=parseInt(e,16),this.d=C(n,16),this.p=C(r,16),this.q=C(i,16),this.dmp1=C(o,16),this.dmq1=C(s,16),this.coeff=C(a,16)):alert("Invalid RSA private key in RSASetPrivateEx")},_.prototype.generate=function(t,e){var n=new SecureRandom,i=t>>1;this.e=parseInt(e,16);for(var o=new r(e,16);;){for(;this.p=new r(t-i,1,n),0!=this.p.subtract(r.ONE).gcd(o).compareTo(r.ONE)||!this.p.isProbablePrime(10););for(;this.q=new r(i,1,n),0!=this.q.subtract(r.ONE).gcd(o).compareTo(r.ONE)||!this.q.isProbablePrime(10););if(this.p.compareTo(this.q)<=0){var s=this.p;this.p=this.q,this.q=s}var a=this.p.subtract(r.ONE),c=this.q.subtract(r.ONE),u=a.multiply(c);if(0==u.gcd(o).compareTo(r.ONE)){this.n=this.p.multiply(this.q),this.d=o.modInverse(u),this.dmp1=this.d.mod(a),this.dmq1=this.d.mod(c),this.coeff=this.q.modInverse(this.p);break}}},_.prototype.decrypt=function(t){var e=C(t,16),n=this.doPrivate(e);return null==n?null:function(t,e){for(var n=t.toByteArray(),r=0;r<n.length&&0==n[r];)++r;if(n.length-r!=e-1||2!=n[r])return null;for(++r;0!=n[r];)if(++r>=n.length)return null;for(var i="";++r<n.length;){var o=255&n[r];o<128?i+=String.fromCharCode(o):o>191&&o<224?(i+=String.fromCharCode((31&o)<<6|63&n[r+1]),++r):(i+=String.fromCharCode((15&o)<<12|(63&n[r+1])<<6|63&n[r+2]),r+=2)}return i}(n,this.n.bitLength()+7>>3)},_.prototype.decryptOAEP=function(t,e){var n=C(t,16),r=this.doPrivate(n);return null==r?null:function(t,e,n){for(t=t.toByteArray(),r=0;r<t.length;r+=1)t[r]&=255;for(;t.length<e;)t.unshift(0);if((t=String.fromCharCode.apply(String,t)).length<2*T+2)throw"Cipher too short";var r,i=t.substr(1,T),o=t.substr(T+1),s=k(o,T,n||rstr_sha1),a=[];for(r=0;r<i.length;r+=1)a[r]=i.charCodeAt(r)^s.charCodeAt(r);var c=k(String.fromCharCode.apply(String,a),t.length-T,rstr_sha1),u=[];for(r=0;r<o.length;r+=1)u[r]=o.charCodeAt(r)^c.charCodeAt(r);if((u=String.fromCharCode.apply(String,u)).substr(0,T)!==rstr_sha1(""))throw"Hash mismatch";var l=(u=u.substr(T)).indexOf("");if((-1!=l?u.substr(0,l).lastIndexOf("\0"):-1)+1!=l)throw"Malformed data";return u.substr(l+1)}(r,this.n.bitLength()+7>>3,e)};function R(t){var e,n,r,i="",o=0;for(e=0;e<t.length&&"="!=t.charAt(e);++e)(r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(t.charAt(e)))<0||(0==o?(i+=u(r>>2),n=3&r,o=1):1==o?(i+=u(n<<2|r>>4),n=15&r,o=2):2==o?(i+=u(n),i+=u(r>>2),n=3&r,o=3):(i+=u(n<<2|r>>4),i+=u(15&r),o=0));return 1==o&&(i+=u(n<<2)),i}function L(t){var e=function(t){var e=new Array,n=G.getStartPosOfV_AtObj(t,0),r=G.getPosOfNextSibling_AtObj(t,n),i=G.getPosOfNextSibling_AtObj(t,r),o=G.getPosOfNextSibling_AtObj(t,i),s=G.getPosOfNextSibling_AtObj(t,o),a=G.getPosOfNextSibling_AtObj(t,s),c=G.getPosOfNextSibling_AtObj(t,a),u=G.getPosOfNextSibling_AtObj(t,c),l=G.getPosOfNextSibling_AtObj(t,u);return e.push(n,r,i,o,s,a,c,u,l),e}(t),n=G.getHexOfV_AtObj(t,e[0]),r=G.getHexOfV_AtObj(t,e[1]),i=G.getHexOfV_AtObj(t,e[2]),o=G.getHexOfV_AtObj(t,e[3]),s=G.getHexOfV_AtObj(t,e[4]),a=G.getHexOfV_AtObj(t,e[5]),c=G.getHexOfV_AtObj(t,e[6]),u=G.getHexOfV_AtObj(t,e[7]),l=G.getHexOfV_AtObj(t,e[8]),h=new Array;return h.push(n,r,i,o,s,a,c,u,l),h}_.prototype.readPrivateKeyFromPEMString=function(t){var e=L(R(function(t){return t.replace("-----BEGIN RSA PRIVATE KEY-----","").replace("-----END RSA PRIVATE KEY-----","").replace(/[ \n]+/g,"")}(t)));this.setPrivateEx(e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8])},_.prototype.readPrivateKeyFromASN1HexString=function(t){var e=L(t);this.setPrivateEx(e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8])};var P=new RegExp("");function O(t,e){for(var n="",r=e/4-t.length,i=0;i<r;i++)n+="0";return n+t}function N(t,n){var r,i=(r=t,e.crypto.Util.hashString(r,n));return this.signWithMessageHash(i,n)}function M(t){return N.call(this,t,"sha1")}function B(t){return N.call(this,t,"sha256")}function U(t,e,n){for(var r="",i=0;r.length<e;)r+=hextorstr(n(rstrtohex(t+String.fromCharCode.apply(String,[(4278190080&i)>>24,(16711680&i)>>16,(65280&i)>>8,255&i])))),i+=1;return r}function F(t,n,r){var i,o=(i=rstrtohex(t),e.crypto.Util.hashHex(i,n));return void 0===r&&(r=-1),this.signWithMessageHashPSS(o,n,r)}function q(t){for(var n in e.crypto.Util.DIGESTINFOHEAD){var r=e.crypto.Util.DIGESTINFOHEAD[n],i=r.length;if(t.substring(0,i)==r)return[n,t.substring(i)]}return[]}function H(t,n){var r=function(t,n,r,i){var o=q(function(t,e,n){var r=function(t,e,n){var r=new _;return r.setPublic(e,n),r.doPublic(t)}(t,e,n);return r.toString(16).replace(/^1f+00/,"")}(n,r,i));if(0==o.length)return!1;var s,a=o[0];return o[1]==(s=t,e.crypto.Util.hashString(s,a))}(n,C(t,16),this.n.toString(16),this.e.toString(16));return r}function j(t,n){var r=C(n=(n=n.replace(P,"")).replace(/[ \n]+/g,""),16);if(r.bitLength()>this.n.bitLength())return 0;var i=q(this.doPublic(r).toString(16).replace(/^1f+00/,""));if(0==i.length)return!1;var o,s=i[0];return i[1]==(o=t,e.crypto.Util.hashString(o,s))}function V(t,n,r,i){var o,s=(o=rstrtohex(t),e.crypto.Util.hashHex(o,r));return void 0===i&&(i=-1),this.verifyWithMessageHashPSS(s,n,r,i)}P.compile("[^0-9a-f]","gi"),_.prototype.signWithMessageHash=function(t,n){var r=C(e.crypto.Util.getPaddedDigestInfoHex(t,n,this.n.bitLength()),16);return O(this.doPrivate(r).toString(16),this.n.bitLength())},_.prototype.signString=N,_.prototype.signStringWithSHA1=M,_.prototype.signStringWithSHA256=B,_.prototype.sign=N,_.prototype.signWithSHA1=M,_.prototype.signWithSHA256=B,_.prototype.signWithMessageHashPSS=function(t,n,i){var o,s=hextorstr(t),a=s.length,c=this.n.bitLength()-1,u=Math.ceil(c/8),l=function(t){return e.crypto.Util.hashHex(t,n)};if(-1===i||void 0===i)i=a;else if(-2===i)i=u-a-2;else if(i<-2)throw"invalid salt length";if(u<a+i+2)throw"data too long";var h="";i>0&&(h=new Array(i),(new SecureRandom).nextBytes(h),h=String.fromCharCode.apply(String,h));var d=hextorstr(l(rstrtohex("\0\0\0\0\0\0\0\0"+s+h))),f=[];for(o=0;o<u-i-a-2;o+=1)f[o]=0;var p=String.fromCharCode.apply(String,f)+""+h,g=U(d,p.length,l),v=[];for(o=0;o<p.length;o+=1)v[o]=p.charCodeAt(o)^g.charCodeAt(o);var m=65280>>8*u-c&255;for(v[0]&=~m,o=0;o<a;o++)v.push(d.charCodeAt(o));return v.push(188),O(this.doPrivate(new r(v)).toString(16),this.n.bitLength())},_.prototype.signStringPSS=F,_.prototype.signPSS=F,_.SALT_LEN_HLEN=-1,_.SALT_LEN_MAX=-2,_.prototype.verifyWithMessageHash=function(t,e){var n=C(e=(e=e.replace(P,"")).replace(/[ \n]+/g,""),16);if(n.bitLength()>this.n.bitLength())return 0;var r=q(this.doPublic(n).toString(16).replace(/^1f+00/,""));return 0!=r.length&&(r[0],r[1]==t)},_.prototype.verifyString=j,_.prototype.verifyHexSignatureForMessage=H,_.prototype.verify=j,_.prototype.verifyHexSignatureForByteArrayMessage=H,_.prototype.verifyWithMessageHashPSS=function(t,n,i,o){var s=new r(n,16);if(s.bitLength()>this.n.bitLength())return!1;var a,c=function(t){return e.crypto.Util.hashHex(t,i)},u=hextorstr(t),l=u.length,h=this.n.bitLength()-1,d=Math.ceil(h/8);if(-1===o||void 0===o)o=l;else if(-2===o)o=d-l-2;else if(o<-2)throw"invalid salt length";if(d<l+o+2)throw"data too long";var f=this.doPublic(s).toByteArray();for(a=0;a<f.length;a+=1)f[a]&=255;for(;f.length<d;)f.unshift(0);if(188!==f[d-1])throw"encoded message does not end in 0xbc";var p=(f=String.fromCharCode.apply(String,f)).substr(0,d-l-1),g=f.substr(p.length,l),v=65280>>8*d-h&255;if(0!=(p.charCodeAt(0)&v))throw"bits beyond keysize not zero";var m=U(g,p.length,c),y=[];for(a=0;a<p.length;a+=1)y[a]=p.charCodeAt(a)^m.charCodeAt(a);y[0]&=~v;var w=d-l-o-2;for(a=0;a<w;a+=1)if(0!==y[a])throw"leftmost octets not zero";if(1!==y[w])throw"0x01 marker not found";return g===hextorstr(c(rstrtohex("\0\0\0\0\0\0\0\0"+u+String.fromCharCode.apply(String,y.slice(-o)))))},_.prototype.verifyStringPSS=V,_.prototype.verifyPSS=V,_.SALT_LEN_RECOVER=-2;var G=new function(){this.getByteLengthOfL_AtObj=function(t,e){if("8"!=t.substring(e+2,e+3))return 1;var n=parseInt(t.substring(e+3,e+4));return 0==n?-1:0<n&&n<10?n+1:-2},this.getHexOfL_AtObj=function(t,e){var n=this.getByteLengthOfL_AtObj(t,e);return n<1?"":t.substring(e+2,e+2+2*n)},this.getIntOfL_AtObj=function(t,e){var n=this.getHexOfL_AtObj(t,e);return""==n?-1:(parseInt(n.substring(0,1))<8?new r(n,16):new r(n.substring(2),16)).intValue()},this.getStartPosOfV_AtObj=function(t,e){var n=this.getByteLengthOfL_AtObj(t,e);return n<0?n:e+2*(n+1)},this.getHexOfV_AtObj=function(t,e){var n=this.getStartPosOfV_AtObj(t,e),r=this.getIntOfL_AtObj(t,e);return t.substring(n,n+2*r)},this.getHexOfTLV_AtObj=function(t,e){return t.substr(e,2)+this.getHexOfL_AtObj(t,e)+this.getHexOfV_AtObj(t,e)},this.getPosOfNextSibling_AtObj=function(t,e){return this.getStartPosOfV_AtObj(t,e)+2*this.getIntOfL_AtObj(t,e)},this.getPosArrayOfChildren_AtObj=function(t,e){var n=new Array,r=this.getStartPosOfV_AtObj(t,e);n.push(r);for(var i=this.getIntOfL_AtObj(t,e),o=r,s=0;;){var a=this.getPosOfNextSibling_AtObj(t,o);if(null==a||a-r>=2*i)break;if(s>=200)break;n.push(a),o=a,s++}return n},this.getNthChildIndex_AtObj=function(t,e,n){return this.getPosArrayOfChildren_AtObj(t,e)[n]},this.getDecendantIndexByNthList=function(t,e,n){if(0==n.length)return e;var r=n.shift(),i=this.getPosArrayOfChildren_AtObj(t,e);return this.getDecendantIndexByNthList(t,i[r],n)},this.getDecendantHexTLVByNthList=function(t,e,n){var r=this.getDecendantIndexByNthList(t,e,n);return this.getHexOfTLV_AtObj(t,r)},this.getDecendantHexVByNthList=function(t,e,n){var r=this.getDecendantIndexByNthList(t,e,n);return this.getHexOfV_AtObj(t,r)}};function W(){this.subjectPublicKeyRSA=null,this.subjectPublicKeyRSA_hN=null,this.subjectPublicKeyRSA_hE=null,this.hex=null,this.getSerialNumberHex=function(){return G.getDecendantHexVByNthList(this.hex,0,[0,1])},this.getIssuerHex=function(){return G.getDecendantHexTLVByNthList(this.hex,0,[0,3])},this.getIssuerString=function(){return W.hex2dn(G.getDecendantHexTLVByNthList(this.hex,0,[0,3]))},this.getSubjectHex=function(){return G.getDecendantHexTLVByNthList(this.hex,0,[0,5])},this.getSubjectString=function(){return W.hex2dn(G.getDecendantHexTLVByNthList(this.hex,0,[0,5]))},this.getNotBefore=function(){var t=G.getDecendantHexVByNthList(this.hex,0,[0,4,0]);return t=t.replace(/(..)/g,"%$1"),decodeURIComponent(t)},this.getNotAfter=function(){var t=G.getDecendantHexVByNthList(this.hex,0,[0,4,1]);return t=t.replace(/(..)/g,"%$1"),decodeURIComponent(t)},this.readCertPEM=function(t){var e=W.pemToHex(t),n=W.getPublicKeyHexArrayFromCertHex(e),r=new _;r.setPublic(n[0],n[1]),this.subjectPublicKeyRSA=r,this.subjectPublicKeyRSA_hN=n[0],this.subjectPublicKeyRSA_hE=n[1],this.hex=e},this.readCertPEMWithoutRSAInit=function(t){var e=W.pemToHex(t),n=W.getPublicKeyHexArrayFromCertHex(e);this.subjectPublicKeyRSA.setPublic(n[0],n[1]),this.subjectPublicKeyRSA_hN=n[0],this.subjectPublicKeyRSA_hE=n[1],this.hex=e}}G.getVbyList=function(t,e,n,r){var i=this.getDecendantIndexByNthList(t,e,n);if(void 0===i)throw"can't find nthList object";if(void 0!==r&&t.substr(i,2)!=r)throw"checking tag doesn't match: "+t.substr(i,2)+"!="+r;return this.getHexOfV_AtObj(t,i)},G.hextooidstr=function(t){var e=function(t,e){return t.length>=e?t:new Array(e-t.length+1).join("0")+t},n=[],r=t.substr(0,2),i=parseInt(r,16);n[0]=new String(Math.floor(i/40)),n[1]=new String(i%40);for(var o=t.substr(2),s=[],a=0;a<o.length/2;a++)s.push(parseInt(o.substr(2*a,2),16));var c=[],u="";for(a=0;a<s.length;a++)128&s[a]?u+=e((127&s[a]).toString(2),7):(u+=e((127&s[a]).toString(2),7),c.push(new String(parseInt(u,2))),u="");var l=n.join(".");return c.length>0&&(l=l+"."+c.join(".")),l},W.pemToBase64=function(t){var e=t;return(e=(e=e.replace("-----BEGIN CERTIFICATE-----","")).replace("-----END CERTIFICATE-----","")).replace(/[ \n]+/g,"")},W.pemToHex=function(t){return R(W.pemToBase64(t))},W.getSubjectPublicKeyPosFromCertHex=function(t){var e=W.getSubjectPublicKeyInfoPosFromCertHex(t);if(-1==e)return-1;var n=G.getPosArrayOfChildren_AtObj(t,e);if(2!=n.length)return-1;var r=n[1];if("03"!=t.substring(r,r+2))return-1;var i=G.getStartPosOfV_AtObj(t,r);return"00"!=t.substring(i,i+2)?-1:i+2},W.getSubjectPublicKeyInfoPosFromCertHex=function(t){var e=G.getStartPosOfV_AtObj(t,0),n=G.getPosArrayOfChildren_AtObj(t,e);return n.length<1?-1:"a003020102"==t.substring(n[0],n[0]+10)?n.length<6?-1:n[6]:n.length<5?-1:n[5]},W.getPublicKeyHexArrayFromCertHex=function(t){var e=W.getSubjectPublicKeyPosFromCertHex(t),n=G.getPosArrayOfChildren_AtObj(t,e);if(2!=n.length)return[];var r=G.getHexOfV_AtObj(t,n[0]),i=G.getHexOfV_AtObj(t,n[1]);return null!=r&&null!=i?[r,i]:[]},W.getHexTbsCertificateFromCert=function(t){return G.getStartPosOfV_AtObj(t,0)},W.getPublicKeyHexArrayFromCertPEM=function(t){var e=W.pemToHex(t);return W.getPublicKeyHexArrayFromCertHex(e)},W.hex2dn=function(t){for(var e="",n=G.getPosArrayOfChildren_AtObj(t,0),r=0;r<n.length;r++){var i=G.getHexOfTLV_AtObj(t,n[r]);e=e+"/"+W.hex2rdn(i)}return e},W.hex2rdn=function(t){var e=G.getDecendantHexTLVByNthList(t,0,[0,0]),n=G.getDecendantHexVByNthList(t,0,[0,1]),r="";try{r=W.DN_ATTRHEX[e]}catch(t){r=e}return n=n.replace(/(..)/g,"%$1"),r+"="+decodeURIComponent(n)},W.DN_ATTRHEX={"0603550406":"C","060355040a":"O","060355040b":"OU","0603550403":"CN","0603550405":"SN","0603550408":"ST","0603550407":"L"},W.getPublicKeyFromCertPEM=function(t){var n=W.getPublicKeyInfoPropOfCertPEM(t);if("2a864886f70d010101"==n.algoid){var i=KEYUTIL.parsePublicRawRSAKeyHex(n.keyhex);return(s=new _).setPublic(i.n,i.e),s}if("2a8648ce3d0201"==n.algoid){var o=e.crypto.OID.oidhex2name[n.algparam];return(s=new e.crypto.ECDSA({curve:o,info:n.keyhex})).setPublicKeyHex(n.keyhex),s}if("2a8648ce380401"==n.algoid){var s,a=G.getVbyList(n.algparam,0,[0],"02"),c=G.getVbyList(n.algparam,0,[1],"02"),u=G.getVbyList(n.algparam,0,[2],"02"),l=G.getHexOfV_AtObj(n.keyhex,0);return l=l.substr(2),(s=new e.crypto.DSA).setPublic(new r(a,16),new r(c,16),new r(u,16),new r(l,16)),s}throw"unsupported key"},W.getPublicKeyInfoPropOfCertPEM=function(t){var e={algparam:null},n=W.pemToHex(t),r=G.getPosArrayOfChildren_AtObj(n,0);if(3!=r.length)throw"malformed X.509 certificate PEM (code:001)";if("30"!=n.substr(r[0],2))throw"malformed X.509 certificate PEM (code:002)";var i=G.getPosArrayOfChildren_AtObj(n,r[0]);if(i.length<7)throw"malformed X.509 certificate PEM (code:003)";var o=G.getPosArrayOfChildren_AtObj(n,i[6]);if(2!=o.length)throw"malformed X.509 certificate PEM (code:004)";var s=G.getPosArrayOfChildren_AtObj(n,o[0]);if(2!=s.length)throw"malformed X.509 certificate PEM (code:005)";if(e.algoid=G.getHexOfV_AtObj(n,s[0]),"06"==n.substr(s[1],2)?e.algparam=G.getHexOfV_AtObj(n,s[1]):"30"==n.substr(s[1],2)&&(e.algparam=G.getHexOfTLV_AtObj(n,s[1])),"03"!=n.substr(o[1],2))throw"malformed X.509 certificate PEM (code:006)";var a=G.getHexOfV_AtObj(n,o[1]);return e.keyhex=a.substr(2),e},void 0!==e&&e||(e={}),void 0!==e.crypto&&e.crypto||(e.crypto={}),e.crypto.Util=new function(){this.DIGESTINFOHEAD={sha1:"3021300906052b0e03021a05000414",sha224:"302d300d06096086480165030402040500041c",sha256:"3031300d060960864801650304020105000420",sha384:"3041300d060960864801650304020205000430",sha512:"3051300d060960864801650304020305000440",md2:"3020300c06082a864886f70d020205000410",md5:"3020300c06082a864886f70d020505000410",ripemd160:"3021300906052b2403020105000414"},this.DEFAULTPROVIDER={md5:"cryptojs",sha1:"cryptojs",sha224:"cryptojs",sha256:"cryptojs",sha384:"cryptojs",sha512:"cryptojs",ripemd160:"cryptojs",hmacmd5:"cryptojs",hmacsha1:"cryptojs",hmacsha224:"cryptojs",hmacsha256:"cryptojs",hmacsha384:"cryptojs",hmacsha512:"cryptojs",hmacripemd160:"cryptojs",MD5withRSA:"cryptojs/jsrsa",SHA1withRSA:"cryptojs/jsrsa",SHA224withRSA:"cryptojs/jsrsa",SHA256withRSA:"cryptojs/jsrsa",SHA384withRSA:"cryptojs/jsrsa",SHA512withRSA:"cryptojs/jsrsa",RIPEMD160withRSA:"cryptojs/jsrsa",MD5withECDSA:"cryptojs/jsrsa",SHA1withECDSA:"cryptojs/jsrsa",SHA224withECDSA:"cryptojs/jsrsa",SHA256withECDSA:"cryptojs/jsrsa",SHA384withECDSA:"cryptojs/jsrsa",SHA512withECDSA:"cryptojs/jsrsa",RIPEMD160withECDSA:"cryptojs/jsrsa",SHA1withDSA:"cryptojs/jsrsa",SHA224withDSA:"cryptojs/jsrsa",SHA256withDSA:"cryptojs/jsrsa",MD5withRSAandMGF1:"cryptojs/jsrsa",SHA1withRSAandMGF1:"cryptojs/jsrsa",SHA224withRSAandMGF1:"cryptojs/jsrsa",SHA256withRSAandMGF1:"cryptojs/jsrsa",SHA384withRSAandMGF1:"cryptojs/jsrsa",SHA512withRSAandMGF1:"cryptojs/jsrsa",RIPEMD160withRSAandMGF1:"cryptojs/jsrsa"},this.CRYPTOJSMESSAGEDIGESTNAME={md5:"CryptoJS.algo.MD5",sha1:"CryptoJS.algo.SHA1",sha224:"CryptoJS.algo.SHA224",sha256:"CryptoJS.algo.SHA256",sha384:"CryptoJS.algo.SHA384",sha512:"CryptoJS.algo.SHA512",ripemd160:"CryptoJS.algo.RIPEMD160"},this.getDigestInfoHex=function(t,e){if(void 0===this.DIGESTINFOHEAD[e])throw"alg not supported in Util.DIGESTINFOHEAD: "+e;return this.DIGESTINFOHEAD[e]+t},this.getPaddedDigestInfoHex=function(t,e,n){var r=this.getDigestInfoHex(t,e),i=n/4;if(r.length+22>i)throw"key is too short for SigAlg: keylen="+n+","+e;for(var o="00"+r,s="",a=i-4-o.length,c=0;c<a;c+=2)s+="ff";return"0001"+s+o},this.hashString=function(t,n){return new e.crypto.MessageDigest({alg:n}).digestString(t)},this.hashHex=function(t,n){return new e.crypto.MessageDigest({alg:n}).digestHex(t)},this.sha1=function(t){return new e.crypto.MessageDigest({alg:"sha1",prov:"cryptojs"}).digestString(t)},this.sha256=function(t){return new e.crypto.MessageDigest({alg:"sha256",prov:"cryptojs"}).digestString(t)},this.sha256Hex=function(t){return new e.crypto.MessageDigest({alg:"sha256",prov:"cryptojs"}).digestHex(t)},this.sha512=function(t){return new e.crypto.MessageDigest({alg:"sha512",prov:"cryptojs"}).digestString(t)},this.sha512Hex=function(t){return new e.crypto.MessageDigest({alg:"sha512",prov:"cryptojs"}).digestHex(t)},this.md5=function(t){return new e.crypto.MessageDigest({alg:"md5",prov:"cryptojs"}).digestString(t)},this.ripemd160=function(t){return new e.crypto.MessageDigest({alg:"ripemd160",prov:"cryptojs"}).digestString(t)},this.getCryptoJSMDByName=function(t){}},e.crypto.MessageDigest=function(t){this.setAlgAndProvider=function(t,n){if(null!=t&&void 0===n&&(n=e.crypto.Util.DEFAULTPROVIDER[t]),-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(t)&&"cryptojs"==n){try{this.md=Y.algo.SHA256.create()}catch(e){throw"setAlgAndProvider hash alg set fail alg="+t+"/"+e}this.updateString=function(t){this.md.update(t)},this.updateHex=function(t){var e=Y.enc.Hex.parse(t);this.md.update(e)},this.digest=function(){return this.md.finalize().toString(Y.enc.Hex)},this.digestString=function(t){return this.updateString(t),this.digest()},this.digestHex=function(t){return this.updateHex(t),this.digest()}}if(-1!=":sha256:".indexOf(t)&&"sjcl"==n){try{this.md=new sjcl.hash.sha256}catch(e){throw"setAlgAndProvider hash alg set fail alg="+t+"/"+e}this.updateString=function(t){this.md.update(t)},this.updateHex=function(t){var e=sjcl.codec.hex.toBits(t);this.md.update(e)},this.digest=function(){var t=this.md.finalize();return sjcl.codec.hex.fromBits(t)},this.digestString=function(t){return this.updateString(t),this.digest()},this.digestHex=function(t){return this.updateHex(t),this.digest()}}},this.updateString=function(t){throw"updateString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.updateHex=function(t){throw"updateHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digest=function(){throw"digest() not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestString=function(t){throw"digestString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestHex=function(t){throw"digestHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},void 0!==t&&void 0!==t.alg&&(this.algName=t.alg,void 0===t.prov&&(this.provName=e.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName))},e.crypto.Mac=function(t){this.setAlgAndProvider=function(t,n){if(null==t&&(t="hmacsha1"),"hmac"!=(t=t.toLowerCase()).substr(0,4))throw"setAlgAndProvider unsupported HMAC alg: "+t;void 0===n&&(n=e.crypto.Util.DEFAULTPROVIDER[t]),this.algProv=t+"/"+n;var r=t.substr(4);if(-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(r)&&"cryptojs"==n){try{var i=Y.algo.SHA256;this.mac=Y.algo.HMAC.create(i,this.pass)}catch(t){throw"setAlgAndProvider hash alg set fail hashAlg="+r+"/"+t}this.updateString=function(t){this.mac.update(t)},this.updateHex=function(t){var e=Y.enc.Hex.parse(t);this.mac.update(e)},this.doFinal=function(){return this.mac.finalize().toString(Y.enc.Hex)},this.doFinalString=function(t){return this.updateString(t),this.doFinal()},this.doFinalHex=function(t){return this.updateHex(t),this.doFinal()}}},this.updateString=function(t){throw"updateString(str) not supported for this alg/prov: "+this.algProv},this.updateHex=function(t){throw"updateHex(hex) not supported for this alg/prov: "+this.algProv},this.doFinal=function(){throw"digest() not supported for this alg/prov: "+this.algProv},this.doFinalString=function(t){throw"digestString(str) not supported for this alg/prov: "+this.algProv},this.doFinalHex=function(t){throw"digestHex(hex) not supported for this alg/prov: "+this.algProv},void 0!==t&&(void 0!==t.pass&&(this.pass=t.pass),void 0!==t.alg&&(this.algName=t.alg,void 0===t.prov&&(this.provName=e.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName)))},e.crypto.Signature=function(t){var n=null;if(this._setAlgNames=function(){this.algName.match(/^(.+)with(.+)$/)&&(this.mdAlgName=RegExp.$1.toLowerCase(),this.pubkeyAlgName=RegExp.$2.toLowerCase())},this._zeroPaddingOfSignature=function(t,e){for(var n="",r=e/4-t.length,i=0;i<r;i++)n+="0";return n+t},this.setAlgAndProvider=function(t,n){if(this._setAlgNames(),"cryptojs/jsrsa"!=n)throw"provider not supported: "+n;if(-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(this.mdAlgName)){try{this.md=new e.crypto.MessageDigest({alg:this.mdAlgName})}catch(t){throw"setAlgAndProvider hash alg set fail alg="+this.mdAlgName+"/"+t}this.init=function(t,e){var n=null;try{n=void 0===e?KEYUTIL.getKey(t):KEYUTIL.getKey(t,e)}catch(t){throw"init failed:"+t}if(!0===n.isPrivate)this.prvKey=n,this.state="SIGN";else{if(!0!==n.isPublic)throw"init failed.:"+n;this.pubKey=n,this.state="VERIFY"}},this.initSign=function(t){"string"==typeof t.ecprvhex&&"string"==typeof t.eccurvename?(this.ecprvhex=t.ecprvhex,this.eccurvename=t.eccurvename):this.prvKey=t,this.state="SIGN"},this.initVerifyByPublicKey=function(t){"string"==typeof t.ecpubhex&&"string"==typeof t.eccurvename?(this.ecpubhex=t.ecpubhex,this.eccurvename=t.eccurvename):(t instanceof e.crypto.ECDSA||t instanceof _)&&(this.pubKey=t),this.state="VERIFY"},this.initVerifyByCertificatePEM=function(t){var e=new W;e.readCertPEM(t),this.pubKey=e.subjectPublicKeyRSA,this.state="VERIFY"},this.updateString=function(t){this.md.updateString(t)},this.updateHex=function(t){this.md.updateHex(t)},this.sign=function(){if(this.sHashHex=this.md.digest(),void 0!==this.ecprvhex&&void 0!==this.eccurvename){var t=new e.crypto.ECDSA({curve:this.eccurvename});this.hSign=t.signHex(this.sHashHex,this.ecprvhex)}else if("rsaandmgf1"==this.pubkeyAlgName)this.hSign=this.prvKey.signWithMessageHashPSS(this.sHashHex,this.mdAlgName,this.pssSaltLen);else if("rsa"==this.pubkeyAlgName)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex,this.mdAlgName);else if(this.prvKey instanceof e.crypto.ECDSA)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex);else{if(!(this.prvKey instanceof e.crypto.DSA))throw"Signature: unsupported public key alg: "+this.pubkeyAlgName;this.hSign=this.prvKey.signWithMessageHash(this.sHashHex)}return this.hSign},this.signString=function(t){this.updateString(t),this.sign()},this.signHex=function(t){this.updateHex(t),this.sign()},this.verify=function(t){if(this.sHashHex=this.md.digest(),void 0!==this.ecpubhex&&void 0!==this.eccurvename)return new e.crypto.ECDSA({curve:this.eccurvename}).verifyHex(this.sHashHex,t,this.ecpubhex);if("rsaandmgf1"==this.pubkeyAlgName)return this.pubKey.verifyWithMessageHashPSS(this.sHashHex,t,this.mdAlgName,this.pssSaltLen);if("rsa"==this.pubkeyAlgName)return this.pubKey.verifyWithMessageHash(this.sHashHex,t);if(this.pubKey instanceof e.crypto.ECDSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,t);if(this.pubKey instanceof e.crypto.DSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,t);throw"Signature: unsupported public key alg: "+this.pubkeyAlgName}}},this.init=function(t,e){throw"init(key, pass) not supported for this alg:prov="+this.algProvName},this.initVerifyByPublicKey=function(t){throw"initVerifyByPublicKey(rsaPubKeyy) not supported for this alg:prov="+this.algProvName},this.initVerifyByCertificatePEM=function(t){throw"initVerifyByCertificatePEM(certPEM) not supported for this alg:prov="+this.algProvName},this.initSign=function(t){throw"initSign(prvKey) not supported for this alg:prov="+this.algProvName},this.updateString=function(t){throw"updateString(str) not supported for this alg:prov="+this.algProvName},this.updateHex=function(t){throw"updateHex(hex) not supported for this alg:prov="+this.algProvName},this.sign=function(){throw"sign() not supported for this alg:prov="+this.algProvName},this.signString=function(t){throw"digestString(str) not supported for this alg:prov="+this.algProvName},this.signHex=function(t){throw"digestHex(hex) not supported for this alg:prov="+this.algProvName},this.verify=function(t){throw"verify(hSigVal) not supported for this alg:prov="+this.algProvName},this.initParams=t,void 0!==t&&(void 0!==t.alg&&(this.algName=t.alg,void 0===t.prov?this.provName=e.crypto.Util.DEFAULTPROVIDER[this.algName]:this.provName=t.prov,this.algProvName=this.algName+":"+this.provName,this.setAlgAndProvider(this.algName,this.provName),this._setAlgNames()),void 0!==t.psssaltlen&&(this.pssSaltLen=t.psssaltlen),void 0!==t.prvkeypem)){if(void 0!==t.prvkeypas)throw"both prvkeypem and prvkeypas parameters not supported";try{(n=new _).readPrivateKeyFromPEMString(t.prvkeypem),this.initSign(n)}catch(t){throw"fatal error to load pem private key: "+t}}},e.crypto.OID=new function(){this.oidhex2name={"2a864886f70d010101":"rsaEncryption","2a8648ce3d0201":"ecPublicKey","2a8648ce380401":"dsa","2a8648ce3d030107":"secp256r1","2b8104001f":"secp192k1","2b81040021":"secp224r1","2b8104000a":"secp256k1","2b81040023":"secp521r1","2b81040022":"secp384r1","2a8648ce380403":"SHA1withDSA","608648016503040301":"SHA224withDSA","608648016503040302":"SHA256withDSA"}};var z,K,$,J,Y=Y||function(t,e){var n={},r=n.lib={},i=function(){},o=r.Base={extend:function(t){i.prototype=this;var e=new i;return t&&e.mixIn(t),e.hasOwnProperty("init")||(e.init=function(){e.$super.init.apply(this,arguments)}),e.init.prototype=e,e.$super=this,e},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},s=r.WordArray=o.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=null!=e?e:4*t.length},toString:function(t){return(t||c).stringify(this)},concat:function(t){var e=this.words,n=t.words,r=this.sigBytes;if(t=t.sigBytes,this.clamp(),r%4)for(var i=0;i<t;i++)e[r+i>>>2]|=(n[i>>>2]>>>24-i%4*8&255)<<24-(r+i)%4*8;else if(65535<n.length)for(i=0;i<t;i+=4)e[r+i>>>2]=n[i>>>2];else e.push.apply(e,n);return this.sigBytes+=t,this},clamp:function(){var e=this.words,n=this.sigBytes;e[n>>>2]&=4294967295<<32-n%4*8,e.length=t.ceil(n/4)},clone:function(){var t=o.clone.call(this);return t.words=this.words.slice(0),t},random:function(e){for(var n=[],r=0;r<e;r+=4)n.push(4294967296*t.random()|0);return new s.init(n,e)}}),a=n.enc={},c=a.Hex={stringify:function(t){var e=t.words;t=t.sigBytes;for(var n=[],r=0;r<t;r++){var i=e[r>>>2]>>>24-r%4*8&255;n.push((i>>>4).toString(16)),n.push((15&i).toString(16))}return n.join("")},parse:function(t){for(var e=t.length,n=[],r=0;r<e;r+=2)n[r>>>3]|=parseInt(t.substr(r,2),16)<<24-r%8*4;return new s.init(n,e/2)}},u=a.Latin1={stringify:function(t){var e=t.words;t=t.sigBytes;for(var n=[],r=0;r<t;r++)n.push(String.fromCharCode(e[r>>>2]>>>24-r%4*8&255));return n.join("")},parse:function(t){for(var e=t.length,n=[],r=0;r<e;r++)n[r>>>2]|=(255&t.charCodeAt(r))<<24-r%4*8;return new s.init(n,e)}},l=a.Utf8={stringify:function(t){try{return decodeURIComponent(escape(u.stringify(t)))}catch(t){throw Error("Malformed UTF-8 data")}},parse:function(t){return u.parse(unescape(encodeURIComponent(t)))}},h=r.BufferedBlockAlgorithm=o.extend({reset:function(){this._data=new s.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=l.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(e){var n=this._data,r=n.words,i=n.sigBytes,o=this.blockSize,a=i/(4*o);if(e=(a=e?t.ceil(a):t.max((0|a)-this._minBufferSize,0))*o,i=t.min(4*e,i),e){for(var c=0;c<e;c+=o)this._doProcessBlock(r,c);c=r.splice(0,e),n.sigBytes-=i}return new s.init(c,i)},clone:function(){var t=o.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0});r.Hasher=h.extend({cfg:o.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){h.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(t){return function(e,n){return new t.init(n).finalize(e)}},_createHmacHelper:function(t){return function(e,n){return new d.HMAC.init(t,n).finalize(e)}}});var d=n.algo={};return n}(Math);!function(t){for(var e=Y,n=(i=e.lib).WordArray,r=i.Hasher,i=e.algo,o=[],s=[],a=function(t){return 4294967296*(t-(0|t))|0},c=2,u=0;64>u;){var l;t:{l=c;for(var h=t.sqrt(l),d=2;d<=h;d++)if(!(l%d)){l=!1;break t}l=!0}l&&(8>u&&(o[u]=a(t.pow(c,.5))),s[u]=a(t.pow(c,1/3)),u++),c++}var f=[];i=i.SHA256=r.extend({_doReset:function(){this._hash=new n.init(o.slice(0))},_doProcessBlock:function(t,e){for(var n=this._hash.words,r=n[0],i=n[1],o=n[2],a=n[3],c=n[4],u=n[5],l=n[6],h=n[7],d=0;64>d;d++){if(16>d)f[d]=0|t[e+d];else{var p=f[d-15],g=f[d-2];f[d]=((p<<25|p>>>7)^(p<<14|p>>>18)^p>>>3)+f[d-7]+((g<<15|g>>>17)^(g<<13|g>>>19)^g>>>10)+f[d-16]}p=h+((c<<26|c>>>6)^(c<<21|c>>>11)^(c<<7|c>>>25))+(c&u^~c&l)+s[d]+f[d],g=((r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22))+(r&i^r&o^i&o),h=l,l=u,u=c,c=a+p|0,a=o,o=i,i=r,r=p+g|0}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+o|0,n[3]=n[3]+a|0,n[4]=n[4]+c|0,n[5]=n[5]+u|0,n[6]=n[6]+l|0,n[7]=n[7]+h|0},_doFinalize:function(){var e=this._data,n=e.words,r=8*this._nDataBytes,i=8*e.sigBytes;return n[i>>>5]|=128<<24-i%32,n[14+(i+64>>>9<<4)]=t.floor(r/4294967296),n[15+(i+64>>>9<<4)]=r,e.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var t=r.clone.call(this);return t._hash=this._hash.clone(),t}}),e.SHA256=r._createHelper(i),e.HmacSHA256=r._createHmacHelper(i)}(Math),K=(z=Y).lib,$=K.Base,J=K.WordArray,(z=z.x64={}).Word=$.extend({init:function(t,e){this.high=t,this.low=e}}),z.WordArray=$.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=null!=e?e:8*t.length},toX32:function(){for(var t=this.words,e=t.length,n=[],r=0;r<e;r++){var i=t[r];n.push(i.high),n.push(i.low)}return J.create(n,this.sigBytes)},clone:function(){for(var t=$.clone.call(this),e=t.words=this.words.slice(0),n=e.length,r=0;r<n;r++)e[r]=e[r].clone();return t}});const Z=new W;return Z.readCertPEM(t),Z};class ln{constructor(t){this.x509=un(t)}verifyString(t,e){return this.x509.subjectPublicKeyRSA.verifyString(t,e)}}let hn;const dn=t=>{return e=void 0,n=void 0,i=function*(){if(!t.SettingsFileContent.ExtDataFiles[0].Signature)return!1;const e=JSON.stringify(t.DataFileContent),n=t.SettingsFileContent.ExtDataFiles[0].Signature,r=yield((t,e)=>{return n=void 0,r=void 0,o=function*(){if(!hn){const t=yield Ze.get();hn=new ln(t.extensionCertificate)}return hn.verifyString(t,e)},new((i=void 0)||(i=Promise))((function(t,e){function s(t){try{c(o.next(t))}catch(t){e(t)}}function a(t){try{c(o.throw(t))}catch(t){e(t)}}function c(e){var n;e.done?t(e.value):(n=e.value,n instanceof i?n:new i((function(t){t(n)}))).then(s,a)}c((o=o.apply(n,r||[])).next())}));var n,r,i,o})(e,n);return r},new((r=void 0)||(r=Promise))((function(t,o){function s(t){try{c(i.next(t))}catch(t){o(t)}}function a(t){try{c(i.throw(t))}catch(t){o(t)}}function c(e){var n;e.done?t(e.value):(n=e.value,n instanceof r?n:new r((function(t){t(n)}))).then(s,a)}c((i=i.apply(e,n||[])).next())}));var e,n,r,i};var fn=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))};class pn{constructor(t,e){this.settingsUrl=t,this.settingsFileContent=e}loadRawData(){return fn(this,void 0,void 0,(function*(){var t,e,n,r,i;this.rawData=yield(t=this.settingsFileContent,e=void 0,n=void 0,r=void 0,i=function*(){const e=t.ExtDataFiles[0].Url,n=yield _e(e);return{SettingsFileContent:t,DataFileContent:n}},new(r||(r=Promise))((function(t,o){function s(t){try{c(i.next(t))}catch(t){o(t)}}function a(t){try{c(i.throw(t))}catch(t){o(t)}}function c(e){var n;e.done?t(e.value):(n=e.value,n instanceof r?n:new r((function(t){t(n)}))).then(s,a)}c((i=i.apply(e,n||[])).next())})))}))}verifySignature(){return fn(this,void 0,void 0,(function*(){return dn(this.rawData)}))}adapt(){return fn(this,void 0,void 0,(function*(){return t=this.settingsFileContent,e=this.rawData.DataFileContent,n=this.settingsUrl,tn(void 0,void 0,void 0,(function*(){const r=(t=>{var e,n,r;const i=$e.exec(t),o={guid:"",customer:"",profile:""};if(null!=i){const t=i[1].split("/");o.guid=null!==(e=t[t.length-1])&&void 0!==e?e:"",o.profile=null!==(n=t[t.length-2])&&void 0!==n?n:"",o.customer=null!==(r=t[t.length-3])&&void 0!==r?r:""}return o})(n),i=(t=>t.WhiteList?Qt(15,t.Features)?[]:t.WhiteList.split(";").map((t=>({RegexString:t,Regex:new RegExp(t)}))):[])(t),o=t.Configuration;return{IsActive:!!t.IsActive,SettingsCacheSeconds:t.SettingsCacheTime,AlterCsp:je(t,e,i,o),AlterIdpSaml:Ve(t,e,i),Packages:an(e),SystemData:cn(e),Analytics:nn(t),UniqueDataId:JSON.stringify(t),Features:t.Features,ServiceWorkersSitesUrls:sn(t),Customer:t.Customer||r.customer,Profile:t.Profile||r.profile,Guid:t.Guid||r.guid,WalkmeServers:yield rn(t),WhiteList:i,Configuration:o,PopupCustomization:t.PopupCustomization}}));var t,e,n}))}}var gn=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))};const vn=[2e3,5e3,1e4,3e4,6e4],mn=(t,e)=>gn(void 0,void 0,void 0,(function*(){return yield(n=vn,Ie(void 0,void 0,void 0,(function*(){return r=r||(t=>!!t),new Promise((i=>{let o=0;const s=()=>Ie(void 0,void 0,void 0,(function*(){let a=!1;try{const n=yield yn(t,e);if(a=r(n),a)return void i(n)}catch(t){}const c=Math.min(o,n.length-1);o++,setTimeout(s,n[c])}));s()}))})));var n,r})),yn=(t,e)=>gn(void 0,void 0,void 0,(function*(){var n;const r=yield wn(t,e);if((null===(n=(yield Te.get()).checkExtDataSignature)||void 0===n||n)&&!r.isSignatureValid)throw"Signing error!";return r.extensionData})),wn=(t,e,n)=>gn(void 0,void 0,void 0,(function*(){var r;n=n||[];const i=yield _e(t,e);if(n.push(t),i.RedirectSettingsUrl&&!n.includes(t))return wn(i.RedirectSettingsUrl,e,n);const o=bn(t,i);yield o.loadRawData();let s=yield o.verifySignature();const a=yield o.adapt(),c=i.ExtraSettingsFiles||(null===(r=a.Configuration)||void 0===r?void 0:r.settingsFilesToMerge);if(c){const t=[...new Set(c)].filter((t=>!n.includes(t))).map((t=>wn(t,e,n))),r=yield Promise.all(t),i=r.map((t=>t.extensionData)),o=r.map((t=>t.isSignatureValid));u=a,i.forEach((t=>((t,e)=>{e.IsActive&&(t.AlterCsp=((t,e)=>e.IsActive?t.IsActive?(t.CustomUrls=Pe(t.CustomUrls,e.CustomUrls," "),t.EnableUnsafeEval=t.EnableUnsafeEval||e.EnableUnsafeEval,t.SplitCspHeaderByComma=t.SplitCspHeaderByComma||e.SplitCspHeaderByComma,t.Filters=Me(t.Filters,e.Filters),t.ImageDomains=Pe(t.ImageDomains,e.ImageDomains," "),t.WalkMeDomains=Pe(t.WalkMeDomains,e.WalkMeDomains," "),t):e:t)(t.AlterCsp,e.AlterCsp),t.AlterIdpSaml=((t,e)=>e.IsActive?t.IsActive?(t.Filters=Me(t.Filters,e.Filters),t):e:t)(t.AlterIdpSaml,e.AlterIdpSaml),((t,e)=>{var n;e.EnterpriseAccountGuid&&(Be(t,e.EnterpriseAccountGuid),null===(n=e.SecondaryEnterpriseAccountGuids)||void 0===n||n.forEach((e=>Be(t,e))))})(t.Analytics,e.Analytics),t.Configuration=((t,e)=>Oe(t,e))(t.Configuration,e.Configuration),((t,e)=>{e.length>0&&e.forEach((e=>{t.some((t=>t.Id==e.Id))||t.push(e)}))})(t.Features,e.Features),((t,e)=>{t.push(...e)})(t.Packages,e.Packages),t.PopupCustomization=((t,e)=>Oe(t,e))(t.PopupCustomization,e.PopupCustomization),((t,e)=>{Ne(t,e)})(t.ServiceWorkersSitesUrls,e.ServiceWorkersSitesUrls),t.SystemData=((t,e)=>Oe(t,e))(t.SystemData,e.SystemData),t.UniqueDataId=((t,e)=>{return n=t,(r=e)?n?`${n}|${r}`:r:n;var n,r})(t.UniqueDataId,e.UniqueDataId),t.WhiteList=((t,e)=>e&&e.length>0&&t&&t.length>0?(e.forEach((e=>{t.some((t=>t.RegexString==e.RegexString))||t.push(e)})),t):[])(t.WhiteList,e.WhiteList))})(u,t))),s=s&&o.every((t=>t))}var u,l,h,d,f,p;return l=a,h=void 0,d=void 0,p=function*(){const t=yield he();Object.assign(l,t)},new((f=void 0)||(f=Promise))((function(t,e){function n(t){try{i(p.next(t))}catch(t){e(t)}}function r(t){try{i(p.throw(t))}catch(t){e(t)}}function i(e){var i;e.done?t(e.value):(i=e.value,i instanceof f?i:new f((function(t){t(i)}))).then(n,r)}i((p=p.apply(h,d||[])).next())})),{extensionData:a,isSignatureValid:s}})),bn=(t,e)=>{if([0,1,2].includes(e.Version))return new pn(t,e);throw"unknown settings version: "+e.Version},xn=t=>new Promise(((e,n)=>{L(t,(t=>{const r=A();r?n("Runtime last error: "+r.message):e(t)}))})),Sn=()=>new Promise(((t,e)=>{P({active:!0,currentWindow:!0},(e=>{e&&0!==e.length?t(e[0]):P({active:!0,lastFocusedWindow:!0},(e=>{const n=e?e[0]:void 0;t(n)}))}))}));var En=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))};const An=(t,e)=>En(void 0,void 0,void 0,(function*(){try{const n=yield wn(t,W.noCacheByHeader);return!e||n.isSignatureValid}catch(t){return!1}}));const Dn=new class extends g{constructor(){super("getExtensionShouldLoadDetails")}handleImpl(){return t=this,e=void 0,r=function*(){const t={shouldLoad:!0};try{return(yield En(void 0,void 0,void 0,(function*(){const t=yield Sn();if(!t)throw{fetchDataError:pe.TabError};const e=Y.getHostPermissions().some((e=>{var n;const r=(t=>new RegExp(t.replace("*",".*")))(e);return"http://*/*"===e&&(null===(n=t.url)||void 0===n?void 0:n.startsWith("http"))||r.test(t.url)}));return e})))?Ce.getIsEditorAlive()&&(t.shouldLoad=!1,t.reason="Walkme Editor is open"):(t.shouldLoad=!1,t.reason="Walkme Is not permitted on this site"),{data:t}}catch(t){return t.fetchDataError?t:{fetchDataError:pe.TimeOut}}},new((n=void 0)||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}));var t,e,n,r}};const Cn=new class extends g{constructor(){super("checkIsEditorAlive")}handleImpl(){return t=this,e=void 0,r=function*(){return Ce.getIsEditorAlive()},new((n=void 0)||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}));var t,e,n,r}},In={16:"icons/walkme_icon_16.png",32:"icons/walkme_icon_32.png",48:"icons/walkme_icon_48.png",128:"icons/walkme_icon_128.png"},Tn=Y.setIcon;const _n=new class extends g{constructor(){super("changeActionPageIconColor")}handleImpl(t){return e=this,n=void 0,i=function*(){var e,n,r,i,o,s;e=In,n=t.tabId,r=void 0,i=void 0,s=function*(){if(n)return void Tn({path:e,tabId:n});const t=yield Sn();t&&t.id&&Tn({path:e,tabId:n})},new((o=void 0)||(o=Promise))((function(t,e){function n(t){try{c(s.next(t))}catch(t){e(t)}}function a(t){try{c(s.throw(t))}catch(t){e(t)}}function c(e){var r;e.done?t(e.value):(r=e.value,r instanceof o?r:new o((function(t){t(r)}))).then(n,a)}c((s=s.apply(r,i||[])).next())}))},new((r=void 0)||(r=Promise))((function(t,o){function s(t){try{c(i.next(t))}catch(t){o(t)}}function a(t){try{c(i.throw(t))}catch(t){o(t)}}function c(e){var n;e.done?t(e.value):(n=e.value,n instanceof r?n:new r((function(t){t(n)}))).then(s,a)}c((i=i.apply(e,n||[])).next())}));var e,n,r,i}},kn=new class{constructor(){this.value=btoa("WalkMe"+Math.random())}getValue(){return this.value}};const Rn=new class extends g{constructor(){super("getNonceValue")}handleImpl(){return t=this,e=void 0,r=function*(){return kn.getValue()},new((n=void 0)||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}));var t,e,n,r}};const Ln=new class extends v{constructor(){super(i)}handleImpl(t){return e=this,n=void 0,i=function*(){Bt(t)},new((r=void 0)||(r=Promise))((function(t,o){function s(t){try{c(i.next(t))}catch(t){o(t)}}function a(t){try{c(i.throw(t))}catch(t){o(t)}}function c(e){var n;e.done?t(e.value):(n=e.value,n instanceof r?n:new r((function(t){t(n)}))).then(s,a)}c((i=i.apply(e,n||[])).next())}));var e,n,r,i}},Pn=new m("currentLoggerConfigProvider");const On=new class extends g{constructor(){super("getLoggerConfiguration")}handleImpl(){return t=this,e=void 0,r=function*(){return Pn.get()},new((n=void 0)||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}));var t,e,n,r}};class Nn{constructor(t){this.subjectsToDeny=t}getFilterResult(t){return t.subject&&this.subjectsToDeny.indexOf(t.subject)>-1?s.Deny:s.Neutral}}const Mn=new m("currentExtensionPartProvider");class Bn{getFilterResult(t){return s.Deny}}class Un{constructor(t){this.minLogLevel=t}getFilterResult(t){return t.level<this.minLogLevel?s.Deny:s.Neutral}}class Fn extends Un{constructor(t){super(t),this.minLogLevel=t}getFilterResult(t){return"undefined"==typeof window||window==(null===window||void 0===window?void 0:window.top)?s.Neutral:super.getFilterResult(t)}}const qn=["Content","Page","ContentMediator"],Hn=t=>{const e=[];t.enabled||e.push(new Bn);const n=Mn.get();return qn.includes(n)&&e.push(new Fn(t.minIframeLogLevel)),e.push(new Un(t.minTopLogLevel)),e},jn={};jn[r]=c.Verbose,jn[i]=c.Verbose,jn.getLibItems=c.Verbose,jn[e]=c.Verbose,jn.response=c.Verbose;var Vn=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))};class Gn{constructor(t,e,n){var r,i,o;this.action=t,this.target=e,this.needsResponse=null===(r=null==n?void 0:n.needsResponse)||void 0===r||r,this.timeout=null!==(i=null==n?void 0:n.timeout)&&void 0!==i?i:3e3,this.autoRetry=null===(o=null==n?void 0:n.autoRetry)||void 0===o||o}createMessage(t){return{action:this.action,needsResponse:this.needsResponse,data:t}}send(t){var e;return Vn(this,void 0,void 0,(function*(){const n=null!==(e=jn[this.action])&&void 0!==e?e:c.Debug;f.trace(`messageSender send was called for action ${this.action}`,t,u);const r=this.createMessage(t);f.log(n,`messageSender - sending message (${this.action})`,r,u);let i=0;for(;;)try{const t=w(r,this.target),e=yield Jt(t,this.timeout);return f.log(n,`messageSender - got result for message (${r.action})`,e,u),e}catch(t){if(!this.autoRetry){if(this.needsResponse)throw t;return}if(i++,i>5)throw f.debug(`messageSender failed for message (${r.action}), max retries reached.`,t,u),t;yield $t(500),f.trace(`messageSender failed for message (${r.action}), retrying`,t,u)}throw"timeout"}))}}class Wn extends Gn{constructor(t,e,n){super(t,e,n)}send(t){const e=Object.create(null,{send:{get:()=>super.send}});return Vn(this,void 0,void 0,(function*(){return e.send.call(this,t)}))}}const zn=new Wn(r,x.ActiveTabTopContent,{autoRetry:!1,needsResponse:!1}),Kn=new m("logToConsoleProvider");var $n=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))};const Jn=(...t)=>$n(void 0,void 0,void 0,(function*(){console.log(...t)})),Yn=(...t)=>$n(void 0,void 0,void 0,(function*(){var e,n,r,i,o;yield(e=t,n=void 0,r=void 0,i=void 0,o=function*(){try{yield zn.send(e)}catch(t){}},new(i||(i=Promise))((function(t,e){function s(t){try{c(o.next(t))}catch(t){e(t)}}function a(t){try{c(o.throw(t))}catch(t){e(t)}}function c(e){var n;e.done?t(e.value):(n=e.value,n instanceof i?n:new i((function(t){t(n)}))).then(s,a)}c((o=o.apply(n,r||[])).next())})))}));class Zn{constructor(t,e){this.logFilters=t,this.rateLimitEnforcer=e,this.didNotifyRateExceed=!1}handleRateLimitBlock(t){var e;if(this.didNotifyRateExceed)return;this.didNotifyRateExceed=!0;const n=((t,e)=>({level:c.Warn,message:"Rate limit blocked",time:t.time,data:{blockedLogMessage:t,rateLimit:e}}))(t,null===(e=this.rateLimitEnforcer)||void 0===e?void 0:e.rateLimit);this.logImpl(n)}log(t){a(this.logFilters,t)&&(!this.rateLimitEnforcer||this.rateLimitEnforcer.isAllowed()?this.logImpl(t):this.handleRateLimitBlock(t))}}class Xn extends Zn{constructor(){super(...arguments),this.currentLogs=[]}logImpl(t){return e=this,n=void 0,i=function*(){const e=t.subject?t.subject+" - ":"",n=`[${c[t.level]}]`;if(!this.currentLogs.includes(t.message)){this.currentLogs.push(t.message);try{const r=Mn.get();yield((...t)=>$n(void 0,void 0,void 0,(function*(){const e=Kn.get();e&&(yield e(...t))})))(`${new Date(t.time).toISOString()} [${r}] - ${n} ${e}${t.message}`,t.data)}catch(t){}const r=this.currentLogs.indexOf(t.message);this.currentLogs.splice(r,1)}},new((r=void 0)||(r=Promise))((function(t,o){function s(t){try{c(i.next(t))}catch(t){o(t)}}function a(t){try{c(i.throw(t))}catch(t){o(t)}}function c(e){var n;e.done?t(e.value):(n=e.value,n instanceof r?n:new r((function(t){t(n)}))).then(s,a)}c((i=i.apply(e,n||[])).next())}));var e,n,r,i}}const Qn=new m("logToEventCollectorProvider");class tr extends Zn{logImpl(t){return e=this,n=void 0,i=function*(){const e=t;e.extensionPart=Mn.get();const n=Qn.get();n&&n(e)},new((r=void 0)||(r=Promise))((function(t,o){function s(t){try{c(i.next(t))}catch(t){o(t)}}function a(t){try{c(i.throw(t))}catch(t){o(t)}}function c(e){var n;e.done?t(e.value):(n=e.value,n instanceof r?n:new r((function(t){t(n)}))).then(s,a)}c((i=i.apply(e,n||[])).next())}));var e,n,r,i}}class er{constructor(t){this.rateLimit=t,this.timesHistory=[]}addToHistory(t){for(this.timesHistory.push(t);this.timesHistory.length>this.rateLimit.maxTimesInInterval;)this.timesHistory.splice(0,1)}isAllowed(){const t=Date.now(),e=((t,e,n,r,i)=>t>=r&&void 0!==e&&n-e<i)(this.timesHistory.length,this.timesHistory[0],t,this.rateLimit.maxTimesInInterval,this.rateLimit.intervalInMs);return!e&&(this.addToHistory(t),!0)}}const nr=t=>{if(t)return new er(t)},rr=t=>{Pn.set(t);const e=Hn(t.console),n=nr(t.console.rateLimit),r=new Xn(e,n),i=Hn(t.remote);i.push(new Nn([u]));const o=nr(t.remote.rateLimit),s=[r,new tr(i,o)];var a;a=[],h.length=0,a.map((t=>h.push(t))),(t=>{d.length=0,t.map((t=>d.push(t)))})(s)},ir=new m("overridedSettingsUrl");var or=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))};const sr=new class extends v{constructor(){super("overrideLocalConfig",["OptionsPage"])}handleImpl(t){return or(this,void 0,void 0,(function*(){yield this.handleOverrideLocalLogsConfig(t.isLocalLogsEnabled);const e=yield this.handleSettingsUrlOverride(t.settingsUrl),n=yield this.handleIsExtensionDisabledOverride(t.isDisabled);(e||n)&&D()}))}handleOverrideLocalLogsConfig(t){return or(this,void 0,void 0,(function*(){const e=Pn.get();var n;t!==e.console.enabled&&(yield(n=t,ae(void 0,void 0,void 0,(function*(){return at(ce,n,"local")}))),e.console.enabled=t,rr(e))}))}handleSettingsUrlOverride(t){return or(this,void 0,void 0,(function*(){return ir.get()!==t&&(""===t?yield this.handleRevertSettingsUrlOverride():yield this.handleNewSettingsUrlOverride(t),!0)}))}handleIsExtensionDisabledOverride(t){return or(this,void 0,void 0,(function*(){if((yield H.get()).IsActive!==t)return!1;const e=yield he();var n;return t?e.IsActive=!1:delete e.IsActive,yield(n=e,ae(void 0,void 0,void 0,(function*(){const t=JSON.stringify(n);return at(le,t,"local")}))),!0}))}handleRevertSettingsUrlOverride(){return or(this,void 0,void 0,(function*(){yield ae(void 0,void 0,void 0,(function*(){return ht(ue,"local")})),ir.set("")}))}handleNewSettingsUrlOverride(t){return or(this,void 0,void 0,(function*(){var e;yield(e=t,ae(void 0,void 0,void 0,(function*(){return at(ue,e,"local")}))),ir.set(t)}))}};const ar=new class extends g{constructor(){super("checkIfSettingsUrlExists")}handleImpl(){return t=this,e=void 0,r=function*(){return!!(yield Te.get()).settingsUrl},new((n=void 0)||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}));var t,e,n,r}};const cr=new class extends g{constructor(){super("getOverridedSettingsUrl")}handleImpl(){return t=this,e=void 0,r=function*(){return ir.get()},new((n=void 0)||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}));var t,e,n,r}};const ur=new class extends v{constructor(){super("canCustomSettingsFileBeFetched")}handleImpl(t){return e=this,n=void 0,i=function*(){return An(t,!1)},new((r=void 0)||(r=Promise))((function(t,o){function s(t){try{c(i.next(t))}catch(t){o(t)}}function a(t){try{c(i.throw(t))}catch(t){o(t)}}function c(e){var n;e.done?t(e.value):(n=e.value,n instanceof r?n:new r((function(t){t(n)}))).then(s,a)}c((i=i.apply(e,n||[])).next())}));var e,n,r,i}};const lr=new class extends g{constructor(){super("canCurrentSettingsFileBeFetched")}handleImpl(){var t,e,n,r,i;return e=this,n=void 0,i=function*(){const e=yield Te.get();return An(e.settingsUrl,null===(t=e.checkExtDataSignature)||void 0===t||t)},new((r=void 0)||(r=Promise))((function(t,o){function s(t){try{c(i.next(t))}catch(t){o(t)}}function a(t){try{c(i.throw(t))}catch(t){o(t)}}function c(e){var n;e.done?t(e.value):(n=e.value,n instanceof r?n:new r((function(t){t(n)}))).then(s,a)}c((i=i.apply(e,n||[])).next())}))}},hr={};hr.Page=x.OwnerContent,hr.Content=x.Background;const dr=(t,e)=>{const n=(t=>{if(void 0!==hr[t])return hr[t]})(Mn.get());var r;void 0!==n&&(r={eventName:t,eventData:e},new Wn(o,n,void 0).send(r))};var fr=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))};const pr=new class{constructor(){this.subscribersByEventName={}}on(t,e){return void 0===this.subscribersByEventName[t]&&(this.subscribersByEventName[t]=[]),this.subscribersByEventName[t].push(e),()=>{this.off(t,e)}}off(t,e){if(void 0===this.subscribersByEventName[t])return;const n=this.subscribersByEventName[t],r=n.indexOf(e);-1!=r&&(n.splice(r,1),0==n.length&&delete this.subscribersByEventName[t])}raiseEvent(t,e,n){return fr(this,void 0,void 0,(function*(){return this.handleBubbling(t,e),this.handleRaise(t,e,n)}))}handleBubbling(t,e){try{dr(t,e)}catch(t){}}handleRaise(t,e,n){return fr(this,void 0,void 0,(function*(){if(void 0===this.subscribersByEventName[t])return;const r=this.subscribersByEventName[t];for(let t=0;t<r.length;t++){const i=r[t];try{const t=i(e,n);t&&t.promiseToWait&&(yield t.promiseToWait)}catch(t){}}}))}},gr=pr,vr=pr;const mr=new class extends v{constructor(){super(o)}handleImpl(t,e){return n=this,r=void 0,o=function*(){const n={tabId:null==e?void 0:e.tabId};return vr.raiseEvent(t.eventName,t.eventData,n)},new((i=void 0)||(i=Promise))((function(t,e){function s(t){try{c(o.next(t))}catch(t){e(t)}}function a(t){try{c(o.throw(t))}catch(t){e(t)}}function c(e){var n;e.done?t(e.value):(n=e.value,n instanceof i?n:new i((function(t){t(n)}))).then(s,a)}c((o=o.apply(n,r||[])).next())}));var n,r,i,o}};const yr=new class extends v{constructor(){super("isFeatureEnabled")}handleImpl(t){return e=this,n=void 0,i=function*(){const e=(yield H.get()).Features;return Qt(t,e)},new((r=void 0)||(r=Promise))((function(t,o){function s(t){try{c(i.next(t))}catch(t){o(t)}}function a(t){try{c(i.throw(t))}catch(t){o(t)}}function c(e){var n;e.done?t(e.value):(n=e.value,n instanceof r?n:new r((function(t){t(n)}))).then(s,a)}c((i=i.apply(e,n||[])).next())}));var e,n,r,i}};const wr=new class extends g{constructor(){super("getPublishEnvOverride")}handleImpl(){return t=this,e=void 0,r=function*(){return Wt.get()},new((n=void 0)||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}));var t,e,n,r}};const br=new class extends v{constructor(){super("setPublishEnvOverride")}handleImpl(t){return e=this,n=void 0,i=function*(){return Wt.setOrClear(t)},new((r=void 0)||(r=Promise))((function(t,o){function s(t){try{c(i.next(t))}catch(t){o(t)}}function a(t){try{c(i.throw(t))}catch(t){o(t)}}function c(e){var n;e.done?t(e.value):(n=e.value,n instanceof r?n:new r((function(t){t(n)}))).then(s,a)}c((i=i.apply(e,n||[])).next())}));var e,n,r,i}};const xr=new class extends v{constructor(){super("getAvailablePublishEnvs")}handleImpl(t){return e=this,n=void 0,i=function*(){const e=yield H.get();if(!e.SystemData)return[];const n={},r=[];for(const i of Object.values(e.SystemData))if(i.Guid===t)for(const t of Object.values(i.PublishEnvironments))n[t.Id]||(n[t.Id]=!0,r.push({Id:t.Id,Name:t.Name,IsDev:t.IsDev}));return r},new((r=void 0)||(r=Promise))((function(t,o){function s(t){try{c(i.next(t))}catch(t){o(t)}}function a(t){try{c(i.throw(t))}catch(t){o(t)}}function c(e){var n;e.done?t(e.value):(n=e.value,n instanceof r?n:new r((function(t){t(n)}))).then(s,a)}c((i=i.apply(e,n||[])).next())}));var e,n,r,i}};const Sr=new class extends g{constructor(){super("getBuilderOptionsPassword")}handleImpl(){var t,e,n,r,i,o,s,a,c,u;return s=this,a=void 0,u=function*(){const s=H.getSync(),a=!!(null===(e=null===(t=s.data)||void 0===t?void 0:t.Configuration)||void 0===e?void 0:e.disableBuilderMode);return!s.wasSet||a?"disabled":(null===(r=null===(n=s.data)||void 0===n?void 0:n.Configuration)||void 0===r?void 0:r.customBuilderModePassword)?null===(o=null===(i=s.data)||void 0===i?void 0:i.Configuration)||void 0===o?void 0:o.customBuilderModePassword:"8271b0648cb56f60101ab19309b2dd8a61ab4764fff53500fed56791bce6e024"},new((c=void 0)||(c=Promise))((function(t,e){function n(t){try{i(u.next(t))}catch(t){e(t)}}function r(t){try{i(u.throw(t))}catch(t){e(t)}}function i(e){var i;e.done?t(e.value):(i=e.value,i instanceof c?i:new c((function(t){t(i)}))).then(n,r)}i((u=u.apply(s,a||[])).next())}))}},Er=new m("extensionSettingsUpdaterProvider");const Ar=new class extends g{constructor(){super("refreshExtensionSettings")}handleImpl(){return t=this,e=void 0,r=function*(){Er.get().checkForUpdate(W.noCacheByUrlCacheBust,!1)},new((n=void 0)||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}));var t,e,n,r}},Dr=["https://account.walkme.com","https://eu-account.walkme.com","https://account.walkmeqa.com","https://account2.walkmedev.com","https://account.walkmedev.com","http://localhost:51619"],Cr=(t,e)=>{return!e||0==e.length||(!(!(n=t)||!Dr.some((t=>n.startsWith(t))))||e.some((e=>e.Regex.test(t))));var n};const Ir=new class extends v{constructor(){super("checkIsUrlWhiteListed")}handleImpl(t){return e=this,n=void 0,i=function*(){const e=yield H.get();return Cr(t,e.WhiteList)},new((r=void 0)||(r=Promise))((function(t,o){function s(t){try{c(i.next(t))}catch(t){o(t)}}function a(t){try{c(i.throw(t))}catch(t){o(t)}}function c(e){var n;e.done?t(e.value):(n=e.value,n instanceof r?n:new r((function(t){t(n)}))).then(s,a)}c((i=i.apply(e,n||[])).next())}));var e,n,r,i}};const Tr=new class extends g{constructor(){super("checkShouldRestoreCommunicationOnUpdate")}handleImpl(){var t,e,n,r,i;return e=this,n=void 0,i=function*(){const e=yield H.get();return!!(null===(t=e.Configuration)||void 0===t?void 0:t.rebindCommunicationOnExtensionUpdate)},new((r=void 0)||(r=Promise))((function(t,o){function s(t){try{c(i.next(t))}catch(t){o(t)}}function a(t){try{c(i.throw(t))}catch(t){o(t)}}function c(e){var n;e.done?t(e.value):(n=e.value,n instanceof r?n:new r((function(t){t(n)}))).then(s,a)}c((i=i.apply(e,n||[])).next())}))}};const _r=[],kr=[jt,oe,Rn,Cn,Ir,_n,Dn,ar,de,lr,ur,fe,Ln,On,sr,cr,mr,yr,wr,br,xr,Sr,Ar,Tr,new class extends v{constructor(){super("iframeMessage")}handleImpl(t){return e=this,n=void 0,i=function*(){_r.forEach((e=>{try{e(t)}catch(t){}}))},new((r=void 0)||(r=Promise))((function(t,o){function s(t){try{c(i.next(t))}catch(t){o(t)}}function a(t){try{c(i.throw(t))}catch(t){o(t)}}function c(e){var n;e.done?t(e.value):(n=e.value,n instanceof r?n:new r((function(t){t(n)}))).then(s,a)}c((i=i.apply(e,n||[])).next())}));var e,n,r,i}}];kr.push(new class extends v{constructor(){super(e)}handleImpl(t){return e=this,n=void 0,i=function*(){const e=t.message;return w(e,t.destination)},new((r=void 0)||(r=Promise))((function(t,o){function s(t){try{c(i.next(t))}catch(t){o(t)}}function a(t){try{c(i.throw(t))}catch(t){o(t)}}function c(e){var n;e.done?t(e.value):(n=e.value,n instanceof r?n:new r((function(t){t(n)}))).then(s,a)}c((i=i.apply(e,n||[])).next())}));var e,n,r,i}});const Rr=t=>{return e=void 0,n=void 0,i=function*(){var e;new Ht(qt,t).start(),e=t,kr.map((t=>{try{e.addMessageHandler(t)}catch(t){}}))},new((r=void 0)||(r=Promise))((function(t,o){function s(t){try{c(i.next(t))}catch(t){o(t)}}function a(t){try{c(i.throw(t))}catch(t){o(t)}}function c(e){var n;e.done?t(e.value):(n=e.value,n instanceof r?n:new r((function(t){t(n)}))).then(s,a)}c((i=i.apply(e,n||[])).next())}));var e,n,r,i},Lr=t=>{H.set(t)};class Pr{constructor(t){this.intervalAction=t,this.intervalSeconds=0}startInterval(t,e=!1){this.intervalSeconds=t,this.stopInterval();const n=e?0:t;this.scheduleInterval(n)}stopInterval(){this.cancelCurrentTimout()}cancelCurrentTimout(){this.currentTimeout&&clearTimeout(this.currentTimeout),this.currentTimeout=void 0}scheduleInterval(t){this.currentTimeout=setTimeout((()=>{this.executeIntervalAction()}),1e3*t)}executeIntervalAction(){return t=this,e=void 0,r=function*(){this.cancelCurrentTimout();try{yield this.intervalAction()}catch(t){}this.scheduleInterval(this.intervalSeconds)},new((n=void 0)||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}));var t,e,n,r}}class Or{constructor(t,e,n,r){this.settingsUrl=t,this.currentDataUniqueId=e,this.raiseNewSettings=n,this.raiseNoNewSettings=r}checkForUpdate(t,e){return n=this,r=void 0,o=function*(){let n;n=e?yield mn(this.settingsUrl,t):yield yn(this.settingsUrl,t),n.UniqueDataId!=this.currentDataUniqueId?(this.currentDataUniqueId=n.UniqueDataId,this.raiseNewSettings(n)):this.raiseNoNewSettings()},new((i=void 0)||(i=Promise))((function(t,e){function s(t){try{c(o.next(t))}catch(t){e(t)}}function a(t){try{c(o.throw(t))}catch(t){e(t)}}function c(e){var n;e.done?t(e.value):(n=e.value,n instanceof i?n:new i((function(t){t(n)}))).then(s,a)}c((o=o.apply(n,r||[])).next())}));var n,r,i,o}}const Nr=S.windows.onFocusChanged,Mr=S.windows.getCurrent;class Br{constructor(t){this.event=t,this.listeners=[],this.initPromise=Promise.resolve()}startListening(t){this.initPromise=t,this.event.addListener(((...t)=>this.handleEventRaised(...t)))}register(t){this.listeners.push(t)}unregister(t){const e=this.listeners.indexOf(t);-1!==e&&this.listeners.splice(e,1)}handleEventRaised(...t){return e=this,n=void 0,i=function*(){const e=Date.now();yield this.initPromise,this.invokeListeners(e,...t)},new((r=void 0)||(r=Promise))((function(t,o){function s(t){try{c(i.next(t))}catch(t){o(t)}}function a(t){try{c(i.throw(t))}catch(t){o(t)}}function c(e){var n;e.done?t(e.value):(n=e.value,n instanceof r?n:new r((function(t){t(n)}))).then(s,a)}c((i=i.apply(e,n||[])).next())}));var e,n,r,i}invokeListeners(t,...e){try{const n=this.extractEventData(...e);this.listeners.forEach((e=>{try{e(n,t)}catch(t){}}))}catch(t){}}}const Ur={events:{tabs:{onActivated:new class extends Br{constructor(){super(k)}extractEventData(t){return{tabId:null==t?void 0:t.tabId,windowId:null==t?void 0:t.windowId}}},onRemoved:new class extends Br{constructor(){super(R)}extractEventData(t,e){return{tabId:t,windowId:e.windowId}}},onUpdated:new class extends Br{constructor(){super(_)}extractEventData(t,e,n){return{tabId:t,changeInfo:{status:null==e?void 0:e.status,url:null==e?void 0:e.url},tab:{height:null==n?void 0:n.height,id:null==n?void 0:n.id,title:null==n?void 0:n.title,url:null==n?void 0:n.url,width:null==n?void 0:n.width}}}}},windows:{onFocusChanged:new class extends Br{constructor(){super(Nr)}extractEventData(t){return{windowId:t}}}},runtime:{onInstalled:new class extends Br{constructor(){super(C)}extractEventData(t){return{reason:t.reason,id:t.id,previousVersion:t.previousVersion}}}}}};class Fr{constructor(t){this.event=t}unregister(t){this.isRegistered(t)&&this.event.removeListener(t)}isRegistered(t){return this.event.hasListener(t)}}const qr=S.webRequest.onHeadersReceived,Hr=S.webRequest.onBeforeRequest,jr=S.webRequest.onErrorOccurred;class Vr extends Fr{constructor(t){super(t)}register(t,e,n){this.event.addListener(t,e,n)}}const Gr=new Vr(qr),Wr=new Vr(Hr),zr=new class extends Fr{constructor(t){super(t)}register(t,e){this.event.addListener(t,e)}}(jr),Kr="'self'",$r="blob:",Jr="data:",Yr={"script-src":[],"script-src-elem":[],"default-src":[Jr]},Zr={"style-src":[],"style-src-elem":[],"frame-src":[],"child-src":[Kr,$r],"connect-src":[],"font-src":[Jr]},Xr={"img-src":[Jr]},Qr={"worker-src":[Kr,$r],"trusted-types":["walkme-extension","walkme-player"]},ti=new class{constructor(){this.walkmeCspDirectivesAndSources={}}buildCspDirectives(t){this.walkmeCspDirectivesAndSources={};const e=[],n=[],r=[];t.WalkMeDomains&&(e.push(t.WalkMeDomains),n.push(t.WalkMeDomains),r.push(t.WalkMeDomains)),t.CustomUrls&&(e.push(t.CustomUrls),n.push(t.CustomUrls),r.push(t.CustomUrls)),t.EnableUnsafeEval&&r.push("'unsafe-eval'"),t.ImageDomains&&n.push(t.ImageDomains),this.setDirectives(Zr,e),this.setDirectives(Xr,n),this.setDirectives(Yr,r),this.setDirectives(Qr,[])}setDirectives(t,e){for(const n in t){const r=t[n].slice();r.push(...e),this.walkmeCspDirectivesAndSources[n]=r}}setDomains(t){this.buildCspDirectives(t)}get(t){return this.walkmeCspDirectivesAndSources[t]}},ei=["CONTENT-SECURITY-POLICY","CONTENT-SECURITY-POLICY-REPORT-ONLY","X-WEBKIT-CSP"],ni=["'nonce-","'sha256-","'sha384-","'sha512-"],ri="'nonce-"+kn.getValue()+"'",ii=t=>!!t&&ei.includes(t.toUpperCase()),oi=(t,e)=>e?t.split(",").map(si).join(","):si(t),si=t=>{const e=ci(t),n=li(e);return ai(n)},ai=t=>{const e=[];for(const n of t.keys()){const r=n+" "+t.get(n).join(" ");e.push(r)}return e.join(";")},ci=t=>{t=t.replace(/\s\s+/g," ").replace(new RegExp("; ","g"),";").trim();const e=new Map,n=t.split(";");for(const t of n){if(!t)continue;const n=t.split(" "),r=n[0],i=e.get(r)||[];for(let t=1;t<n.length;t++)i.includes(n[t])||i.push(n[t]);e.set(r,i)}return e},ui=t=>{const e=t.indexOf("'none'");-1!=e&&t.splice(e,1)},li=t=>{for(const e of t.keys()){if(!ti.get(e))continue;const n=t.get(e);ui(n);for(const t of ti.get(e))n.includes(t)||n.push(t);hi(n),t.set(e,n)}return t},hi=t=>{t.some((t=>ni.some((e=>t.startsWith(e)))))&&t.push(ri)},di=new class{constructor(){this.tabsInfo=new Map}createTabInfo(t,e,n,r){let i=this.tabsInfo.get(t);return i||(i={topUrl:0===e?n:r.url||""}),i}addTabInfo(t,e,n,r,i){const o=this.createTabInfo(t,e,r,i);0!==e&&(o[e]={url:r,parentFrameId:n}),this.tabsInfo.set(t,o)}removeTabInfo(t){this.tabsInfo.get(t)&&this.tabsInfo.delete(t)}getTabInfo(t){return this.tabsInfo.get(t)}};var fi;!function(t){t[t.Top=0]="Top",t[t.SameDomain=1]="SameDomain",t[t.CrossDomain=2]="CrossDomain"}(fi||(fi={}));const pi=(t,e,n,r)=>{const i={url:r,topUrl:(null==t?void 0:t.topUrl)||"",frameType:0==e?fi.Top:fi.SameDomain,parentId:n};if(0!==e){const e=gi(t,n),o=""===e||!((t,e)=>We(t)==We(e))(r,e);o&&(i.frameType=fi.CrossDomain)}return i},gi=(t,e)=>t?t[e]?t[e].url:t.topUrl:"",vi=(t,e)=>!!Cr(t.url,e.WhiteList)&&e.Matchers.some((e=>mi(t,e))),mi=(t,e)=>!!yi(t.frameType,e.AlterCspFrameTypes)&&(!(e.ShouldFilterSelfRegex&&!e.SelfUrlValidationRegex.test(t.url))&&!(t.frameType!=fi.Top&&t.topUrl&&e.ShouldFilterTopRegex&&!e.TopUrlValidationRegex.test(t.topUrl))),yi=(t,e)=>!(t==fi.Top&&!e.includes(Ue.Top)||t==fi.SameDomain&&!e.includes(Ue.SameDomainFrame)||t==fi.CrossDomain&&!e.includes(Ue.CrossDomainFrame));const wi=t=>{di.removeTabInfo(t.tabId)},bi=t=>{"complete"===t.changeInfo.status&&di.removeTabInfo(t.tabId)},xi=t=>{-1!=t.tabId&&Si(t.tabId,t.frameId,t.parentFrameId,t.url)},Si=(t,e,n,r)=>{return i=void 0,o=void 0,a=function*(){try{const i=yield xn(t);di.addTabInfo(t,e,n,r,i)}catch(t){f.debug(`addLoadedTabFrameInfo failed ${t}`)}},new((s=void 0)||(s=Promise))((function(t,e){function n(t){try{c(a.next(t))}catch(t){e(t)}}function r(t){try{c(a.throw(t))}catch(t){e(t)}}function c(e){var i;e.done?t(e.value):(i=e.value,i instanceof s?i:new s((function(t){t(i)}))).then(n,r)}c((a=a.apply(i,o||[])).next())}));var i,o,s,a},Ei=[Fe.Top,Fe.CrossDomainFrame,Fe.SameDomainFrame],Ai=t=>{const e=[];return t.AlterCspRequestTypes.includes(Fe.Top)&&e.push(Le),(t.AlterCspRequestTypes.includes(Fe.SameDomainFrame)||t.AlterCspRequestTypes.includes(Fe.CrossDomainFrame))&&e.push(Re),t.AlterCspRequestTypes.includes(Fe.HttpRequest)&&e.push("xmlhttprequest"),{urls:t.Urls,types:e}};class Di{constructor(){this.isEnabled=!1,this.onHeadersRecievedHandlers=[],this.onErrorHandlers=[]}isFilterChanged(t){const e=JSON.stringify(t)!=JSON.stringify(this.currentConfiguration);return e&&f.debug("alter csp filter changed",{new:t,old:this.currentConfiguration}),e}startAlterCsp(){this.startAlterCspHeadersListener(),this.startTabInfoMananger()}stopAlterCsp(){this.isEnabled=!1,this.stopTabInfoManager(),this.stopAlterCspHeadersListener()}handleAlterCsp(t){t.IsActive?(this.isFilterChanged(t)&&(this.stopAlterCsp(),this.currentConfiguration=t),this.isEnabled||(this.isEnabled=!0,this.startAlterCsp()),ti.setDomains(t)):this.stopAlterCsp()}startAlterCspHeadersListener(){var t;null===(t=this.currentConfiguration.Filters)||void 0===t||t.forEach((t=>{this.registerAlterCspFilter(t,this.currentConfiguration.SplitCspHeaderByComma)}))}registerAlterCspFilter(t,e){const n=n=>((t,e,n)=>{const r=(t=>{const e=[];for(let n=0;n<t.length;n++)ii(t[n].name)&&e.push(n);return e})(t.responseHeaders||[]);if(0===r.length)return;const i=(t=>{const e=di.getTabInfo(t.tabId);return pi(e,t.frameId,t.parentFrameId,t.url)})(t);var o;return i.frameType!==fi.Top&&((o=i.url).includes("CDhiddenIframe")||o.includes("ajaxProxyIframe"))||!e.FilterMatchingData.some((t=>vi(i,t)))?void 0:(((t,e,n)=>{for(const r of e)t.responseHeaders[r].value=oi(t.responseHeaders[r].value,n)})(t,r,n),{responseHeaders:t.responseHeaders})})(n,t,e),r=t=>{},i=Ai(t);Gr.register(n,i,["blocking","responseHeaders"]),this.onHeadersRecievedHandlers.push(n),zr.register(r,i),this.onErrorHandlers.push(r)}stopAlterCspHeadersListener(){this.onHeadersRecievedHandlers.forEach((t=>Gr.unregister(t))),this.onHeadersRecievedHandlers.length=0,this.onErrorHandlers.forEach((t=>zr.unregister(t))),this.onErrorHandlers.length=0}startTabInfoMananger(){const t=(t=>{const e=this.currentConfiguration.Filters.reduce(((t,e)=>(e.AlterCspRequestTypes.some((t=>Ei.includes(t)))&&e.Urls.forEach((e=>t.add(e))),t)),new Set),n=Array.from(e);return 0==n.length&&n.push(ke),{types:[Le,Re],urls:n}})();Wr.register(xi,t,["blocking"]),Ur.events.tabs.onUpdated.register(bi),Ur.events.tabs.onRemoved.register(wi)}stopTabInfoManager(){Wr.unregister(xi),Ur.events.tabs.onUpdated.unregister(bi),Ur.events.tabs.onRemoved.unregister(wi)}}var Ci=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))};class Ii{constructor(){this.isRunning=!1,this.isEditorAlive=!1}init(t,e,n){return Ci(this,void 0,void 0,(function*(){this.apply(t,e)}))}applyData(t){return Ci(this,void 0,void 0,(function*(){return this.apply(this.isEditorAlive,t)}))}handleSettingsCheckInterval(){return Ci(this,void 0,void 0,(function*(){}))}applyEditorAlive(t){return Ci(this,void 0,void 0,(function*(){return this.apply(t,this.currentExtensionData)}))}apply(t,e){return Ci(this,void 0,void 0,(function*(){const n=this.currentExtensionData;this.currentExtensionData=e,this.isEditorAlive=t;const r=e.IsActive&&!t;return this.isRunning&&!r?(this.isRunning=!1,this.stop()):this.isRunning&&r?this.update(n,e):!this.isRunning&&r?(this.isRunning=!0,this.start(e)):void 0}))}}class Ti{constructor(t,e){this.managedParts=t,this.backgroundMessageRouter=e,this.currentUpdateProcess=Promise.resolve(),this.managedParts=t}init(t,e){return Ci(this,void 0,void 0,(function*(){return this.currentUpdateProcess=this.initAll(t,e,this.backgroundMessageRouter),this.currentUpdateProcess}))}notifySettingsDidntChange(){return Ci(this,void 0,void 0,(function*(){return yield this.currentUpdateProcess,this.currentUpdateProcess=this.notifySettingsDidntChangeToAll(),this.currentUpdateProcess}))}applySettings(t){return Ci(this,void 0,void 0,(function*(){return yield this.currentUpdateProcess,this.currentUpdateProcess=this.applySettingsToAll(t),this.currentUpdateProcess}))}applyEditorMode(t){return Ci(this,void 0,void 0,(function*(){return yield this.currentUpdateProcess,this.currentUpdateProcess=this.applyEditorToAll(t),this.currentUpdateProcess}))}applyEditorToAll(t){return Ci(this,void 0,void 0,(function*(){return this.invokeOnAllParts((e=>e.applyEditorAlive(t)))}))}applySettingsToAll(t){return Ci(this,void 0,void 0,(function*(){return this.invokeOnAllParts((e=>e.applyData(t)))}))}notifySettingsDidntChangeToAll(){return Ci(this,void 0,void 0,(function*(){return this.invokeOnAllParts((t=>t.handleSettingsCheckInterval()))}))}initAll(t,e,n){return Ci(this,void 0,void 0,(function*(){return this.invokeOnAllParts((r=>r.init(t,e,n)))}))}invokeOnAllParts(t){return Ci(this,void 0,void 0,(function*(){const e=this.managedParts.map((e=>{try{return t(e)}catch(t){f.error("invokeOnAllParts failed",t)}}));yield Promise.all(e)}))}}var _i=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))};class ki extends Ii{constructor(){super(),this.alterCspManager=new Di}start(t){return _i(this,void 0,void 0,(function*(){this.alterCspManager.handleAlterCsp(t.AlterCsp)}))}update(t,e){return _i(this,void 0,void 0,(function*(){this.alterCspManager.handleAlterCsp(e.AlterCsp)}))}stop(){return _i(this,void 0,void 0,(function*(){this.alterCspManager.stopAlterCsp()}))}}const Ri="frame-ancestors",Li=t=>{if(!t)return"";const e=t.split(";").filter((t=>{return!((e=t).includes("secure")||e.includes("sameSite")||""==e);var e}));return e.push(" secure; sameSite=None;"),e.join(";")},Pi=(t,e)=>{if(!t||!e||0==e.length)return t;const n=ci(t),r=n.get(Ri);return r?(ui(r),r.push(...e),n.set(Ri,r),ai(n)):t},Oi=(t,e)=>{if(!t)return;const n=(t=>t.startsWith(location.origin))(t),r=n?location.origin:(t=>{const e=t.match(/^(?:https?:\/\/)?([^\/\n?]+)/i);return Ge(e)})(t);r&&(e.includes(r)||e.push(r))},Ni=t=>{const e=[];let n=t;for(;null==n?void 0:n.url;)Oi(n.url,e),n=t.parentFrameDetails;return e};class Mi{constructor(){this.isEnabled=!1,this.onHeadersRecievedHandlers=[],this.onErrorHandlers=[]}isFilterChanged(t){const e=JSON.stringify(t)!==JSON.stringify(this.currentConfiguration);return e&&f.debug("alter idp saml filter changed",{new:t,old:this.currentConfiguration}),e}startAlterIdpSaml(){var t;null===(t=this.currentConfiguration.Filters)||void 0===t||t.forEach((t=>{this.registerAlterIdpSamlFilter(t)}))}stopAlterIdpSaml(){this.isEnabled=!1,this.stopAlterIdpSamlHeadersListener()}handleAlterIdpSaml(t){t.IsActive?(this.isFilterChanged(t)&&(this.stopAlterIdpSaml(),this.currentConfiguration=t),this.isEnabled||(this.isEnabled=!0,this.startAlterIdpSaml())):this.stopAlterIdpSaml()}registerAlterIdpSamlFilter(t){const e=e=>((t,e)=>{const n=(t=>{const e=(t=>{try{return-1==t.tabId&&0==t.parentFrameId&&t.initiator==location.origin}catch(t){return!1}})(t);return e?{frameType:fi.Top,url:location.href,parentId:0,topUrl:location.href}:((t,e)=>{const n=((t,e)=>t&&t[e]?t[e].parentFrameId:0)(t,e),r=gi(t,e);return pi(t,e,n,r)})(di.getTabInfo(t.tabId),t.parentFrameId)})(t),r=e.FilterMatchingData.some((t=>vi(n,t)));if(!t||!t.responseHeaders||!r)return;const i=[];let o;for(const e of t.responseHeaders)"x-frame-options"!==e.name.toLowerCase()&&("set-cookie"===e.name.toLowerCase()&&(e.value=Li(e.value)),ii(e.name)&&(o=o||Ni(n),e.value=Pi(e.value,o)),i.push(e));return{responseHeaders:i}})(e,t),n=t=>{},r=Ai(t);Gr.register(e,r,["blocking","responseHeaders"]),this.onHeadersRecievedHandlers.push(e),zr.register(n,r),this.onErrorHandlers.push(n)}stopAlterIdpSamlHeadersListener(){this.onHeadersRecievedHandlers.forEach((t=>Gr.unregister(t))),this.onHeadersRecievedHandlers.length=0,this.onErrorHandlers.forEach((t=>zr.unregister(t))),this.onErrorHandlers.length=0}}var Bi=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))};class Ui extends Ii{constructor(){super(),this.alterIdpSamlManager=new Mi}start(t){return Bi(this,void 0,void 0,(function*(){this.alterIdpSamlManager.handleAlterIdpSaml(t.AlterIdpSaml)}))}update(t,e){return Bi(this,void 0,void 0,(function*(){this.alterIdpSamlManager.handleAlterIdpSaml(e.AlterIdpSaml)}))}stop(){return Bi(this,void 0,void 0,(function*(){this.alterIdpSamlManager.stopAlterIdpSaml()}))}}var Fi=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))};class qi{constructor(t,e,n,r,i="local"){this.action=t,this.actionIntervalSeconds=e,this.checkEverySeconds=n,this.storageKey=r,this.storageToUse=i,this.intervalRunner=new Pr((()=>this.onIntervalInvoked()))}start(){this.intervalRunner.startInterval(this.checkEverySeconds,!0)}stop(){this.intervalRunner.stopInterval()}getLastInvokeTime(){return Fi(this,void 0,void 0,(function*(){return(yield lt(this.storageKey,this.storageToUse))||0}))}saveLastInvokeTime(t){return Fi(this,void 0,void 0,(function*(){yield at(this.storageKey,t,this.storageToUse)}))}onIntervalInvoked(){return Fi(this,void 0,void 0,(function*(){const t=Date.now();if(t-(yield this.getLastInvokeTime())>=1e3*this.actionIntervalSeconds){try{this.action()}catch(t){}this.saveLastInvokeTime(t)}}))}}const Hi=t=>{return e=void 0,n=void 0,i=function*(){const e=yield H.get(),n=yield Tt(),r=e.Analytics.EnterpriseAccountGuid,i=yield kt(),o=yield bt(),s=(yield Te.get(),nt()),a=xt(),c=J();return{ns:"discovery",data:{bd:r,ty:t,dt:"extension",bi:i,mi:n,jc:o,cu:e.Customer,pr:e.Profile,ei:e.Guid,bw:a,yl:c,d:s.browser.name,e:s.browser.version,y:s.os.name,a:s.os.version,ts:Date.now()}}},new((r=void 0)||(r=Promise))((function(t,o){function s(t){try{c(i.next(t))}catch(t){o(t)}}function a(t){try{c(i.throw(t))}catch(t){o(t)}}function c(e){var n;e.done?t(e.value):(n=e.value,n instanceof r?n:new r((function(t){t(n)}))).then(s,a)}c((i=i.apply(e,n||[])).next())}));var e,n,r,i};class ji{constructor(t){this.postEventUrl=t+"/event/postEvent",this.backEventUrl=t+"/event/backEvent"}backEvent(t){return G(this.backEventUrl,t)}}const Vi=new F("eventCollectorProvider"),Gi=t=>{return e=void 0,n=void 0,i=function*(){var e;try{return null===(e=yield Vi.get())||void 0===e?void 0:e.backEvent(t)}catch(t){}},new((r=void 0)||(r=Promise))((function(t,o){function s(t){try{c(i.next(t))}catch(t){o(t)}}function a(t){try{c(i.throw(t))}catch(t){o(t)}}function c(e){var n;e.done?t(e.value):(n=e.value,n instanceof r?n:new r((function(t){t(n)}))).then(s,a)}c((i=i.apply(e,n||[])).next())}));var e,n,r,i};const Wi=()=>{return t=void 0,e=void 0,r=function*(){f.debug("Extension Active - sending active event");const t=yield Hi("active");Gi(t)},new((n=void 0)||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}));var t,e,n,r};var zi=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))};class Ki extends Ii{constructor(){super(...arguments),this.checkTimeoutSeconds=60,this.currentAuditInterval=0}start(t){return zi(this,void 0,void 0,(function*(){this.currentAuditInterval=t.Analytics.AuditingIntervalSeconds,this.startRepeatedActionIfRequired()}))}update(t,e){return zi(this,void 0,void 0,(function*(){this.currentAuditInterval!==e.Analytics.AuditingIntervalSeconds&&(this.currentAuditInterval=e.Analytics.AuditingIntervalSeconds,this.stopRunningRepeatedAction(),this.startRepeatedActionIfRequired())}))}stop(){return zi(this,void 0,void 0,(function*(){this.stopRunningRepeatedAction()}))}createRepeatedActionHelper(t){return new qi(Wi,t,this.checkTimeoutSeconds,"lastActiveReportTime")}startRepeatedActionIfRequired(){this.currentAuditInterval>0&&(this.repeatedActionHelper=this.createRepeatedActionHelper(this.currentAuditInterval),this.repeatedActionHelper.start())}stopRunningRepeatedAction(){var t;null===(t=this.repeatedActionHelper)||void 0===t||t.stop(),this.repeatedActionHelper=void 0}}var $i=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))};const Ji="installedEventSent";const Yi=()=>{return t=void 0,e=void 0,r=function*(){if(yield $i(void 0,void 0,void 0,(function*(){return!!(yield lt(Ji,"local"))})))return;f.info("First installation - sending installation event");const t=yield Hi("install");Gi(t),$i(void 0,void 0,void 0,(function*(){yield at(Ji,!0,"local")}))},new((n=void 0)||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}));var t,e,n,r};var Zi=n(4815),Xi=n(6602),Qi=n(4641);const to=(t,e)=>{Zi.storeLogEvent(t,e)};var eo=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))};const no=(t,e,n=!1)=>eo(void 0,void 0,void 0,(function*(){try{const e=yield xn(t.tabId);to(Xi.ACTIONS.tabSwitch,{details:{url:e.url,tabId:e.id,tabTitle:e.title,nowTime:new Date}})}catch(r){n||setTimeout((()=>{no(t,e,!0)}),300)}})),ro=t=>{const e=t.changeInfo.url?Xi.ACTIONS.pageNavigation:Xi.ACTIONS.pageRefresh;to(e,{details:{url:t.changeInfo.url,tabId:t.tabId,tabTitle:t.tab.title,nowTime:new Date}})},io=(t,e)=>{oo(t.windowId,void 0,new Date(e))},oo=(t,e,n=new Date)=>eo(void 0,void 0,void 0,(function*(){if(!e||e.details.isBlur)try{const e=yield new Promise(((t,e)=>{Mr((n=>{const r=A();r?e("Runtime last error: "+r.message):t(n)}))})),r=yield Sn(),i={tabId:null==r?void 0:r.id,url:null==r?void 0:r.url,tabTitle:null==r?void 0:r.title};Qi.windowFocusTracker.onFocusChanged(e&&e.focused,t,i,n)}catch(t){f.debug(`dispatchWindowFocus failed ${t}`)}}));const so=t=>{t.subscribe(Xi.ACTIONS.updateContext,(function(t,e){t.extData=_o.getCurrentExtensionData(),t.details.tabId=e?null==e?void 0:e.tabId:-1,oo(-1,t),Zi.storeLogEvent(Xi.ACTIONS.updateContext,t)})),t.subscribe(Xi.ACTIONS.contentFocus,(function(t){oo(-1,void 0,t.nowTime)})),t.subscribe(Xi.ACTIONS.pageRefresh,(function(t){t.extData=_o.getCurrentExtensionData(),Zi.storeLogEvent(Xi.ACTIONS.pageRefresh,t)})),t.subscribe(Xi.ACTIONS.getSessionData,(function(t){return Zi.getSessionData(t)})),t.subscribe(Xi.ACTIONS.getIsDtiRunningFromExtension,(function(){return t=this,e=void 0,r=function*(){const t=yield H.get(),e=yield _o.getIsDtiRunning();return t&&t.Guid&&e},new((n=void 0)||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}));var t,e,n,r})),t.subscribe(Xi.ACTIONS.updateNoCollection,(function(t){Zi.storeLogEvent(Xi.ACTIONS.updateNoCollection,t)}))},ao="DTI";class co extends v{constructor(t,e){super(t),this.handler=e}handleImpl(t,e){return this.handler(t,e)}}const uo=(t,e,n)=>{const r=new co(e,n);t.addMessageHandler(r)};class lo{constructor(t){this.backgroundMessageRouter=t}subscribe(t,e){uo(this.backgroundMessageRouter,t,e)}}const ho=()=>({didRun:!1,needWebAccessible:Y.isServiceWorker}),fo=(t,e,n,r,i,o=!1)=>t&&i?Y.isServiceWorker?vo(t,e,n,r,o):go(t.toString(),e,n,r,o):Promise.resolve(ho()),po=t=>{const e=window.document.createElement("script");e.textContent=t,window.document.head.appendChild(e),window.document.head.removeChild(e)},go=(t,e,n,r,i)=>{const o=`try{(${t}).apply(null, ${JSON.stringify(r)})}catch{}`,s=JSON.stringify([o]),a={allFrames:!1,frameId:n,code:`try{(${po.toString()}).apply(null, ${s})}catch{}`};return i&&(a.runAt="document_start"),new Promise((t=>{S.tabs.executeScript(e,a,(function(e){A()&&t(ho()),t({didRun:!0,runResult:e&&e[0]})}))}))},vo=(t,e,n,r,i)=>{return o=void 0,s=void 0,c=function*(){var o;const s={target:{tabId:e,frameIds:[n]},world:"MAIN",func:t,args:r};i&&(s.injectImmediately=!0);try{const t=yield S.scripting.executeScript(s);return{didRun:!0,runResult:t&&(null===(o=t[0])||void 0===o?void 0:o.result)}}catch(t){return ho()}},new((a=void 0)||(a=Promise))((function(t,e){function n(t){try{i(c.next(t))}catch(t){e(t)}}function r(t){try{i(c.throw(t))}catch(t){e(t)}}function i(e){var i;e.done?t(e.value):(i=e.value,i instanceof a?i:new a((function(t){t(i)}))).then(n,r)}i((c=c.apply(o,s||[])).next())}));var o,s,a,c};var mo=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))};var yo=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))};class wo{constructor(t){this.id=t,this.onMessageListeners=[],this.onCloseRequestListeners=[]}close(){this.onCloseRequestListeners.forEach((t=>{try{t(this.id)}catch(t){}})),this.onMessageListeners.length=0,this.onCloseRequestListeners.length=0}raiseMessage(t){this.onMessageListeners.forEach((e=>{try{e(t)}catch(t){}}))}onMessage(t){this.onMessageListeners.push(t)}onCloseRequest(t){this.onCloseRequestListeners.push(t)}}var bo=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))},xo=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))};const So=new Wn("addIframe",x.Offscreen),Eo=new Wn("closeIframe",x.Offscreen);var Ao=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))};const Do=Y.isServiceWorker?S.offscreen&&S.offscreen.createDocument?new class{constructor(){this.openFrames=0}init(){}openIframe(t){return Ao(this,void 0,void 0,(function*(){if(this.pendingAction&&(yield this.pendingAction),0==this.openFrames){const t=xo(void 0,void 0,void 0,(function*(){try{if(yield S.offscreen.hasDocument())return;yield S.offscreen.createDocument({url:"offscreen/offscreen.html",reasons:[chrome.offscreen.Reason.IFRAME_SCRIPTING],justification:"WalkMe Extension iframe loading"})}catch(t){}}));this.pendingAction=t,yield t,this.pendingAction=void 0}this.openFrames++;const e=So.send(t);this.pendingAction=e;const n=yield e;return this.pendingAction=void 0,n}))}closeIframe(t){return Ao(this,void 0,void 0,(function*(){this.pendingAction&&(yield this.pendingAction);const e=Eo.send(t);if(this.pendingAction=e,yield e,this.pendingAction=void 0,this.openFrames--,0==this.openFrames){const t=xo(void 0,void 0,void 0,(function*(){try{yield S.offscreen.closeDocument()}catch(t){}}));this.pendingAction=t,yield t,this.pendingAction=void 0}}))}onMessage(t){var e;e=e=>t(e.iframeId,e.data),_r.push(e)}}:new class{init(){}openIframe(t){return yo(this,void 0,void 0,(function*(){}))}closeIframe(t){return yo(this,void 0,void 0,(function*(){}))}onMessage(t){}}:new class{constructor(t){this.win=t,this.currentOpenFrames={},this.onIframeMessageCallbacks=[],this.iframeRunningId=0}init(){this.win.addEventListener("message",(t=>{Object.keys(this.currentOpenFrames).forEach((e=>{this.currentOpenFrames[e].contentWindow==t.source&&this.raiseMessage(e,t.data)}))}))}raiseMessage(t,e){this.onIframeMessageCallbacks.forEach((n=>{try{n(t,e)}catch(t){}}))}onMessage(t){this.onIframeMessageCallbacks.push(t)}openIframe(t){return mo(this,void 0,void 0,(function*(){const e=`${Date.now()}_${this.iframeRunningId++}`,n=this.createIframe(t);return this.win.document.body.appendChild(n),this.currentOpenFrames[e]=n,e}))}closeIframe(t){return mo(this,void 0,void 0,(function*(){const e=this.currentOpenFrames[t];e&&(this.win.document.body.removeChild(e),delete this.currentOpenFrames[t])}))}createIframe(t){const e=this.win.document.createElement("iframe");return e.setAttribute("sandbox","allow-same-origin allow-scripts allow-popups allow-forms"),e.setAttribute("src",t),e.style.width="800px",e.style.height="500px",e.style.opacity="1",e.style.position="fixed",e}}(window);Do.init();const Co=new class{constructor(t){this.iframesManager=t,this.currentOpenFrames={}}init(){this.iframesManager.onMessage(((t,e)=>{const n=this.currentOpenFrames[t];if(n)try{n.raiseMessage(e)}catch(t){}}))}openIframe(t){return bo(this,void 0,void 0,(function*(){try{const e=yield this.iframesManager.openIframe(t);if(!e)return;const n=new wo(e);return this.currentOpenFrames[e]=n,n.onCloseRequest((t=>this.onIframeCloseRequest(t))),n}catch(t){return}}))}onIframeCloseRequest(t){return bo(this,void 0,void 0,(function*(){this.currentOpenFrames[t]&&(yield this.iframesManager.closeIframe(t),delete this.currentOpenFrames[t])}))}}(Do);Co.init();const Io="DailyPingLogData";var To=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))};const _o=new class{constructor(){this.isRunning=!1,this.currentDtiExtData=null,this.isRunningPromiseResolver=null,this.isRunningPromise=new Promise((t=>{this.isRunningPromiseResolver=()=>{t(),this.isRunningPromiseResolver=null}}))}init(e,n){return To(this,void 0,void 0,(function*(){const r=(t=>({sendInfo:(e,n)=>{t.info(e,n,ao)},error:(e,n)=>{t.error(e,n,ao)},warn:(e,n)=>{t.warn(e,n,ao)},info:(e,n)=>{t.info(e,n,ao)},daily:(e,n,r,i)=>{t.daily(e,n,r,i,ao)}}))(f),i=new lo(n);return gr.on(Io,(t=>({promiseToWait:this.isRunningPromise.then((()=>{t&&(t.dtiEnabled=this.isRunning)}))}))),Zi.initDiscoveryManager(r,t,i,fo,Co,gr),yield this.handleGenerateContextChain(),yield this.registerToCommunicationMessages(i),this.updateDtiState(e,!0)}))}getCurrentExtensionData(){return this.currentDtiExtData}handleData(t){return To(this,void 0,void 0,(function*(){this.updateDtiState(t,!1)}))}getIsDtiRunning(){return To(this,void 0,void 0,(function*(){return yield this.isRunningPromise,this.isRunning}))}updateDtiState(t,e){return To(this,void 0,void 0,(function*(){this.currentDtiExtData=yield this.createDtiExtData(t);const n=this.isDtiFeatureEnabled(t.Features),r=this.currentDtiExtData&&(yield Zi.updateTrackerLoadingCondition(this.currentDtiExtData.extensionGuid,this.currentDtiExtData,n,nt,e));!this.isRunning&&r?this.registerDtiBrowserEvents():this.isRunning&&!r&&this.unregisterDtiBrowserEvents(),this.isRunning=r;try{this.isRunningPromiseResolver&&this.isRunningPromiseResolver()}catch(t){}}))}isDtiFeatureEnabled(t){return Qt(14,t)}handleGenerateContextChain(){return To(this,void 0,void 0,(function*(){const t=yield bt();Zi.generateContextChain(t)}))}createDtiExtData(t){return To(this,void 0,void 0,(function*(){const e=yield Te.get();return{extVersion:J(),extensionGuid:t.Guid,extensionAnalytics:{EnterpriseAccountGuid:t.Analytics.EnterpriseAccountGuid},envData:{walkmeCdn:t.WalkmeServers.WalkMeCdnUrl},env:e.environment}}))}registerToCommunicationMessages(t){return To(this,void 0,void 0,(function*(){so(t)}))}registerDtiBrowserEvents(){return To(this,void 0,void 0,(function*(){Ur.events.tabs.onActivated.register(no),Ur.events.tabs.onUpdated.register(ro),Ur.events.windows.onFocusChanged.register(io)}))}unregisterDtiBrowserEvents(){return To(this,void 0,void 0,(function*(){Ur.events.tabs.onActivated.unregister(no),Ur.events.tabs.onUpdated.unregister(ro),Ur.events.windows.onFocusChanged.unregister(io)}))}};var ko=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))};class Ro{init(t,e,n){return _o.init(e,n)}applyData(t){return _o.handleData(t)}handleSettingsCheckInterval(){return ko(this,void 0,void 0,(function*(){try{const t=yield H.get();return _o.handleData(t)}catch(t){}}))}applyEditorAlive(t){return ko(this,void 0,void 0,(function*(){}))}}const Lo="extensionStorage",Po=t=>(t=Oo(t),JSON.stringify(t)),Oo=t=>({key1:t.key1,key2:t.key2});class No{constructor(t){this.logger=t}extractStorageByKey1(t){if(!t)return{};const e={};return Object.keys(t).forEach((n=>{try{const r=(t=>{if(t&&t.startsWith("{")&&t.endsWith("}"))try{const e=JSON.parse(t);if(!e||!e.key1||!e.key2)return;return Oo(e)}catch(t){return}})(n),i=t[n];if(r&&r.key1&&r.key2&&i)try{e[r.key1]||(e[r.key1]={}),e[r.key1][r.key2]=JSON.parse(i)}catch(t){const e={key:r.key1,key2:r.key2,stringifiedValue:i,error:t};this.logger.error("extensionStorage init - error when parsing",e,Lo)}}catch(t){}})),e}}var Mo=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))};class Bo{constructor(t,e,n){this.logger=t,this.storageUtils=e,this.inMemoryStorageData=n}validateKey1ObjectInitialized(t){this.inMemoryStorageData[t]=this.inMemoryStorageData[t]||{}}setInMemory(t,e,n){this.validateKey1ObjectInitialized(t),this.inMemoryStorageData[t][e]=n}removeInMemory(t,e){this.inMemoryStorageData[t]&&delete this.inMemoryStorageData[t][e]}setLibItem(t){return Mo(this,void 0,void 0,(function*(){t.key.key1;try{const e=Po(t.key),n=JSON.stringify(t.value);return this.setInMemory(t.key.key1,t.key.key2,t.value),yield this.storageUtils.setData(e,n,"local"),!0}catch(t){return!1}}))}getLibItem(t){return Mo(this,void 0,void 0,(function*(){t.key1;try{const e=this.inMemoryStorageData[t.key1];if(e)return e[t.key2]}catch(e){this.logger.error("getLibItem error",{key:t,error:e},Lo)}}))}getLibItems(t){return Mo(this,void 0,void 0,(function*(){const e=[],n=this.inMemoryStorageData[t];if(!n)return[];try{Object.keys(n).forEach((t=>{const r=n[t];e.push({key2:t,value:r})}))}catch(e){this.logger.error("getLibItems error",{key:t,error:e},Lo)}return e}))}removeLibItem(t){return Mo(this,void 0,void 0,(function*(){t.key1;try{const e=Po(t);return this.removeInMemory(t.key1,t.key2),yield this.storageUtils.removeData(e,"local"),!0}catch(e){return this.logger.error("removeLibItem error",{key:t,error:e},Lo),!1}}))}removeLibItems(t){return Mo(this,void 0,void 0,(function*(){const e=this.inMemoryStorageData[t];if(!e)return!0;try{return delete this.inMemoryStorageData[t],Object.keys(e).forEach((e=>{try{const n=Po({key1:t,key2:e});this.storageUtils.removeData(n,"local")}catch(t){}})),!0}catch(e){return this.logger.error("removeLibItems error",{key:t,error:e},Lo),!1}}))}}let Uo;const Fo=t=>{Uo=t};const qo=(t,e)=>{return n=void 0,r=void 0,o=function*(){const n=new No(t.logger),r=yield t.storageUtils.getAllDataFromLocalStorage(),i=n.extractStorageByKey1(r),o=new Bo(t.logger,t.storageUtils,i);Fo(e),((t,e)=>{e.communication.onMessage("getLibItem",(e=>t.getLibItem(e))),e.communication.onMessage("getLibItems",(e=>t.getLibItems(e))),e.communication.onMessage("setLibItem",(e=>t.setLibItem(e))),e.communication.onMessage("removeLibItem",(e=>t.removeLibItem(e))),e.communication.onMessage("removeLibItems",(e=>t.removeLibItems(e)))})(o,t)},new((i=void 0)||(i=Promise))((function(t,e){function s(t){try{c(o.next(t))}catch(t){e(t)}}function a(t){try{c(o.throw(t))}catch(t){e(t)}}function c(e){var n;e.done?t(e.value):(n=e.value,n instanceof i?n:new i((function(t){t(n)}))).then(s,a)}c((o=o.apply(n,r||[])).next())}));var n,r,i,o},Ho=t=>{switch(t){case"local":case"managed":case"sync":return t;default:return"local"}},jo=t=>{const e=(t=>{var e;if(!t.SystemData)return;const n=Object.keys(t.SystemData);return n.length>0&&(null===(e=t.Analytics)||void 0===e?void 0:e.EnterpriseAccountGuid)&&n.push(t.Analytics.EnterpriseAccountGuid),n})(t);return{guidWhitelist:e}};var Vo,Go=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))};class Wo{init(t,e,n){return Go(this,void 0,void 0,(function*(){const t=(t=>{const e=(t=>({onMessage:(e,n)=>{const r=new co(e,n);t.addMessageHandler(r)}}))(t);return{communication:e,logger:f,storageUtils:{getData:(t,e)=>lt(t,Ho(e)),setData:(t,e,n)=>at(t,e,Ho(n)),getAllDataFromLocalStorage:ut,removeData:(t,e)=>ht(t,Ho(e))}}})(n),r=jo(e);qo(t,r)}))}applyData(t){return Go(this,void 0,void 0,(function*(){const e=jo(t);Fo(e)}))}handleSettingsCheckInterval(){return Go(this,void 0,void 0,(function*(){}))}applyEditorAlive(t){return Go(this,void 0,void 0,(function*(){}))}}const zo=null===(Vo=S.browsingData)||void 0===Vo?void 0:Vo.removeServiceWorkers;var Ko=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))};class $o{constructor(){this.currentServiceWorkersSitesUrls=[]}init(t,e,n){return Ko(this,void 0,void 0,(function*(){this.applyData(e)}))}applyData(t){return Ko(this,void 0,void 0,(function*(){const e=t.ServiceWorkersSitesUrls;this.shouldRemoveServiceWorkers(t)&&(f.debug("ServiceWorkersRemovalHandler - Removing service workers",{new:e,old:this.currentServiceWorkersSitesUrls}),(t=>{try{zo({origins:t}),f.debug(`Service workers removed successfully. URLs: '${t.join()}'`)}catch(e){f.info(`Failed to remove service workers. URLs: '${t.join()}'`,e)}})(e)),this.currentServiceWorkersSitesUrls=e}))}handleSettingsCheckInterval(){return Ko(this,void 0,void 0,(function*(){}))}applyEditorAlive(t){return Ko(this,void 0,void 0,(function*(){}))}shouldRemoveServiceWorkers(t){const e=t.ServiceWorkersSitesUrls;return t.IsActive&&t.AlterCsp.IsActive&&e.length>0&&this.isNewServiceWorkersSitesUrlsAdded(e)}isNewServiceWorkersSitesUrlsAdded(t){const e=0!==t.filter((t=>!this.currentServiceWorkersSitesUrls.includes(t))).length;return f.debug("IsNewServiceWorkersSitesUrlsAdded:",{new:t,old:this.currentServiceWorkersSitesUrls,result:e}),e}}var Jo=n(9544);const Yo=t=>{const e=Qt(12,t.Features);return t.IsActive&&e};const Zo=(t,e)=>{return n=void 0,r=void 0,o=function*(){const t=yield H.get(),e=yield(t=>{return e=void 0,n=void 0,i=function*(){return!!Yo(t)&&(yield Jo.shouldRunFromExtension())},new((r=void 0)||(r=Promise))((function(t,o){function s(t){try{c(i.next(t))}catch(t){o(t)}}function a(t){try{c(i.throw(t))}catch(t){o(t)}}function c(e){var n;e.done?t(e.value):(n=e.value,n instanceof r?n:new r((function(t){t(n)}))).then(s,a)}c((i=i.apply(e,n||[])).next())}));var e,n,r,i})(t);return e},new((i=void 0)||(i=Promise))((function(t,e){function s(t){try{c(o.next(t))}catch(t){e(t)}}function a(t){try{c(o.throw(t))}catch(t){e(t)}}function c(e){var n;e.done?t(e.value):(n=e.value,n instanceof i?n:new i((function(t){t(n)}))).then(s,a)}c((o=o.apply(n,r||[])).next())}));var n,r,i,o};var Xo=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))};const Qo=new class{init(t,e){return Xo(this,void 0,void 0,(function*(){return yield this.registerToCommunicationMessages(e),this.handleData(t)}))}handleData(e){return Xo(this,void 0,void 0,(function*(){const n=yield(e=>{return n=void 0,r=void 0,o=function*(){var n;const r=null===(n=null==e?void 0:e.Analytics)||void 0===n?void 0:n.EnterpriseAccountGuid,i=Yo(e),o=yield Te.get(),s=yield bt();return{browser:S,env:o.environment,iframeApi:Co,extensionEndUserId:s,extensionGuid:e.Guid,events:gr,isEnabled:i,msaGuid:r,storage:t,logger:f,hostData:nt(),extVersion:J()}},new((i=void 0)||(i=Promise))((function(t,e){function s(t){try{c(o.next(t))}catch(t){e(t)}}function a(t){try{c(o.throw(t))}catch(t){e(t)}}function c(e){var n;e.done?t(e.value):(n=e.value,n instanceof i?n:new i((function(t){t(n)}))).then(s,a)}c((o=o.apply(n,r||[])).next())}));var n,r,i,o})(e);Jo.initIdp(n)}))}registerToCommunicationMessages(t){return Xo(this,void 0,void 0,(function*(){((t,e)=>{uo(t,"getIdpResult",((t,n)=>e.getEndUserInfo(t,{tabId:null==n?void 0:n.tabId}))),uo(t,"getIsIdpEnabled",Zo)})(t,Jo)}))}};var ts=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))};class es{init(t,e,n){return Qo.init(e,n)}applyData(t){return Qo.handleData(t)}handleSettingsCheckInterval(){return ts(this,void 0,void 0,(function*(){try{const t=yield H.get();return Qo.handleData(t)}catch(t){}}))}applyEditorAlive(t){return ts(this,void 0,void 0,(function*(){}))}}const ns=t=>{"none"===t?(f.debug("Event collector is disabled, url is: "+t),Vi.set(void 0),K.set(void 0)):(Vi.set(new ji(t)),K.set(new z(t)))};var rs=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))};class is{init(t,e,n){return rs(this,void 0,void 0,(function*(){ns(e.WalkmeServers.EventsCollectorUrl)}))}applyData(t){return rs(this,void 0,void 0,(function*(){ns(t.WalkmeServers.EventsCollectorUrl)}))}applyEditorAlive(t){return rs(this,void 0,void 0,(function*(){}))}handleSettingsCheckInterval(){return rs(this,void 0,void 0,(function*(){}))}}var os=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))};class ss{constructor(){this.isExtensionActive=!1}init(t,e,n){return os(this,void 0,void 0,(function*(){this.isExtensionActive=e.IsActive}))}applyData(t){return os(this,void 0,void 0,(function*(){this.isExtensionActive!=t.IsActive&&D()}))}applyEditorAlive(t){return os(this,void 0,void 0,(function*(){}))}handleSettingsCheckInterval(){return os(this,void 0,void 0,(function*(){}))}}var as,cs;let us;!function(t){t[t.Silly=0]="Silly",t[t.Verbose=1]="Verbose",t[t.Debug=2]="Debug",t[t.Info=3]="Info",t[t.Warn=4]="Warn",t[t.Error=5]="Error"}(as||(as={})),function(t){t[t.Background=1]="Background",t[t.ActiveTabTopContent=2]="ActiveTabTopContent",t[t.ActiveTabTopPage=3]="ActiveTabTopPage",t[t.AllContents=4]="AllContents",t[t.AllPages=5]="AllPages",t[t.OwnerContent=6]="OwnerContent",t[t.OwnedPage=7]="OwnedPage",t[t.OptionsPage=8]="OptionsPage",t[t.ActionPage=9]="ActionPage"}(cs||(cs={}));const ls=nt();us=ls.browser.name==Z.Firefox?"Mozilla":"Chromium";const hs=(t,e,n)=>{return r=void 0,i=void 0,s=function*(){const r=Object.assign({},t);r.settingsUrl=null==n?void 0:n.settingsUrl,r.updateUrl=(()=>{var t,e;try{const n=S.runtime.getManifest();return"Chromium"===us?n.update_url:null===(e=null===(t=n.applications)||void 0===t?void 0:t.gecko)||void 0===e?void 0:e.update_url}catch(t){return}})(),r.isImpersonating=null==n?void 0:n.isImpersonating,r.configSource=null==n?void 0:n.source,r.checkExtDataSignature=null==n?void 0:n.checkExtDataSignature;try{yield(i=vr.raiseEvent(Io,r),Promise.race([i,$t(1e4)]))}catch(t){}var i;const o={extensionPart:"Background",level:as.Info,message:"Daily ping",time:Date.now(),data:r},s=yield Mt(o,e);s.installationType=t.walkMeInstallMode,$(s)},new((o=void 0)||(o=Promise))((function(t,e){function n(t){try{c(s.next(t))}catch(t){e(t)}}function a(t){try{c(s.throw(t))}catch(t){e(t)}}function c(e){var r;e.done?t(e.value):(r=e.value,r instanceof o?r:new o((function(t){t(r)}))).then(n,a)}c((s=s.apply(r,i||[])).next())}));var r,i,o,s};var ds=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))};class fs extends Ii{constructor(){super(...arguments),this.checkTimeoutSeconds=60,this.sendIntervalSeconds=86400}start(t){return ds(this,void 0,void 0,(function*(){this.startRepeatedAction()}))}update(t,e){return ds(this,void 0,void 0,(function*(){}))}stop(){var t;return ds(this,void 0,void 0,(function*(){null===(t=this.repeatedActionHelper)||void 0===t||t.stop(),this.repeatedActionHelper=void 0}))}createRepeatedActionHelper(){return new qi((()=>this.sendRelevantEvents()),this.sendIntervalSeconds,this.checkTimeoutSeconds,"lastInstallModeReportTime")}sendRelevantEvents(){return ds(this,void 0,void 0,(function*(){const t=yield se(),e=yield H.get(),n=yield Te.get();hs(t,e,n),(t=>{var e,n,r,i;e=void 0,n=void 0,i=function*(){let e;switch(t.walkMeInstallMode){case"forceInstall":default:return;case"manual":e="manualInstallActive";break;case"forceNormal":e="normalInstallActive";break;case"other":e="otherInstallActive"}const n=yield Hi(e);Gi(n)},new((r=void 0)||(r=Promise))((function(t,o){function s(t){try{c(i.next(t))}catch(t){o(t)}}function a(t){try{c(i.throw(t))}catch(t){o(t)}}function c(e){var n;e.done?t(e.value):(n=e.value,n instanceof r?n:new r((function(t){t(n)}))).then(s,a)}c((i=i.apply(e,n||[])).next())}))})(t)}))}startRepeatedAction(){this.repeatedActionHelper=this.createRepeatedActionHelper(),this.repeatedActionHelper.start()}}const ps=t=>{return e=void 0,n=void 0,i=function*(){const e=yield se();switch(t.reason){case chrome.runtime.OnInstalledReason.INSTALL:f.info("Browser Extension Installed",e,l);break;case chrome.runtime.OnInstalledReason.UPDATE:f.info("Browser Extension Updated",Object.assign(Object.assign({},e),{previousVersion:t.previousVersion}),l)}},new((r=void 0)||(r=Promise))((function(t,o){function s(t){try{c(i.next(t))}catch(t){o(t)}}function a(t){try{c(i.throw(t))}catch(t){o(t)}}function c(e){var n;e.done?t(e.value):(n=e.value,n instanceof r?n:new r((function(t){t(n)}))).then(s,a)}c((i=i.apply(e,n||[])).next())}));var e,n,r,i};var gs=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))};const vs=(t,e,n)=>{const r={allFrames:!n,frameId:n,file:t};return new Promise((t=>{S.tabs.executeScript(e,r,(e=>{A()&&t(!1),t(!0)}))}))};const ms=()=>{return t=void 0,e=void 0,r=function*(){(yield new Promise((t=>{P({url:"<all_urls>"},(e=>{const n=[];e.forEach((t=>{t&&t.url&&t.id&&!t.url.startsWith("chrome://")&&t&&t.id&&n.push({tabId:t.id,allFrames:!0})})),t(n)}))}))).forEach((t=>{var e,n,r;e="walkme_content_communication_mediator.js",n=t.tabId,r=void 0,gs(void 0,void 0,void 0,(function*(){return Y.isServiceWorker?((t,e,n)=>gs(void 0,void 0,void 0,(function*(){const r={target:{tabId:e,frameIds:n,allFrames:!n},world:"ISOLATED",files:[t]};try{return yield S.scripting.executeScript(r),!0}catch(t){return!1}})))(e,n,r):vs(e,n,void 0)}))}))},new((n=void 0)||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}));var t,e,n,r};var ys=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))};class ws extends Ii{constructor(){super(),this.shouldRestoreConnection=!1}start(t){var e;return ys(this,void 0,void 0,(function*(){this.applyNewState(!1,!!(null===(e=t.Configuration)||void 0===e?void 0:e.rebindCommunicationOnExtensionUpdate))}))}update(t,e){var n;return ys(this,void 0,void 0,(function*(){this.applyNewState(this.shouldRestoreConnection,!!(null===(n=e.Configuration)||void 0===n?void 0:n.rebindCommunicationOnExtensionUpdate))}))}stop(){return ys(this,void 0,void 0,(function*(){this.applyNewState(this.shouldRestoreConnection,!1)}))}applyNewState(t,e){t!=e&&(e?Ur.events.runtime.onInstalled.register(this.onExtensionInstalled):Ur.events.runtime.onInstalled.unregister(this.onExtensionInstalled))}onExtensionInstalled(t){t.reason==chrome.runtime.OnInstalledReason.UPDATE&&ms()}}var bs=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))};class xs{constructor(t,e){this.settingsUrl=t;const n=[new $o,new ki,new Ui,new Ki,new Ro,new Wo,new es,new is,new ss,new fs,new ws];this.functionalityManager=new Ti(n,e)}start(){return bs(this,void 0,void 0,(function*(){f.trace("BackgroundWalkMeLoadingRunner start");const t=yield this.fetchExtensionData();Lr(t),Yi(),Ur.events.runtime.onInstalled.register(ps),yield this.startFunctionalityManager(t),this.listenToEditorAliveChanged();const e=this.createAndSetExtensionDataUpdater(t.UniqueDataId);this.initAndStartSettingsUpdateInterval(e,t)}))}listenToEditorAliveChanged(){Ce.registerOnEditorStatusChanged((t=>this.onEditorAliveChanged(t)))}startFunctionalityManager(t){return bs(this,void 0,void 0,(function*(){const e=Ce.getIsEditorAlive();return this.functionalityManager.init(e,t)}))}fetchExtensionData(){return bs(this,void 0,void 0,(function*(){return yield mn(this.settingsUrl,W.withCache)}))}createAndSetExtensionDataUpdater(t){const e=new Or(this.settingsUrl,t,(t=>{this.onNewExtensionDataAvailable(t)}),(()=>{this.onNoNewExtensionDataAvailable()}));return Er.set(e),e}initAndStartSettingsUpdateInterval(t,e){var n;this.extensionDataIntervalUpdater=(n=t,new Pr((()=>n.checkForUpdate(W.withCache,!0)))),this.startDataUpdateInterval(e)}startDataUpdateInterval(t){const e=t.SettingsCacheSeconds;this.extensionDataIntervalUpdater.startInterval(e)}onNewExtensionDataAvailable(t){Lr(t),this.startDataUpdateInterval(t),this.functionalityManager.applySettings(t)}onNoNewExtensionDataAvailable(){this.functionalityManager.notifySettingsDidntChange()}onEditorAliveChanged(t){this.functionalityManager.applyEditorMode(t)}}const Ss=()=>{return t=void 0,e=void 0,r=function*(){const t={console:{enabled:!1,minTopLogLevel:c.Debug,minIframeLogLevel:c.Warn},remote:{enabled:!0,minTopLogLevel:c.Info,minIframeLogLevel:c.Warn,rateLimit:{maxTimesInInterval:200,intervalInMs:6e4}}},e=!!(yield ae(void 0,void 0,void 0,(function*(){return lt(ce,"local")})));return t.console.enabled=e,t},new((n=void 0)||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}));var t,e,n,r};var Es=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))};const As="wmExtSettingsUrl",Ds="CheckExtDataSignature",Cs="wmCacheTime",Is="wmExtConfigSrc",Ts="wmExtEnvironment",_s=(t,e=void 0)=>Es(void 0,void 0,void 0,(function*(){const n=yield lt(t,"sync");return""==n?e:n})),ks=(t,e)=>Es(void 0,void 0,void 0,(function*(){return at(t,e,"sync")}));var Rs=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))};const Ls=()=>{return t=void 0,e=void 0,r=function*(){try{const e=yield Rs(void 0,void 0,void 0,(function*(){try{const t=yield Rs(void 0,void 0,void 0,(function*(){const t={name:"wm-ext-settings-url",url:(yield Xe.get()).cookieUrl};return yield ye(t)}));if(!t)return;if(t)return JSON.parse(t.value).e[0]}catch(t){f.daily(c.Error,c.Debug,"getManagedConfigModelFromCookie - failed to get from cookie.",t)}}));if(e){const n=Et(e,"cookie");return ks(As,(t=n).settingsUrl),ks(Is,t.source),ks(Ts,t.environment),ks(Cs,t.cacheTime),ks(Ds,t.checkExtDataSignature),n}}catch(t){f.debug("getExtensionConfigFromCookie - failed to load configuration from cookie.",t)}var t;try{return yield Es(void 0,void 0,void 0,(function*(){try{const t=yield _s(As);if(!t)return;const e=(yield _s(Ts))||St,n=yield _s(Cs),r=yield _s(Ds),i=yield _s(Is);return{environment:e,settingsUrl:t,source:i?"cached-"+i:"cached",checkExtDataSignature:r,cacheTime:n}}catch(t){return}}))}catch(t){f.debug("getExtensionConfigFromCookie - failed to load last cookie configuration.",t)}},new((n=void 0)||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}));var t,e,n,r};const Ps=()=>{return t=void 0,e=void 0,r=function*(){try{const t=yield Ye.get();if(!t||!t.settingsUrl)return;return Object.assign(Object.assign({},t),{source:"hardCoded"})}catch(t){return void f.daily(c.Error,c.Debug,"GetHardcodedExtensionConfig - failed to load configuration.",t)}},new((n=void 0)||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}));var t,e,n,r};const Os=()=>{return t=void 0,e=void 0,r=function*(){try{let t=yield ae(void 0,void 0,void 0,(function*(){return lt(ue,"local")}));return""===t||void 0===t?void ir.set(""):(ir.set(t),{settingsUrl:t,checkExtDataSignature:!1,isImpersonating:!0,environment:St,source:"localStorageOverride"})}catch(t){return void f.error("GetExtensionConfigFromLocalStorage - failed to load configuration.",t)}},new((n=void 0)||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}));var t,e,n,r};var Ns=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))};var Ms=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))};const Bs=void 0,Us=t=>void 0!==t,Fs=()=>Ms(void 0,void 0,void 0,(function*(){const t=yield Ns(void 0,void 0,void 0,(function*(){const t=yield Ns(void 0,void 0,void 0,(function*(){let t;try{t=(yield Qe.get()).allowedConfigSources}catch(t){}return void 0===t&&(t={cookie:!0,hardcoded:!0,managed:!0}),t})),e=[];return e.push(Os),t.hardcoded&&e.push(Ps),t.managed&&e.push(Dt),t.cookie&&e.push(Ls),e}));for(let e=0;e<t.length;e++)try{const n=yield t[e]();if(void 0!==n)return f.debug(`Extension config loaded from loader #${e} of type ${n.source}`),n}catch(t){f.error(`IterateConfigLoadersAndTryToLoad - failed to load extension config from loader #${e}`,t)}}));class qs{constructor(t=!1){this.ignoreUnhandledMessages=t,this.events={}}handleMessage(t,e,n){var r;const i=null!==(r=jn[t.action])&&void 0!==r?r:c.Debug;if(f.log(i,`MessageRouter - handleMessage (${t.action})`,t,u),!t.action)return f.debug(`message ${t} has no action, ignoring.`),!1;const o=this.events[t.action],s=this.checkCanHandle(t,o);return s.canHandle?(o.handle(t,n).then((n=>{f.log(i,`MessageRouter - done handling (${t.action})`,n,u),e&&e({success:!0,result:n})})).catch((t=>{e&&e({success:!1,error:t})})),!0):(!this.ignoreUnhandledMessages&&e&&e({success:!1,error:s.reason}),!1)}addMessageHandler(t){if(this.events[t.action])throw`action ${t.action} was already registered`;this.events[t.action]=t}getMessageHandler(t){return this.events[t]}removeMessageHandler(t){delete this.events[t]}checkCanHandle(t,e){return e?this.isOriginBlockedForHandler(t,e)?(f.debug(`blocked message ${t.action} from ${t.originPart} due to blocked origin`),{canHandle:!1,reason:"origin not allowed"}):this.isOriginAllowedForHandler(t,e)?{canHandle:!0}:(f.debug(`blocked message ${t.action} from ${t.originPart} due to not allowed origin`),{canHandle:!1,reason:"origin not allowed"}):(f.debug(`message ${t.action} from ${t.originPart} has no handler`),{canHandle:!1,reason:"unknown action: "+t.action})}isOriginBlockedForHandler(t,e){return!(!e.blockedOrigins||!e.blockedOrigins.length)&&!(void 0!==t.originPart&&!e.blockedOrigins.includes(t.originPart))}isOriginAllowedForHandler(t,e){return!e.allowedOrigins||!e.allowedOrigins.length||!(void 0===t.originPart||!e.allowedOrigins.includes(t.originPart))}}const Hs=(...t)=>{return e=void 0,n=void 0,i=function*(){yield Jn(...t),yield Yn(...t)},new((r=void 0)||(r=Promise))((function(t,o){function s(t){try{c(i.next(t))}catch(t){o(t)}}function a(t){try{c(i.throw(t))}catch(t){o(t)}}function c(e){var n;e.done?t(e.value):(n=e.value,n instanceof r?n:new r((function(t){t(n)}))).then(s,a)}c((i=i.apply(e,n||[])).next())}));var e,n,r,i};var js=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))};let Vs,Gs,Ws=!1;const zs=()=>{f.debug("serviceWorker keepalive port reconnect timeout"),$s()},Ks=()=>{f.debug("serviceWorker keepalive port disconnected"),$s()},$s=()=>{null==Vs||Vs.disconnect(),Vs=void 0,Zs()},Js=(t,e)=>void 0!==t&&t!==S.tabs.TAB_ID_NONE&&!(!e||!/^(file|https?):/.test(e)),Ys=t=>{f.debug("serviceWorker keepalive retry connect on tab update"),Js(t.tabId,t.changeInfo.url)&&Zs()},Zs=()=>js(void 0,void 0,void 0,(function*(){if(Vs||Ws)return;Ws=!0,Ur.events.tabs.onUpdated.unregister(Ys);const t=yield S.tabs.query({url:"*://*/*"});for(const e of t)try{if(Js(e.id,e.url)){const t={target:{tabId:e.id},func:()=>chrome.runtime.connect({name:"wmExtensionKeepAlive"})};return f.debug("serviceWorker keepalive trying connect on tab "+e.id),yield chrome.scripting.executeScript(t),void(Ws=!1)}}catch(t){}Ws=!1,Ur.events.tabs.onUpdated.register(Ys)})),Xs=()=>js(void 0,void 0,void 0,(function*(){try{yield S.storage.local.get("wm-keepalive")}catch(t){}})),Qs=()=>js(void 0,void 0,void 0,(function*(){Y.isServiceWorker&&(S.runtime.onConnect.addListener((t=>{"wmExtensionKeepAlive"===t.name&&(t=>{f.debug("serviceWorker keepalive port connected"),clearTimeout(Gs),Vs=t,Gs=setTimeout(zs,295e3),t.onDisconnect.addListener(Ks)})(t)})),Zs(),setInterval(Xs,1e4))}));var ta=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))};const ea=new qi((()=>na()),86400,3600,"lastNoConfigSendTime"),na=()=>ta(void 0,void 0,void 0,(function*(){const t=yield se();hs(t,void 0,void 0)}));var ra=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))};const ia=()=>ra(void 0,void 0,void 0,(function*(){try{const t=yield Ms(void 0,void 0,void 0,(function*(){const t=yield((t,e,n,r,i)=>Ie(void 0,void 0,void 0,(function*(){for(let i=0;i<r;i++){const r=yield t();if(n(r))return r;yield $t(e)}return i})))(Fs,5e3,Us,24,Bs);if(t===Bs)throw Error("Failed to load extension configuration from all possible sources.");return t.settingsUrl.endsWith(".js")&&(t.settingsUrl+="on"),t}));Te.set(t),f.trace("Extensions configuration was successfully set.")}catch(t){ta(void 0,void 0,void 0,(function*(){const t=(yield Xe.get()).eventCollector;ns(t),ea.start()})),f.error("Background - failed to load extension configuration.")}})),oa=ra(void 0,void 0,void 0,(function*(){var t,e,n,r,i;(()=>{const t=Date.now(),e=t,n=ot.newGuidNoHyphens(),r=new pt("wmExtInstallTime",(()=>t),"local");Pt=r.get().then((t=>{Lt={startTime:e,installTime:t,runId:n}})).catch((()=>{Lt={startTime:e,installTime:t,runId:n}})).finally((()=>{Pt=void 0}))})(),Qs(),yield(t={extensionPart:"Background",fetchLogConfig:Ss,logToEventCollector:Bt,sendMessageFunction:B,logToConsole:Hs},e=void 0,n=void 0,r=void 0,i=function*(){var e;Mn.set(t.extensionPart),I.set(null!==(e=t.messageOrigin)&&void 0!==e?e:t.extensionPart),y.set(t.sendMessageFunction);const n=yield t.fetchLogConfig();rr(n),Qn.set(t.logToEventCollector),Kn.set(t.logToConsole||Jn)},new(r||(r=Promise))((function(t,o){function s(t){try{c(i.next(t))}catch(t){o(t)}}function a(t){try{c(i.throw(t))}catch(t){o(t)}}function c(e){var n;e.done?t(e.value):(n=e.value,n instanceof r?n:new r((function(t){t(n)}))).then(s,a)}c((i=i.apply(e,n||[])).next())}))),f.debug("Background Start");const o=new qs;yield Rr(o),f.trace("after initBackground"),Y.getGlobalScope()._wmExtensionApi=new Ft,yield ia(),f.trace("after loadAndSetConfig");const s=yield Te.get(),a=new xs(s.settingsUrl,o);yield a.start(),f.debug("End of Background script")}));((t,e)=>{for(const n in t.events){const r=t.events[n];for(const t in r)r[t].startListening(e)}})(Ur,oa)})()})();